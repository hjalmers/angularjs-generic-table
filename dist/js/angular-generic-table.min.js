angular.module("angular.generic.table",["ngAnimate","angular.filter","angular.bind.notifier","ngCsv"]),!function(e){try{e=angular.module("angular.generic.table")}catch(t){e=angular.module("angular.generic.table",[])}e.run(["$templateCache",function(e){e.put("generic-table/directive/generic-table/generic-table.html",'<div class="generic-table"><div class="gt-wrapper"><table class="table table-sortable" ng-if="gtHasData" ng-class=":gtRefresh:gtClasses"><thead><tr ng-class="::gtRowTransition ? \'fade-in animate\':\'\'"><th ng-repeat="field in ::gtFields | orderBy:\'columnOrder\' track by field.objectKey" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="[field.classNames, (field.objectKey | camelToDash) + \'-column\', \'sort-\'+(gtSettings | getProperty:field.objectKey:\'sort\')]" ng-click=":gtRefresh:(gtSettings | getProperty:field.objectKey:\'sort\') === \'enable\' ? sort($event,field.objectKey):(gtSettings | getProperty:field.objectKey:\'sort\') === \'asc\' ? sort($event,field.objectKey):(gtSettings | getProperty:field.objectKey:\'sort\') === \'desc\' ? sort($event,field.objectKey):\'\'" ng-bind="::field.name"></th></tr><tr ng-if="::gtTotals" ng-class="::gtRowTransition ? \'fade-in animate\':\'\'"><td ng-repeat="field in ::gtFields | orderBy:\'columnOrder\' track by field.objectKey" class="total-column" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="::[(gtFields | getProperty:field.objectKey:\'classNames\'), (field.objectKey | camelToDash) + \'-column\']" field-settings="::field" gt-render="" active-bindings="::bindings" row-data="::gtTotals" gt-compile="::field.compile"></td></tr></thead><tbody><tr gt-row="" ng-repeat="(rowIndex, row) in :gtRefresh:gtDisplayData | limitTo: displayRows" gt-event="" ng-class=":gtRefresh:[gtRowTransition ? \'fade-in animate\':\'\',row.isOpen ? \'row-open\':\'\', $index % 2 == 0 ? \'row-odd\':\'row-even\', gtRowInfo[$index] ? \'true-class\':\'false-class\']"><td ng-repeat="(fieldIndex, field) in :gtRefresh:gtFields | orderBy:\'columnOrder\' track by field.objectKey" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="::[(gtFields | getProperty:field.objectKey:\'classNames\'), (field.objectKey | camelToDash) + \'-column\']"><span class="gt-row-label" ng-if="::(gtFields | getProperty:field.objectKey:\'stackedHeading\')" ng-bind="::(gtFields | getProperty:field.objectKey:\'stackedHeading\')=== true ? (gtFields | getProperty:field.objectKey:\'name\'):(gtFields | getProperty:field.objectKey:\'stackedHeading\')"></span><span class="gt-row-content" ng-class="::field.click ? \'gt-click-enabled\':\'\'" field-settings="::field" gt-render="" active-bindings="::bindings" row-data="::row" gt-compile="::field.compile" ng-click=":gtRefresh:!field.click || field.click(row);!field.expand || toggleRow(field.expand,(gtSettings | filter:{\'visible\':true}:true).length,row,field.objectKey);"></span></td></tr></tbody><tr ng-if=":gtRefresh:pagination === false"><td class="gt-no-data" colspan="{{:gtRefresh:(gtSettings | filter:{\'visible\':true}:true).length}}" ng-bind="::gtTranslations.noData"></td></tr></table></div><div class="gt-pagination text-center" ng-if=":gtRefresh:gtPagination === true && pagination !== false"><ul class="pagination"><li ng-class=":gtRefresh:{disabled: currentPage === 0}" ng-show="currentPage !== 0"><button class="btn-link link" ng-click="previousPage()" ng-disabled=":gtRefresh:currentPage === 0" ng-bind-html="::gtTranslations.previous"></button></li><li ng-show=":gtRefresh:currentPage > 3"><button class="btn-link link" ng-click="setPage(0)">1</button><small>&hellip;</small></li><li style="display: inline;padding: 0 5px;" ng-repeat="page in :gtRefresh:pagination" ng-class=":gtRefresh:page === currentPage ? \'active\':\'\'"><button class="btn-link link" ng-click="setPage(page)" ng-bind="page+1"></button></li><li ng-show=":gtRefresh:currentPage +1 < pages.length-1 && pages.length > 4"><small ng-show=":gtRefresh:currentPage + 3 < pages.length">&hellip;</small><button class="btn-link link" ng-click="setPage(pages.length-1)" ng-bind="pages.length"></button></li><li ng-class=":gtRefresh:{disabled: currentPage == pages.length}" ng-show=":gtRefresh:currentPage+1 !== pages.length"><button class="btn-link link" ng-click="nextPage()" ng-disabled=":gtRefresh:currentPage+1 === pages.length" ng-bind-html="::gtTranslations.next"></button></li></ul></div></div>')}])}(),angular.module("angular.generic.table").directive("genericTable",function(){return{restrict:"E",replace:!0,scope:{gtId:"=?gtId",gtClasses:"@gtClasses",gtSettings:"=gtSettings",gtFields:"=gtFields",gtTotals:"=?gtTotals",gtData:"=?gtData",gtRows:"@gtRows",gtRowTransition:"@gtRowTransition",gtPagination:"@gtPagination",gtExpand:"=?",gtTranslations:"=?"},templateUrl:"generic-table/directive/generic-table/generic-table.html",link:function(e,t,n,i){},controller:"genericTableController"}}).controller("genericTableController",["$scope","$filter","$timeout","CSV","$document",function(e,t,n,i,r){var a,o,s,g,l,c,d,f="undefined"!=typeof e.gtSettings&&t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey});e.gtPagination="undefined"==typeof e.gtPagination||"false"!==e.gtPagination,e.gtRows="undefined"==typeof e.gtRows?20:e.gtRows,e.gtTranslations="undefined"==typeof e.gtTranslations?{}:e.gtTranslations,e.gtTranslations.noData="undefined"==typeof e.gtTranslations.noData?"No table data to display":e.gtTranslations.noData,e.gtTranslations.previous="undefined"==typeof e.gtTranslations.previous?"&laquo; Prev":e.gtTranslations.previous,e.gtTranslations.next="undefined"==typeof e.gtTranslations.next?"Next &raquo;":e.gtTranslations.next,e.gtId="undefined"==typeof e.gtId?e.$id:e.gtId,e.gtExpand="undefined"==typeof e.gtExpand?{}:e.gtExpand,e.gtExpand.directive="undefined"==typeof e.gtExpand.directive?"":e.gtExpand.directive,e.gtExpand.multiple="undefined"!=typeof e.gtExpand.multiple&&e.gtExpand.multiple,e.gtExpand.rows="undefined"==typeof e.gtExpand.rows?[]:e.gtExpand.rows,e.bindings=[],e.syncRows=function(t,n){if(t&&e.gtDisplayData){for(var i=0;i<e.gtDisplayData.length;i++)e.gtExpand.rows.indexOf(i)===-1&&e.$broadcast("$gt-open-row:"+i,n);e.$broadcast("$$rebind::gtRefresh")}else if(e.gtDisplayData){for(var i=0;i<e.gtRows;i++)e.gtExpand.rows.indexOf(i)!==-1&&e.$broadcast("$gt-close-row:"+i);e.$broadcast("$$rebind::gtRefresh")}},e.removeBinding=function(){var n=t("map")(e.gtDisplayData,"$$hashKey");if(e.bindings.length>0)for(var i=0;i<e.bindings.length;i++)n&&n.indexOf(e.bindings[i].$$hashKey)===-1&&e.bindings[i].scope.$destroy()};var u=function(){t("map")(e.gtSettings,function(n){try{var i=t("filter")(e.gtFields,{objectKey:n.objectKey},!0)[0];i.columnOrder=n.columnOrder,n["export"]===!1&&(i.exportField=!1)}catch(r){console.log('field definition object for property: "'+n.objectKey+'" not found.',r)}})};u();var p=function(t){e.gtHasData=!1,a=t.slice(0),e.$emit("gt-started-data-processing",e.gtId),h(t)},b=function(t){e.gtHasData=!1,a=t.slice(0),e.$emit("gt-started-data-processing",e.gtId),h(t)},h=function(n){l=t("map")(t("removeWith")(e.gtFields.slice(0),{search:!1}),"objectKey");var i=t("map")(t("filter")(e.gtSettings,{enabled:!0},!0),"objectKey");o=t("map")(n,function(n){var r={};return t("map")(i,function(i){if("undefined"!=typeof n[i])r[i]=n[i];else{var a=t("map")(t("filter")(e.gtFields,{objectKey:i},!0),"value")[0];a&&angular.isFunction(a)?r[i]=a(n):console.log('property: "'+i+'" does not exists in data object and no value function was declared')}}),r}),y(o)},y=function(n,i){var r=t("filter")(n.slice(0),c,function(e,t){return t.indexOf(e)>-1},!0).slice(0);s=t("searchRow")(r,l,i,e.gtFields),v()},v=function(){g=f!==!1?t("gtSort")(s,f,e.gtFields):s,w()},m=function(e,t){for(var n=[],i=e.length,r=0;r<i;r+=t)n.push(e.slice(r,r+t));return n},w=function(){e.pages=m(g,parseInt(e.gtRows)),e.currentPage=0,e.loading=!0,e.$emit("gt-started-rendering"),e.gtDisplayData=e.pages[e.currentPage],$(e.pages.length,e.currentPage),n(function(){e.$emit("gt-finished-data-processing",e.gtId),e.gtHasData=!0},200),e.$broadcast("$$rebind::gtRefresh")};e.$on("gt-update-table:"+e.gtId,function(e,t){b(t)}),e.$on("gt-search-table:"+e.gtId,function(e,t){d=t,y(o.slice(0),t)}),e.$on("gt-filter-table:"+e.gtId,function(e,t){c=t,y(o.slice(0),d)}),e.$on("gt-open-all-rows:"+e.gtId,function(t,n){e.syncRows(!0,!0)}),e.$on("gt-close-all-rows:"+e.gtId,function(t,n){e.syncRows(!1)}),e.$on("gt-update-structure:"+e.gtId,function(n,i){e.gtFields=i.fields,e.gtSettings=i.settings,u(),l=t("map")(t("removeWith")(e.gtFields.slice(0),{search:!1}),"objectKey"),f===!1||i.forceSorting===!0?f=t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey}):(t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){e.sort="enable"}),t("map")(f,function(n){var i=n.indexOf("-")===-1?"asc":"desc";n=n.replace("-",""),t("filter")(e.gtSettings,{objectKey:n},!0)[0].sort=i}))}),e.$on("gt-paginate-table:"+e.gtId,function(t,n){e.gtRows=parseInt(n),w()}),e.$on("gt-export-csv:"+e.gtId,function(e,t){x(t)});var $=function(t,n){return e.syncRows(!1),e.removeBinding(),e.pagination=[],0===t?(e.pagination=!1,void e.$emit("gt-table-filtered",{total:o.length,filtered:0,showingFrom:0,showingTo:0,pageLength:e.gtRows,currentPage:0,numberOfPages:0})):(t<2?e.pagination=[0]:t<3?e.pagination=[0,1]:t<4?e.pagination=[0,1,2]:t<5?e.pagination=[0,1,2,3]:n<4?e.pagination=[0,1,2,3,4]:t>n+1?e.pagination=[n-1,n,n+1]:t===n+1?e.pagination=[n-2,n-1,n]:t-4>n&&(e.pagination=[n-1,n,n+1,n+2]),void e.$emit("gt-table-filtered",{total:o.length,filtered:s.length,showingFrom:e.currentPage*e.gtRows+(e.currentPage>1?0:1),showingTo:e.currentPage*e.gtRows+e.gtDisplayData.length,pageLength:e.gtRows,currentPage:e.currentPage,numberOfPages:e.pages.length}))};e.nextPage=function(){try{e.currentPage++,e.gtDisplayData=e.pages[e.currentPage],$(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(t){console.log(t)}},e.previousPage=function(){try{e.currentPage--,e.gtDisplayData=e.pages[e.currentPage],$(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(t){console.log(t)}},e.setPage=function(t){try{e.currentPage=t,e.gtDisplayData=e.pages[e.currentPage],$(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(n){console.log(n)}},e.sort=function(n,i){var r=n.ctrlKey||n.metaKey;if(!r&&i)for(var a=0;e.gtSettings.length>a;a++){var o=e.gtSettings[a];(o.objectKey!==i&&"asc"===o.sort||o.objectKey!==i&&"desc"===o.sort)&&(e.gtSettings[a].sort="enable")}if(i)for(var a=0;e.gtSettings.length>a;a++){var o=e.gtSettings[a];if(o.objectKey===i){var s=o.sort;switch(s){case"disable":break;case"enable":e.gtSettings[a].sort="asc";break;case"asc":e.gtSettings[a].sort="desc";break;case"desc":e.gtSettings[a].sort="enable"}}}f=t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey}),v()},e.gtData&&p(e.gtData);var x=function(a){a="undefined"==typeof a?{}:a;for(var o="undefined"==typeof a.fileName?"export":a.fileName,s=JSON.parse(angular.toJson(g.slice(0))),l=0;l<s.length;l++){var c=s[l];for(var d in c)if(c.hasOwnProperty(d)){var f=t("filter")(e.gtFields,{objectKey:d},!0)[0],u=(t("filter")(e.gtSettings,{objectKey:d},!0)[0],f["export"]);if(u&&angular.isFunction(u)){var p=u(c,d);c[d]=f.exportEscapeString===!1?p:t("escapeCsvString")(p)}else c[d]=f.exportEscapeString===!1?c[d]:t("escapeCsvString")(c[d])}}var b=s;if("undefined"!=typeof a.exportColumns)var h=t("map")(a.exportColumns,function(n){return t("filter")(e.gtFields.slice(0),{objectKey:n},!0)[0]});else var h=t("orderBy")(t("removeWith")(e.gtFields,{exportField:!1}),"columnOrder");var y={fieldSep:"undefined"==typeof a.fieldSep?";":a.fieldSep,header:t("map")(h,"name"),txtDelim:"undefined"==typeof a.txtDelim?'"':a.txtDelim,columnOrder:t("map")(h,"objectKey"),decimalSep:"undefined"==typeof a.decimalSep?",":a.decimalSep,addByteOrderMarker:"undefined"==typeof a.addBom,charset:"undefined"==typeof a.charset?"utf-8":a.charset,quoteStrings:"undefined"!=typeof a.quoteStrings&&a.quoteStrings};i.stringify(b,y).then(function(e){var t;if(window.navigator.msSaveOrOpenBlob)t=new Blob([e],{type:"text/csv;charset=utf-8;"}),navigator.msSaveBlob(t,"export.csv");else if("Microsoft Internet Explorer"===window.navigator.appName){window.alert("You're using an old version of Internet Explorer and the export might therefore have the wrong format, please update your browser.");var i=angular.element("<iframe></iframe>");i[0].style.display="none";var a=angular.element("body");a.append(i);var s=null;i[0].contentDocument?s=i[0].contentDocument:i[0].contentWindow&&(s=i[0].contentWindow.document),s.open("text/plain","replace"),s.write([e]),s.close(),s.execCommand("SaveAs",!0,o+".csv")}else{t=new Blob([e],{type:"text/csv;charset=utf-8;"});var g=angular.element("<a></a>");g.attr("href",window.URL.createObjectURL(t)),g.attr("download",o+".csv"),r.find("body").append(g),n(function(){g[0].click(),g.remove()},null)}})}}]).directive("gtRow",["$compile","$filter",function(e,t){return{restrict:"A",scope:!1,link:function(n,i,r,a){var o=t("filter")(n.gtSettings,{visible:!0},!0).length,s=function(t){n.gtExpand.multiple||t?"":n.syncRows(!1);var r=n.$new(),a=e('<tr class="expanded-row"><td colspan="'+o+'">'+n.gtExpand.directive+"</td></tr>")(r);i.after(a),n.row.isOpen=!0,n.gtExpand.rows.push(l)},g=function(){n.row.isOpen=!1,n.gtExpand.rows.splice(n.gtExpand.rows.indexOf(l),1),i.next().scope().$destroy(),i.next().remove()},l=n.$index;n.toggleRow=function(){var e=n.gtExpand.rows.indexOf(l)!==-1;e?g():s(),n.$broadcast("$$rebind::gtRefresh")},n.$on("$gt-open-row:"+l,function(e,t){var i=n.gtExpand.rows.indexOf(l)!==-1;i||s(t)}),n.$on("$gt-close-row:"+l,function(){var e=n.gtExpand.rows.indexOf(l)!==-1;e&&g()})}}}]).directive("gtEvent",function(){return{restrict:"A",link:function(e,t,n,i){e.$last&&e.$emit("gt-finished-rendering",e.gtId)}}}).directive("gtRender",["$compile",function(e){return{restrict:"A",scope:{row:"=rowData",settings:"=fieldSettings",compile:"=gtCompile",activeBindings:"=activeBindings"},link:function(t,n,i,r){var a,o=t.row,s=t.settings.objectKey,g=t.settings.render;if(a=g&&angular.isFunction(g)?g(o,s):o[s],t.compile&&t.compile!==!1){var l;t.compile!==!0&&t.compile.$watch?(l=t.compile.$new(),t.activeBindings.push({$$hashKey:t.row.$$hashKey,scope:l})):l=t.$parent.$new(),a=e(a)(l),n.append(a)}else n[0].innerHTML=null===a?"":a}}}]).filter("getProperty",["$filter",function(e){return function(t,n,i){try{var r=e("filter")(t,{objectKey:n},!0)[0][i]}catch(a){console.log('cannot read property: "'+i+'" on missing key: "'+n+'" in settings.',a)}return r}}]).filter("searchRow",["$filter","$interpolate",function(e,t){return function(t,n,i,r){for(var a={},o=0;o<r.length;o++){var s=r[o];if(s.search&&angular.isFunction(s.search)){var g=s.objectKey;a[g]=s.search}}if(!i||0===i.replace(/"/g,"").length)return t;var l=[];i="undefined"==typeof i?"":i;for(var c=i.toLowerCase().match(/"[^"]+"|[\w]+/g),d=0;d<t.length;d++){var f=t[d],u="",p=0;e("map")(n,function(e){var t=0===p?"":" & ";u+=a[e]?t+a[e](f,e):t+f[e],p++}),u=u.toLowerCase();for(var b=!0,o=0;o<c.length;o++){var h=c[o].replace(/"/g,"");if(b=u.indexOf(h)!==-1,!b)break}b&&l.push(f)}return l}}]).filter("camelToDash",function(){return function(e){try{return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}catch(t){console.log("nothing to replace:",t)}}}).filter("gtSort",function(){return function(e,t,n){function i(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,i){var r=null===n[e]?"":a[e]?a[e](n,e):n[e],o=null===i[e]?"":a[e]?a[e](i,e):i[e],s=r<o?-1:r>o?1:0;return s*t}}function r(e){var t=e;return function(e,n){for(var r=0,a=0,o=t.length;0===a&&r<o;)a=i(t[r])(e,n),r++;return a}}for(var a={},o=0;o<n.length;o++){var s=n[o];s.sort&&angular.isFunction(s.sort)&&(a[s.objectKey]=s.sort)}return e.sort(r(t))}}).filter("escapeCsvString",function(){return function(e){return/^(\=|\@|\+,\-).*/g.test(e)?"'"+e:e}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyaWMtdGFibGUuanMiLCJhbmd1bGFyLmdlbmVyaWMudGFibGUudHBsLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJlIiwidCIsInJ1biIsInB1dCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsInNjb3BlIiwiZ3RJZCIsImd0Q2xhc3NlcyIsImd0U2V0dGluZ3MiLCJndEZpZWxkcyIsImd0VG90YWxzIiwiZ3REYXRhIiwiZ3RSb3dzIiwiZ3RSb3dUcmFuc2l0aW9uIiwiZ3RQYWdpbmF0aW9uIiwiZ3RFeHBhbmQiLCJndFRyYW5zbGF0aW9ucyIsInRlbXBsYXRlVXJsIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsImZuIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRmaWx0ZXIiLCIkdGltZW91dCIsIkNTViIsIiRkb2N1bWVudCIsIm9yaWdpbmFsRGF0YSIsIm1hcHBlZERhdGEiLCJmaWx0ZXJlZERhdGEiLCJzb3J0ZWREYXRhIiwic2VhcmNoQ29sdW1ucyIsInRhYmxlRmlsdGVycyIsInNlYXJjaFRlcm1zIiwic29ydGluZyIsInNvcnQiLCJleHBlY3RlZCIsImFjdHVhbCIsImluZGV4T2YiLCJvYmplY3RLZXkiLCJub0RhdGEiLCJwcmV2aW91cyIsIm5leHQiLCIkaWQiLCJtdWx0aXBsZSIsInJvd3MiLCJiaW5kaW5ncyIsInN5bmNSb3dzIiwib3BlbiIsImZvcmNlIiwiZ3REaXNwbGF5RGF0YSIsImkiLCJsZW5ndGgiLCIkYnJvYWRjYXN0IiwicmVtb3ZlQmluZGluZyIsImFjdGl2ZUl0ZW1zIiwiJCRoYXNoS2V5IiwiJGRlc3Ryb3kiLCJleHRlbmRGaWVsZERlZmluaXRpb25zIiwic2V0dGluZyIsImZpZWxkIiwiY29sdW1uT3JkZXIiLCJleHBvcnRGaWVsZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImluaXRUYWJsZSIsImluaXREYXRhIiwiZ3RIYXNEYXRhIiwic2xpY2UiLCIkZW1pdCIsIm1hcEtleXMiLCJjaGFuZ2VEYXRhIiwibmV3RGF0YSIsImRhdGEiLCJzZWFyY2giLCJwcm9wZXJ0aWVzIiwiZW5hYmxlZCIsInJvdyIsIm9iaiIsInByb3BlcnR5IiwidmFsdWVGdW5jdGlvbiIsImlzRnVuY3Rpb24iLCJhcHBseUZpbHRlciIsImZpbHRlcmVkIiwiYXBwbHlTb3J0IiwiYXBwbHlQYWdpbmF0aW9uIiwiZ3RDaHVuayIsImFyciIsImNodW5rU2l6ZSIsInJlc3VsdCIsImFyclNpemVDYWNoZSIsInB1c2giLCJwYWdlcyIsInBhcnNlSW50IiwiY3VycmVudFBhZ2UiLCJsb2FkaW5nIiwicGFnaW5hdGlvbiIsIiRvbiIsImV2ZW50IiwiYXJnIiwiZmllbGRzIiwic2V0dGluZ3MiLCJmb3JjZVNvcnRpbmciLCJzb3J0UHJvcGVydHkiLCJndEV4cG9ydCIsInRvdGFsUGFnZXMiLCJ0b3RhbCIsInNob3dpbmdGcm9tIiwic2hvd2luZ1RvIiwicGFnZUxlbmd0aCIsIm51bWJlck9mUGFnZXMiLCJuZXh0UGFnZSIsInByZXZpb3VzUGFnZSIsInNldFBhZ2UiLCJwYWdlIiwiJGV2ZW50IiwiY3RybEtleSIsIm1ldGFLZXkiLCJvcHRpb25zIiwiZmlsZU5hbWUiLCJleHBvcnREYXRhIiwiSlNPTiIsInBhcnNlIiwidG9Kc29uIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJmaWVsZFNldHRpbmciLCJleHBvcnRNZXRob2QiLCJleHBvcnRWYWx1ZSIsImV4cG9ydEVzY2FwZVN0cmluZyIsImV4cG9ydENvbHVtbnMiLCJleHBvcnRGaWVsZHMiLCJoZWFkZXJzIiwiZmllbGRTZXAiLCJoZWFkZXIiLCJ0eHREZWxpbSIsImRlY2ltYWxTZXAiLCJhZGRCeXRlT3JkZXJNYXJrZXIiLCJhZGRCb20iLCJjaGFyc2V0IiwicXVvdGVTdHJpbmdzIiwic3RyaW5naWZ5IiwidGhlbiIsImJsb2IiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJtc1NhdmVPck9wZW5CbG9iIiwiQmxvYiIsInR5cGUiLCJtc1NhdmVCbG9iIiwiYXBwTmFtZSIsImFsZXJ0IiwiaWZyYW1lIiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwZW5kIiwiZG9jIiwiY29udGVudERvY3VtZW50IiwiY29udGVudFdpbmRvdyIsImRvY3VtZW50Iiwid3JpdGUiLCJjbG9zZSIsImV4ZWNDb21tYW5kIiwiZG93bmxvYWRMaW5rIiwiYXR0ciIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImZpbmQiLCJjbGljayIsInJlbW92ZSIsIiRjb21waWxlIiwiY29sdW1ucyIsInZpc2libGUiLCJhZGRSb3ciLCJvcGVuQWxsIiwibmV3U2NvcGUiLCIkbmV3IiwiYWZ0ZXIiLCJpc09wZW4iLCJpbmRleCIsInJlbW92ZVJvdyIsInNwbGljZSIsIiRpbmRleCIsInRvZ2dsZVJvdyIsImV4cGFuZGVkIiwiJGxhc3QiLCJjb21waWxlIiwiYWN0aXZlQmluZGluZ3MiLCJvdXRwdXQiLCJyZW5kZXJNZXRob2QiLCJyZW5kZXIiLCJlbGVtZW50U2NvcGUiLCIkd2F0Y2giLCIkcGFyZW50IiwiaW5uZXJIVE1MIiwiZmlsdGVyIiwiJGludGVycG9sYXRlIiwiYXJyYXkiLCJmaWVsZHNTZXR0aW5ncyIsImsiLCJmaWx0ZXJlZEFycmF5Iiwic2VhcmNoVGVybXNBcnJheSIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJzdHJpbmciLCJqIiwic2VwYXJhdG9yIiwidGVybSIsInByb3BlcnR5QXJyYXkiLCJkeW5hbWljU29ydCIsInNvcnRPcmRlciIsInN1YnN0ciIsImEiLCJiIiwidmFsdWUxIiwiY3VzdG9tU29ydCIsInZhbHVlMiIsImR5bmFtaWNTb3J0TXVsdGlwbGUiLCJwcm9wcyIsIm9iajEiLCJvYmoyIiwibnVtYmVyT2ZQcm9wZXJ0aWVzIiwiaW5wdXQiLCJ0ZXN0Il0sIm1hcHBpbmdzIjoiQUFPQUEsUUFBQUMsT0FBQSx5QkFBQSxZQUFBLGlCQUFBLHdCQUFBLFdDUEEsU0FBQUMsR0FBQSxJQUFBQSxFQUFBRixRQUFBQyxPQUFBLHlCQUFBLE1BQUFFLEdBQUFELEVBQUFGLFFBQUFDLE9BQUEsNEJB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QXJJLEdBQUEsR0FBQXdJLEVBQUF4SSxHQUFBd0ksRUFBQXhJLEdBQUFxSSxFQUFBckksR0FBQXFJLEVBQUFySSxHQUNBeUksRUFBQSxPQUFBSCxFQUFBdEksR0FBQSxHQUFBd0ksRUFBQXhJLEdBQUF3SSxFQUFBeEksR0FBQXNJLEVBQUF0SSxHQUFBc0ksRUFBQXRJLEdBQ0FVLEVBQUE2SCxFQUFBRSxLQUFBRixFQUFBRSxFQUFBLEVBQUEsQ0FDQSxPQUFBL0gsR0FBQXlILEdBR0EsUUFBQU8sR0FBQVQsR0FNQSxHQUFBVSxHQUFBVixDQUNBLE9BQUEsVUFBQVcsRUFBQUMsR0FLQSxJQUpBLEdBQUExSyxHQUFBLEVBQUF1QyxFQUFBLEVBQUFvSSxFQUFBSCxFQUFBdkssT0FJQSxJQUFBc0MsR0FBQXZDLEVBQUEySyxHQUNBcEksRUFBQXdILEVBQUFTLEVBQUF4SyxJQUFBeUssRUFBQUMsR0FDQTFLLEdBRUEsT0FBQXVDLElBeENBLElBQUEsR0FIQThILE1BR0FySyxFQUFBLEVBQUFBLEVBQUFrRCxFQUFBakQsT0FBQUQsSUFBQSxDQUNBLEdBQUFTLEdBQUF5QyxFQUFBbEQsRUFHQVMsR0FBQXpCLE1BQUF4QyxRQUFBdUYsV0FBQXRCLEVBQUF6QixRQUdBcUwsRUFBQTVKLEVBQUFyQixXQUFBcUIsRUFBQXpCLE1Bb0NBLE1BQUFtSyxHQUFBbkssS0FBQXVMLEVBQUFULE9BRUFiLE9BQUEsa0JBQUEsV0FDQSxNQUFBLFVBQUEyQixHQUNBLE1BQUEsb0JBQUFDLEtBQUFELEdBQUEsSUFBQUEsRUFBQUEiLCJmaWxlIjoiYW5ndWxhci1nZW5lcmljLXRhYmxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIGFuZ3VsYXIuZ2VuZXJpYy50YWJsZS5kaXJlY3RpdmU6Z2VuZXJpY1RhYmxlXHJcbiAqIEByZXF1aXJlcyAvLyAncHJvdmlkZSBhbnkgZGVwZW5kZW5jaWVzIGV4LiAkc2NvcGUsIHlvdSBjYW4gaGF2ZSBtdWx0aXBsZSBAcmVxdWlyZXMgbGluZXMnXHJcbiAqXHJcbiAqIEByZXN0cmljdCBFXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXNjcmlwdGlvbiBvZiBnZW5lcmljVGFibGUgZGlyZWN0aXZlLCBsb3JlbSBpcHN1bSBkb2xhciBzaXQgYW1ldFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IGRhdGEtYXR0cmlidXRlIC8vICdhdHRyaWJ1dGVzIHVzZWQgYnkgZGlyZWN0aXZlLCB5b3UgY2FuIGhhdmUgbXVsdGlwbGUgQHBhcmFtIGxpbmVzJ1xyXG4gKlxyXG4gKiAgQGV4YW1wbGUgPHByZT5cclxuICpcclxuICogPGdlbmVyaWMtdGFibGUgZGF0YS1hdHRyaWJ1dGU9XCJteS12YWx1ZVwiPjwvZ2VuZXJpYy10YWJsZT5cclxuICpcclxuICogPC9wcmU+XHJcbiAqL1xyXG5hbmd1bGFyLm1vZHVsZSgnYW5ndWxhci5nZW5lcmljLnRhYmxlJykuZGlyZWN0aXZlKCdnZW5lcmljVGFibGUnLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgIGd0SWQ6Jz0/Z3RJZCcsXHJcbiAgICAgICAgICAgIGd0Q2xhc3NlczonQGd0Q2xhc3NlcycsXHJcbiAgICAgICAgICAgIGd0U2V0dGluZ3M6Jz1ndFNldHRpbmdzJyxcclxuICAgICAgICAgICAgZ3RGaWVsZHM6Jz1ndEZpZWxkcycsXHJcbiAgICAgICAgICAgIGd0VG90YWxzOic9P2d0VG90YWxzJyxcclxuICAgICAgICAgICAgLy9ndEluZGV4Oic9Z3RJbmRleCcsXHJcbiAgICAgICAgICAgIGd0RGF0YTonPT9ndERhdGEnLFxyXG4gICAgICAgICAgICBndFJvd3M6J0BndFJvd3MnLFxyXG4gICAgICAgICAgICBndFJvd1RyYW5zaXRpb246J0BndFJvd1RyYW5zaXRpb24nLFxyXG4gICAgICAgICAgICBndFBhZ2luYXRpb246J0BndFBhZ2luYXRpb24nLFxyXG4gICAgICAgICAgICAvL2d0Tm9EYXRhVHh0OidAJyxcclxuICAgICAgICAgICAgZ3RFeHBhbmQ6Jz0/JyxcclxuICAgICAgICAgICAgZ3RUcmFuc2xhdGlvbnM6Jz0/J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdnZW5lcmljLXRhYmxlL2RpcmVjdGl2ZS9nZW5lcmljLXRhYmxlL2dlbmVyaWMtdGFibGUuaHRtbCcsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBmbikge1xyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6XCJnZW5lcmljVGFibGVDb250cm9sbGVyXCJcclxuICAgIH07XHJcbn0pLmNvbnRyb2xsZXIoJ2dlbmVyaWNUYWJsZUNvbnRyb2xsZXInLGZ1bmN0aW9uKCRzY29wZSwkZmlsdGVyLCR0aW1lb3V0LCBDU1YsJGRvY3VtZW50KXtcclxuICAgIHZhciBvcmlnaW5hbERhdGE7IC8vIG9yaWdpbmFsIHVudG91Y2hlZCBkYXRhXHJcbiAgICB2YXIgbWFwcGVkRGF0YTsgLy8gbWFwcGVkIGRhdGEsIGFycmF5IGNvbnRhaW5pbmcgbWFwcGVkIGtleXMgdXNlZCBieSB0YWJsZVxyXG4gICAgdmFyIGZpbHRlcmVkRGF0YTsgLy8gZmlsdGVyZWQgbWFwcGVkIGRhdGFcclxuICAgIHZhciBzb3J0ZWREYXRhOyAvLyBzb3J0ZWQgbWFwcGVkIGRhdGFcclxuICAgIHZhciBzZWFyY2hDb2x1bW5zOyAvLyBjb2x1bW5zIHRvIHNlYXJjaFxyXG4gICAgdmFyIHRhYmxlRmlsdGVyczsgLy8gZmlsdGVycyBhcHBsaWVkIHRvIHRoZSB0YWJsZSBpbnRlcm5hbGx5XHJcbiAgICB2YXIgc2VhcmNoVGVybXM7IC8vIHNlYXJjaCB0ZXJtcyB1c2VkIGZvciBzZWFyY2hpbmcgdGFibGVcclxuXHJcbiAgICB2YXIgc29ydGluZyA9IHR5cGVvZiAkc2NvcGUuZ3RTZXR0aW5ncyA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZTokZmlsdGVyKCdtYXAnKSgkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RTZXR0aW5ncyx7c29ydDpcImFzYyBkZXNjXCJ9LGZ1bmN0aW9uKGV4cGVjdGVkLCBhY3R1YWwpe1xyXG4gICAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgPiAtMTtcclxuICAgIH0pLGZ1bmN0aW9uKHNvcnQpe1xyXG4gICAgICAgIHJldHVybiAoc29ydC5zb3J0ID09PSAnZGVzYycgPyAnLSc6JycpICsgc29ydC5vYmplY3RLZXlcclxuICAgIH0pOyAvLyByZXR1cm5zIGFycmF5IGNvbnRhaW5pbmcgc29ydGluZyBjcml0ZXJpYVxyXG4gICAgJHNjb3BlLmd0UGFnaW5hdGlvbiA9IHR5cGVvZiAkc2NvcGUuZ3RQYWdpbmF0aW9uID09PSAndW5kZWZpbmVkJyA/IHRydWU6JHNjb3BlLmd0UGFnaW5hdGlvbiAhPT0gJ2ZhbHNlJztcclxuICAgICRzY29wZS5ndFJvd3MgPSB0eXBlb2YgJHNjb3BlLmd0Um93cyA9PT0gJ3VuZGVmaW5lZCcgPyAyMDokc2NvcGUuZ3RSb3dzO1xyXG5cclxuICAgIC8vIHRleHQgdHJhbnNsYXRpb25zXHJcbiAgICAkc2NvcGUuZ3RUcmFuc2xhdGlvbnMgPSB0eXBlb2YgJHNjb3BlLmd0VHJhbnNsYXRpb25zID09PSAndW5kZWZpbmVkJyA/IHt9OiRzY29wZS5ndFRyYW5zbGF0aW9ucztcclxuICAgICRzY29wZS5ndFRyYW5zbGF0aW9ucy5ub0RhdGEgPSB0eXBlb2YgJHNjb3BlLmd0VHJhbnNsYXRpb25zLm5vRGF0YSA9PT0gJ3VuZGVmaW5lZCcgPyAnTm8gdGFibGUgZGF0YSB0byBkaXNwbGF5Jzokc2NvcGUuZ3RUcmFuc2xhdGlvbnMubm9EYXRhO1xyXG4gICAgJHNjb3BlLmd0VHJhbnNsYXRpb25zLnByZXZpb3VzID0gdHlwZW9mICRzY29wZS5ndFRyYW5zbGF0aW9ucy5wcmV2aW91cyA9PT0gJ3VuZGVmaW5lZCcgPyAnJmxhcXVvOyBQcmV2Jzokc2NvcGUuZ3RUcmFuc2xhdGlvbnMucHJldmlvdXM7XHJcbiAgICAkc2NvcGUuZ3RUcmFuc2xhdGlvbnMubmV4dCA9IHR5cGVvZiAkc2NvcGUuZ3RUcmFuc2xhdGlvbnMubmV4dCA9PT0gJ3VuZGVmaW5lZCcgPyAnTmV4dCAmcmFxdW87Jzokc2NvcGUuZ3RUcmFuc2xhdGlvbnMubmV4dDtcclxuXHJcbiAgICAkc2NvcGUuZ3RJZCA9IHR5cGVvZiAkc2NvcGUuZ3RJZCA9PT0gJ3VuZGVmaW5lZCcgPyAkc2NvcGUuJGlkOiRzY29wZS5ndElkO1xyXG5cclxuICAgICRzY29wZS5ndEV4cGFuZCA9IHR5cGVvZiAkc2NvcGUuZ3RFeHBhbmQgPT09ICd1bmRlZmluZWQnID8ge306JHNjb3BlLmd0RXhwYW5kO1xyXG4gICAgJHNjb3BlLmd0RXhwYW5kLmRpcmVjdGl2ZSA9IHR5cGVvZiAkc2NvcGUuZ3RFeHBhbmQuZGlyZWN0aXZlID09PSAndW5kZWZpbmVkJyA/ICcnOiRzY29wZS5ndEV4cGFuZC5kaXJlY3RpdmU7XHJcbiAgICAkc2NvcGUuZ3RFeHBhbmQubXVsdGlwbGUgPSB0eXBlb2YgJHNjb3BlLmd0RXhwYW5kLm11bHRpcGxlID09PSAndW5kZWZpbmVkJyA/IGZhbHNlOiRzY29wZS5ndEV4cGFuZC5tdWx0aXBsZTtcclxuICAgICRzY29wZS5ndEV4cGFuZC5yb3dzID0gdHlwZW9mICRzY29wZS5ndEV4cGFuZC5yb3dzID09PSAndW5kZWZpbmVkJyA/IFtdOiRzY29wZS5ndEV4cGFuZC5yb3dzO1xyXG4gICAgJHNjb3BlLmJpbmRpbmdzID0gW107XHJcblxyXG4gICAgLy8gc3luYyByb3cgc3RhdGUgaS5lLiBpZiByb3cgc2hvdWxkIGJlIG9wZW5lZCBvciBjbG9zZWRcclxuICAgICRzY29wZS5zeW5jUm93cyA9IGZ1bmN0aW9uIChvcGVuLCBmb3JjZSkge1xyXG4gICAgICAgIGlmKG9wZW4gJiYgJHNjb3BlLmd0RGlzcGxheURhdGEpe1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwO2kgPCAkc2NvcGUuZ3REaXNwbGF5RGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUuZ3RFeHBhbmQucm93cy5pbmRleE9mKGkpID09PSAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyRndC1vcGVuLXJvdzonK2ksIGZvcmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmd0RGlzcGxheURhdGEpIHtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDtpIDwgJHNjb3BlLmd0Um93czsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKCRzY29wZS5ndEV4cGFuZC5yb3dzLmluZGV4T2YoaSkgIT09IC0xKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJGd0LWNsb3NlLXJvdzonK2kpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCckJHJlYmluZDo6Z3RSZWZyZXNoJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyByZW1vdmUgYmluZGluZ3MgYW5kIG9sZCB3YXRjaGVyc1xyXG4gICAgJHNjb3BlLnJlbW92ZUJpbmRpbmcgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJHNjb3BlLmd0RGlzcGxheURhdGEsJHNjb3BlLmJpbmRpbmdzKTtcclxuICAgICAgICB2YXIgYWN0aXZlSXRlbXMgPSAkZmlsdGVyKCdtYXAnKSgkc2NvcGUuZ3REaXNwbGF5RGF0YSwnJCRoYXNoS2V5Jyk7XHJcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhY3RpdmUgYmluZGluZ3MgdGhhdCB3ZSBuZWVkIHRvIHJlbW92ZS4uLlxyXG4gICAgICAgIGlmKCRzY29wZS5iaW5kaW5ncy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuYmluZGluZ3MubGVuZ3RoO2krKyl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRlbSBpcyBwYXJ0IG9mIGFjdGl2ZSB2aWV3Li4uXHJcbiAgICAgICAgICAgICAgICBpZihhY3RpdmVJdGVtcyAmJiBhY3RpdmVJdGVtcy5pbmRleE9mKCRzY29wZS5iaW5kaW5nc1tpXS4kJGhhc2hLZXkpID09PSAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLi4ucmVtb3ZlIHNjb3BlIGFuZCBhY3RpdmUgd2F0Y2hlcnMgaWYgbm90XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJpbmRpbmdzW2ldLnNjb3BlLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyBleHRlbmQgZmllbGQgZGVmaW5pdGlvbnNcclxuICAgIHZhciBleHRlbmRGaWVsZERlZmluaXRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGZpbHRlcignbWFwJykoJHNjb3BlLmd0U2V0dGluZ3MsZnVuY3Rpb24oc2V0dGluZyl7XHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9ICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndEZpZWxkcyx7b2JqZWN0S2V5OnNldHRpbmcub2JqZWN0S2V5fSx0cnVlKVswXTtcclxuICAgICAgICAgICAgICAgIGZpZWxkLmNvbHVtbk9yZGVyID0gc2V0dGluZy5jb2x1bW5PcmRlcjsgLy8gYWRkIGNvbHVtbiBvcmRlclxyXG4gICAgICAgICAgICAgICAgaWYoc2V0dGluZy5leHBvcnQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuZXhwb3J0RmllbGQgPSBmYWxzZTsgLy8gYWRkIGV4cG9ydCBmaWVsZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmllbGQgZGVmaW5pdGlvbiBvYmplY3QgZm9yIHByb3BlcnR5OiBcIicrIHNldHRpbmcub2JqZWN0S2V5ICsnXCIgbm90IGZvdW5kLicsZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGV4dGVuZEZpZWxkRGVmaW5pdGlvbnMoKTtcclxuXHJcbiAgICB2YXIgaW5pdFRhYmxlID0gZnVuY3Rpb24oaW5pdERhdGEpe1xyXG4gICAgICAgICRzY29wZS5ndEhhc0RhdGEgPSBmYWxzZTtcclxuICAgICAgICBvcmlnaW5hbERhdGEgPSBpbml0RGF0YS5zbGljZSgwKTtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXN0YXJ0ZWQtZGF0YS1wcm9jZXNzaW5nJywkc2NvcGUuZ3RJZCk7XHJcbiAgICAgICAgbWFwS2V5cyhpbml0RGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNoYW5nZSBkYXRhLCB0aGlzIHdlIHVwZGF0ZSBvciBkYXRhIHNldFxyXG4gICAgdmFyIGNoYW5nZURhdGEgPSBmdW5jdGlvbihuZXdEYXRhKXtcclxuICAgICAgICAkc2NvcGUuZ3RIYXNEYXRhID0gZmFsc2U7XHJcbiAgICAgICAgb3JpZ2luYWxEYXRhID0gbmV3RGF0YS5zbGljZSgwKTtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXN0YXJ0ZWQtZGF0YS1wcm9jZXNzaW5nJywkc2NvcGUuZ3RJZCk7XHJcbiAgICAgICAgbWFwS2V5cyhuZXdEYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gbWFwcGluZywgdGhpcyBpcyB3aGVyZSB3ZSBtYXAgd2hpY2gga2V5cyBzaG91bGQgYmUgcGFydCBvZiB0aGUgdGFibGUgYXJyYXkgcm93IG9iamVjdFxyXG4gICAgdmFyIG1hcEtleXMgPSBmdW5jdGlvbiAoZGF0YSl7XHJcblxyXG4gICAgICAgIC8vIGRlZmluZSB3aGljaCBmaWVsZHMgc2hvdWxkIGJlIHNlYXJjaGFibGVcclxuICAgICAgICBzZWFyY2hDb2x1bW5zID0gJGZpbHRlcignbWFwJykoJGZpbHRlcigncmVtb3ZlV2l0aCcpKCRzY29wZS5ndEZpZWxkcy5zbGljZSgwKSx7c2VhcmNoOmZhbHNlfSksJ29iamVjdEtleScpO1xyXG5cclxuICAgICAgICAvLyBnZXQga2V5IG5hbWVzIGZyb20gc2V0dGluZ3NcclxuICAgICAgICB2YXIgcHJvcGVydGllcyA9ICRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndFNldHRpbmdzLCB7ZW5hYmxlZDp0cnVlfSx0cnVlKSwnb2JqZWN0S2V5Jyk7XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBuZXcgYXJyYXkgd2l0aCBtYXBwZWQgZGF0YVxyXG4gICAgICAgIG1hcHBlZERhdGEgPSAkZmlsdGVyKCdtYXAnKShkYXRhLCBmdW5jdGlvbihyb3cpe1xyXG4gICAgICAgICAgICB2YXIgb2JqID0ge307IC8vIGNyZWF0ZSBuZXcgcm93IG9iamVjdFxyXG5cclxuICAgICAgICAgICAgLy8gcmV0cmlldmUgb2JqZWN0IHZhbHVlcyBmcm9tIHJvdyBhbmQgYWRkIHRoZW0gdG8gdGhlIGNvcnJlc3BvbmRpbmcga2V5IGRlZmluZWQgYnkgdGhlIHRhYmxlIGZpZWxkc1xyXG4gICAgICAgICAgICAkZmlsdGVyKCdtYXAnKShwcm9wZXJ0aWVzLGZ1bmN0aW9uKHByb3BlcnR5KXtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHByb3BlcnR5IGV4aXN0cyBpbiBkYXRhIG9iamVjdC4uLlxyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHJvd1twcm9wZXJ0eV0gIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgY29sdW1uIHZhbHVlIGZyb20gZGF0YSBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wZXJ0eV09cm93W3Byb3BlcnR5XVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwcm9wZXJ0eTogXCInICsgcHJvcGVydHkgICsgJ1wiIGRvZXMgbm90IGV4aXN0IGluIGRhdGEgb2JqZWN0LCBhdHRlbXB0aW5nIHRvIHVzZSB2YWx1ZSBmdW5jdGlvbiBpbnN0ZWFkICcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0cyBpbiBkYXRhLCB1c2UgdmFsdWUgZnVuY3Rpb24gdG8gZ2V0IHZhbHVlIGZvciBjb2x1bW5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVGdW5jdGlvbiA9ICRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndEZpZWxkcywge29iamVjdEtleTpwcm9wZXJ0eX0sdHJ1ZSksJ3ZhbHVlJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWVGdW5jdGlvbiAmJiBhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWVGdW5jdGlvbikpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2UgY3VzdG9tIHZhbHVlIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHZhbHVlIGZvciBjb2x1bW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndXNpbmcgdmFsdWUgZnVuY3Rpb24gdG8gZ2V0IGRhdGEgZm9yIHJvdyBjb2x1bW4gJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialtwcm9wZXJ0eV0gPSB2YWx1ZUZ1bmN0aW9uKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Byb3BlcnR5OiBcIicgKyBwcm9wZXJ0eSAgKyAnXCIgZG9lcyBub3QgZXhpc3RzIGluIGRhdGEgb2JqZWN0IGFuZCBubyB2YWx1ZSBmdW5jdGlvbiB3YXMgZGVjbGFyZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhcHBseUZpbHRlcihtYXBwZWREYXRhKVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBpbnRlcm5hbCBmaWx0ZXIsIHRoaXMgaXMgd2hlcmUgd2UgYXBwbHkgZmlsdGVyc1xyXG4gICAgdmFyIGFwcGx5RmlsdGVyID0gZnVuY3Rpb24gKGRhdGEsIHNlYXJjaCkge1xyXG5cclxuICAgICAgICAvLyBhcHBseSB0YWJsZSBmaWx0ZXJzXHJcbiAgICAgICAgdmFyIGZpbHRlcmVkID0gJGZpbHRlcignZmlsdGVyJykoZGF0YS5zbGljZSgwKSx0YWJsZUZpbHRlcnMsZnVuY3Rpb24oZXhwZWN0ZWQsIGFjdHVhbCl7XHJcbiAgICAgICAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgPiAtMTtcclxuICAgICAgICB9LHRydWUpLnNsaWNlKDApO1xyXG5cclxuICAgICAgICAvLyByZXR1cm4gcm93cyB3aGVyZSBjb2x1bW5zIG1hdGNoIGVudGVyZWQgc2VhcmNoIHRlcm1zXHJcbiAgICAgICAgZmlsdGVyZWREYXRhID0gJGZpbHRlcignc2VhcmNoUm93JykoZmlsdGVyZWQsc2VhcmNoQ29sdW1ucywgc2VhcmNoLCAkc2NvcGUuZ3RGaWVsZHMpO1xyXG4gICAgICAgIGFwcGx5U29ydCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzb3J0LCB0aGlzIGlzIHdoZXJlIHdlIHNvcnQgdGhlIGZpbHRlcmVkIHJlc3VsdHNcclxuICAgIHZhciBhcHBseVNvcnQgPSBmdW5jdGlvbiAoKXtcclxuICAgICAgICBzb3J0ZWREYXRhID0gc29ydGluZyAhPT0gZmFsc2UgPyAkZmlsdGVyKCdndFNvcnQnKShmaWx0ZXJlZERhdGEsIHNvcnRpbmcsJHNjb3BlLmd0RmllbGRzKTogZmlsdGVyZWREYXRhO1xyXG4gICAgICAgIGFwcGx5UGFnaW5hdGlvbigpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZ3RDaHVuayA9IGZ1bmN0aW9uKGFyciwgY2h1bmtTaXplKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIHZhciBhcnJTaXplQ2FjaGU9YXJyLmxlbmd0aDtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8YXJyU2l6ZUNhY2hlOyBpKz1jaHVua1NpemUpXHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFyci5zbGljZShpLGkrY2h1bmtTaXplKSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gcGFnaW5hdGlvbiwgdGhpcyBpcyB3aGVyZSB3ZSBkZWNpZGUgd2hpY2ggc3Vic2V0IG9mIHRoZSBkYXRhIHRvIHNob3dcclxuICAgIHZhciBhcHBseVBhZ2luYXRpb24gPSBmdW5jdGlvbiAoKXtcclxuICAgICAgICAkc2NvcGUucGFnZXMgPSBndENodW5rKHNvcnRlZERhdGEsIHBhcnNlSW50KCRzY29wZS5ndFJvd3MpKTtcclxuICAgICAgICAkc2NvcGUuY3VycmVudFBhZ2UgPSAwO1xyXG4gICAgICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXN0YXJ0ZWQtcmVuZGVyaW5nJyk7XHJcbiAgICAgICAgJHNjb3BlLmd0RGlzcGxheURhdGEgPSAkc2NvcGUucGFnZXNbJHNjb3BlLmN1cnJlbnRQYWdlXTtcclxuICAgICAgICBwYWdpbmF0aW9uKCRzY29wZS5wYWdlcy5sZW5ndGgsJHNjb3BlLmN1cnJlbnRQYWdlKTtcclxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LWZpbmlzaGVkLWRhdGEtcHJvY2Vzc2luZycsJHNjb3BlLmd0SWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuZ3RIYXNEYXRhID0gdHJ1ZTtcclxuICAgICAgICB9LDIwMCk7XHJcbiAgICAgICAgLy8kc2NvcGUuJGVtaXQoJ2d0LWZpbmlzaGVkLXJlbmRlcmluZycpO1xyXG4gICAgICAgIC8qaWYoJHNjb3BlLmxvYWRpbmcpe1xyXG4gICAgICAgICBjb25zb2xlLmxvZygnc3RpbGwgbG9vYWRpbmcnKTtcclxuICAgICAgICAgJHNjb3BlLiRlbWl0KCdndC1maW5pc2hlZC1yZW5kZXJpbmcnKTtcclxuICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgfSovXHJcbiAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyQkcmViaW5kOjpndFJlZnJlc2gnKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciB1cGRhdGUgdGFibGUgZXZlbnRzXHJcbiAgICAkc2NvcGUuJG9uKCdndC11cGRhdGUtdGFibGU6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgIGNoYW5nZURhdGEoYXJnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGxpc3RlbiBmb3Igc2VhcmNoIGV2ZW50c1xyXG4gICAgJHNjb3BlLiRvbignZ3Qtc2VhcmNoLXRhYmxlOicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICBzZWFyY2hUZXJtcyA9IGFyZztcclxuICAgICAgICBhcHBseUZpbHRlcihtYXBwZWREYXRhLnNsaWNlKDApLGFyZyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBsaXN0ZW4gZm9yIGZpbHRlciBldmVudHNcclxuICAgICRzY29wZS4kb24oJ2d0LWZpbHRlci10YWJsZTonKyRzY29wZS5ndElkLGZ1bmN0aW9uKGV2ZW50LGFyZyl7XHJcbiAgICAgICAgdGFibGVGaWx0ZXJzID0gYXJnO1xyXG4gICAgICAgIGFwcGx5RmlsdGVyKG1hcHBlZERhdGEuc2xpY2UoMCksc2VhcmNoVGVybXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLiRvbignZ3Qtb3Blbi1hbGwtcm93czonKyRzY29wZS5ndElkLGZ1bmN0aW9uKGV2ZW50LGFyZyl7XHJcbiAgICAgICAgJHNjb3BlLnN5bmNSb3dzKHRydWUsIHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLiRvbignZ3QtY2xvc2UtYWxsLXJvd3M6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgICRzY29wZS5zeW5jUm93cyhmYWxzZSk7IC8vIGNsb3NlIG9wZW4gcm93c1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciB1cGRhdGUgdGFibGUgZXZlbnRzXHJcbiAgICAkc2NvcGUuJG9uKCdndC11cGRhdGUtc3RydWN0dXJlOicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICAkc2NvcGUuZ3RGaWVsZHMgPSBhcmcuZmllbGRzO1xyXG4gICAgICAgICRzY29wZS5ndFNldHRpbmdzID0gYXJnLnNldHRpbmdzO1xyXG4gICAgICAgIGV4dGVuZEZpZWxkRGVmaW5pdGlvbnMoKTtcclxuICAgICAgICBzZWFyY2hDb2x1bW5zID0gJGZpbHRlcignbWFwJykoJGZpbHRlcigncmVtb3ZlV2l0aCcpKCRzY29wZS5ndEZpZWxkcy5zbGljZSgwKSx7c2VhcmNoOmZhbHNlfSksJ29iamVjdEtleScpO1xyXG5cclxuICAgICAgICAvLyBpZiBubyBzb3J0aW5nIGlzIGFwcGxpZWQgb3IgaWYgc29ydGluZyBpcyBmb3JjZWQuLi5cclxuICAgICAgICBpZihzb3J0aW5nID09PSBmYWxzZSB8fCBhcmcuZm9yY2VTb3J0aW5nID09PSB0cnVlKSB7XHJcblxyXG4gICAgICAgICAgICAvLyAuLi5zZXQgc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICBzb3J0aW5nID0gJGZpbHRlcignbWFwJykoJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3Mse3NvcnQ6XCJhc2MgZGVzY1wifSxmdW5jdGlvbihleHBlY3RlZCwgYWN0dWFsKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgPiAtMTtcclxuICAgICAgICAgICAgfSksZnVuY3Rpb24oc29ydCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHNvcnQuc29ydCA9PT0gJ2Rlc2MnID8gJy0nOicnKSArIHNvcnQub2JqZWN0S2V5XHJcbiAgICAgICAgICAgIH0pOyAvLyByZXR1cm5zIGFycmF5IGNvbnRhaW5pbmcgc29ydGluZyBjcml0ZXJpYVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHNvcnRpbmcgc2V0dGluZyAnYXNjJyBhbmQgJ2Rlc2MnIHRvICdlbmFibGUnXHJcbiAgICAgICAgICAgICRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndFNldHRpbmdzLHtzb3J0OlwiYXNjIGRlc2NcIn0sZnVuY3Rpb24oZXhwZWN0ZWQsIGFjdHVhbCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpID4gLTE7XHJcbiAgICAgICAgICAgIH0pLGZ1bmN0aW9uKHNldHRpbmcpe1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZy5zb3J0ID0gJ2VuYWJsZSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gdXBkYXRlIHNldHRpbmdzIHRvIG1hdGNoIHNvcnRpbmcgaW4gdGFibGVcclxuICAgICAgICAgICAgJGZpbHRlcignbWFwJykoc29ydGluZyxmdW5jdGlvbihzb3J0UHJvcGVydHkpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNvcnQgPSBzb3J0UHJvcGVydHkuaW5kZXhPZignLScpID09PSAtMSA/ICdhc2MnOidkZXNjJztcclxuICAgICAgICAgICAgICAgIHNvcnRQcm9wZXJ0eSA9IHNvcnRQcm9wZXJ0eS5yZXBsYWNlKCctJywnJyk7XHJcbiAgICAgICAgICAgICAgICAkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RTZXR0aW5ncywgeydvYmplY3RLZXknOnNvcnRQcm9wZXJ0eX0sdHJ1ZSlbMF0uc29ydCA9IHNvcnQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciBwYWdpbmF0aW9uIGxlbmd0aCBjaGFuZ2VcclxuICAgICRzY29wZS4kb24oJ2d0LXBhZ2luYXRlLXRhYmxlOicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICAkc2NvcGUuZ3RSb3dzID0gcGFyc2VJbnQoYXJnKTtcclxuICAgICAgICBhcHBseVBhZ2luYXRpb24oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGxpc3RlbiBmb3IgZXhwb3J0IGV2ZW50XHJcbiAgICAkc2NvcGUuJG9uKCdndC1leHBvcnQtY3N2OicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICBndEV4cG9ydChhcmcpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIGNyZWF0ZSBwYWdpbmF0aW9uXHJcbiAgICB2YXIgcGFnaW5hdGlvbiA9IGZ1bmN0aW9uKHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlKXtcclxuICAgICAgICAkc2NvcGUuc3luY1Jvd3MoZmFsc2UpOyAvLyBjbG9zZSBvcGVuIHJvd3NcclxuICAgICAgICAkc2NvcGUucmVtb3ZlQmluZGluZygpOyAvLyByZW1vdmUgb2xkIGJpbmRpbmdzXHJcblxyXG4gICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gW107XHJcblxyXG4gICAgICAgIC8vIGlmIHRvdGFsIHBhZ2VzIGVxdWFscyAwIGllLiBubyBkYXRhIGF2YWlsYWJsZVxyXG4gICAgICAgIGlmKHRvdGFsUGFnZXMgPT09IDAgKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnZ3QtdGFibGUtZmlsdGVyZWQnLCB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbDptYXBwZWREYXRhLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkOjAsXHJcbiAgICAgICAgICAgICAgICBzaG93aW5nRnJvbTowLFxyXG4gICAgICAgICAgICAgICAgc2hvd2luZ1RvOjAsXHJcbiAgICAgICAgICAgICAgICBwYWdlTGVuZ3RoOiRzY29wZS5ndFJvd3MsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTowLFxyXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZQYWdlczowXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiBsZXNzIHRoYW4gdHdvIHBhZ2VzXHJcbiAgICAgICAgaWYodG90YWxQYWdlcyA8IDIpe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgbGVzcyB0aGFuIHRocmVlIHBhZ2VzXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzIDwgMyl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gWzAsMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGxlc3MgdGhhbiBmb3VyIHBhZ2VzXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzIDwgNCl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gWzAsMSwyXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgbGVzcyB0aGFuIGZpdmUgcGFnZXNcclxuICAgICAgICBlbHNlIGlmKHRvdGFsUGFnZXMgPCA1KXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbMCwxLDIsM107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGN1cnJlbnQgcGFnZSBpcyBvbmUgb2YgdGhlIGZvdXIgZmlyc3QgcGFnZXNcclxuICAgICAgICBlbHNlIGlmKGN1cnJlbnRQYWdlIDwgNCl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gWzAsMSwyLDMsNF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIG5leHQgdG8gbGFzdCBwYWdlXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzID4gY3VycmVudFBhZ2UrMSl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gW2N1cnJlbnRQYWdlLTEsY3VycmVudFBhZ2UsY3VycmVudFBhZ2UrMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGxhc3QgcGFnZVxyXG4gICAgICAgIGVsc2UgaWYodG90YWxQYWdlcyA9PT0gY3VycmVudFBhZ2UrMSl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gW2N1cnJlbnRQYWdlLTIsY3VycmVudFBhZ2UtMSxjdXJyZW50UGFnZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGN1cnJlbnQgcGFnZSBpcyBub3Qgb25lIG9mIHRoZSBmb3VyIGZpcnN0IHBhZ2VzXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzLTQgPiBjdXJyZW50UGFnZSl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gW2N1cnJlbnRQYWdlLTEsY3VycmVudFBhZ2UsY3VycmVudFBhZ2UrMSwgY3VycmVudFBhZ2UrMl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXRhYmxlLWZpbHRlcmVkJywge1xyXG4gICAgICAgICAgICB0b3RhbDptYXBwZWREYXRhLmxlbmd0aCxcclxuICAgICAgICAgICAgZmlsdGVyZWQ6ZmlsdGVyZWREYXRhLmxlbmd0aCxcclxuICAgICAgICAgICAgc2hvd2luZ0Zyb206JHNjb3BlLmN1cnJlbnRQYWdlKiRzY29wZS5ndFJvd3MrKCRzY29wZS5jdXJyZW50UGFnZSA+IDEgPyAwOjEpLFxyXG4gICAgICAgICAgICBzaG93aW5nVG86JHNjb3BlLmN1cnJlbnRQYWdlKiRzY29wZS5ndFJvd3MrJHNjb3BlLmd0RGlzcGxheURhdGEubGVuZ3RoLFxyXG4gICAgICAgICAgICBwYWdlTGVuZ3RoOiRzY29wZS5ndFJvd3MsXHJcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiRzY29wZS5jdXJyZW50UGFnZSxcclxuICAgICAgICAgICAgbnVtYmVyT2ZQYWdlczokc2NvcGUucGFnZXMubGVuZ3RoXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5uZXh0UGFnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRQYWdlICsrO1xyXG4gICAgICAgICAgICAkc2NvcGUuZ3REaXNwbGF5RGF0YSA9ICRzY29wZS5wYWdlc1skc2NvcGUuY3VycmVudFBhZ2VdO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uKCRzY29wZS5wYWdlcy5sZW5ndGgsJHNjb3BlLmN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdndC1zdGFydGVkLXJlbmRlcmluZycsJHNjb3BlLmd0SWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpO1xyXG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5wcmV2aW91c1BhZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UGFnZSAtLTtcclxuICAgICAgICAgICAgJHNjb3BlLmd0RGlzcGxheURhdGEgPSAkc2NvcGUucGFnZXNbJHNjb3BlLmN1cnJlbnRQYWdlXTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbigkc2NvcGUucGFnZXMubGVuZ3RoLCRzY29wZS5jdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnZ3Qtc3RhcnRlZC1yZW5kZXJpbmcnLCRzY29wZS5ndElkKTtcclxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyQkcmViaW5kOjpndFJlZnJlc2gnKTtcclxuICAgICAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLnNldFBhZ2UgPSBmdW5jdGlvbihwYWdlKXtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudFBhZ2UgPSBwYWdlO1xyXG4gICAgICAgICAgICAkc2NvcGUuZ3REaXNwbGF5RGF0YSA9ICRzY29wZS5wYWdlc1skc2NvcGUuY3VycmVudFBhZ2VdO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uKCRzY29wZS5wYWdlcy5sZW5ndGgsJHNjb3BlLmN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdndC1zdGFydGVkLXJlbmRlcmluZycsJHNjb3BlLmd0SWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpO1xyXG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gc29ydCBmdW5jdGlvblxyXG4gICAgJHNjb3BlLnNvcnQgPSBmdW5jdGlvbigkZXZlbnQscHJvcGVydHkpe1xyXG4gICAgICAgIHZhciBjdHJsS2V5ID0gJGV2ZW50LmN0cmxLZXkgfHwgJGV2ZW50Lm1ldGFLZXk7XHJcblxyXG4gICAgICAgIC8vIHJlc2V0IHNvcnRpbmcgdW5sZXNzIGN0cmwga2V5IG9yIG1ldGEga2V5IChtYWMpIGlzIHByZXNzZWQgd2hpbGUgc29ydGluZ1xyXG4gICAgICAgIGlmKCFjdHJsS2V5ICYmIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyAkc2NvcGUuZ3RTZXR0aW5ncy5sZW5ndGggPiBpOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmcgPSAkc2NvcGUuZ3RTZXR0aW5nc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmKHNldHRpbmcub2JqZWN0S2V5ICE9PSBwcm9wZXJ0eSAmJiBzZXR0aW5nLnNvcnQgPT09ICdhc2MnIHx8IHNldHRpbmcub2JqZWN0S2V5ICE9PSBwcm9wZXJ0eSAmJiBzZXR0aW5nLnNvcnQgPT09ICdkZXNjJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmd0U2V0dGluZ3NbaV0uc29ydCA9ICdlbmFibGUnO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvcGVydHkpe1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgJHNjb3BlLmd0U2V0dGluZ3MubGVuZ3RoID4gaTsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5nID0gJHNjb3BlLmd0U2V0dGluZ3NbaV07XHJcbiAgICAgICAgICAgICAgICBpZihzZXR0aW5nLm9iamVjdEtleSA9PT0gcHJvcGVydHkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3J0ID0gc2V0dGluZy5zb3J0O1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc29ydCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2FibGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VuYWJsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3RTZXR0aW5nc1tpXS5zb3J0ID0gJ2FzYyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXNjJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ndFNldHRpbmdzW2ldLnNvcnQgPSAnZGVzYyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVzYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3RTZXR0aW5nc1tpXS5zb3J0ID0gJ2VuYWJsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBzb3J0aW5nID0gJGZpbHRlcignbWFwJykoJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3Mse3NvcnQ6XCJhc2MgZGVzY1wifSxmdW5jdGlvbihleHBlY3RlZCwgYWN0dWFsKXtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSA+IC0xO1xyXG4gICAgICAgIH0pLGZ1bmN0aW9uKHNvcnQpe1xyXG4gICAgICAgICAgICByZXR1cm4gKHNvcnQuc29ydCA9PT0gJ2Rlc2MnID8gJy0nOicnKSArIHNvcnQub2JqZWN0S2V5O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhcHBseVNvcnQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gaWYgdGFibGUgaGFzIGRhdGEgdXBvbiBpbml0aWFsaXphdGlvbi4uLlxyXG4gICAgaWYoJHNjb3BlLmd0RGF0YSl7XHJcbiAgICAgICAgaW5pdFRhYmxlKCRzY29wZS5ndERhdGEpOyAvLyBpbml0aWFsaXplIHRhYmxlIHdpdGggZGF0YSBwYXNzZWQgdG8gZGlyZWN0aXZlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXhwb3J0IGZ1bmN0aW9uXHJcbiAgICB2YXIgZ3RFeHBvcnQgPSBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgICAgICBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnPyB7fTpvcHRpb25zO1xyXG5cclxuICAgICAgICB2YXIgZmlsZU5hbWUgPSB0eXBlb2Ygb3B0aW9ucy5maWxlTmFtZSA9PT0gJ3VuZGVmaW5lZCcgPyAnZXhwb3J0JzpvcHRpb25zLmZpbGVOYW1lO1xyXG5cclxuICAgICAgICAvLyBmaXggZXhwb3J0IGRhdGFcclxuICAgICAgICB2YXIgZXhwb3J0RGF0YSA9IEpTT04ucGFyc2UoYW5ndWxhci50b0pzb24oc29ydGVkRGF0YS5zbGljZSgwKSkpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwb3J0RGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBleHBvcnREYXRhW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcm93KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRTZXR0aW5nID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0RmllbGRzLCB7b2JqZWN0S2V5OiBrZXl9LCB0cnVlKVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVTZXR0aW5nID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3MsIHtvYmplY3RLZXk6IGtleX0sIHRydWUpWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXhwb3J0TWV0aG9kID0gZmllbGRTZXR0aW5nLmV4cG9ydDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXhwb3J0IG1ldGhvZCBpcyBkZWNsYXJlZCBhbmQgaXMgYSBmdW5jdGlvbi4uLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHBvcnRNZXRob2QgJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGV4cG9ydE1ldGhvZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4ucmVwbGFjZSBleHBvcnQgZGF0YSByb3cgdmFsdWUgd2l0aCB2YWx1ZSByZXR1cm5lZCBieSBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwb3J0VmFsdWUgPSBleHBvcnRNZXRob2Qocm93LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dba2V5XSA9IGZpZWxkU2V0dGluZy5leHBvcnRFc2NhcGVTdHJpbmcgPT09IGZhbHNlID8gZXhwb3J0VmFsdWUgOiAkZmlsdGVyKCdlc2NhcGVDc3ZTdHJpbmcnKShleHBvcnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93W2tleV0gPSBmaWVsZFNldHRpbmcuZXhwb3J0RXNjYXBlU3RyaW5nID09PSBmYWxzZSA/IHJvd1trZXldIDogJGZpbHRlcignZXNjYXBlQ3N2U3RyaW5nJykocm93W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXhwb3J0Q29sdW1ucyBhcmUgcGFzc2VkIHdpdGggb3B0aW9ucy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIC8qaWYgKHR5cGVvZiBvcHRpb25zLmV4cG9ydENvbHVtbnMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLnNldCB2YWx1ZSB0byBudWxsIGkuZS4gZG9uJ3QgZXhwb3J0IGNvbHVtbiBpZiBpdCdzIG5vdCBpbiB0aGUgZXhwb3J0Q29sdW1ucyBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5leHBvcnRDb2x1bW5zLmluZGV4T2YodGFibGVTZXR0aW5nLm9iamVjdEtleSk9PT0tMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dba2V5XSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXhwb3J0IGlzIHNldCB0byBmYWxzZSBmb3IgZmllbGQuLi5cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGFibGVTZXR0aW5nLmV4cG9ydCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGFibGVTZXR0aW5nLmV4cG9ydCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uc2V0IHZhbHVlIHRvIG51bGwgaS5lLiBkb24ndCBleHBvcnQgY29sdW1uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1trZXldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZGVjbGFyZSBleHBvcnQgZGF0YVxyXG4gICAgICAgIHZhciBkYXRhID0gZXhwb3J0RGF0YTsvL0pTT04ucGFyc2UoYW5ndWxhci50b0pzb24oc29ydGVkRGF0YS5zbGljZSgwKSkpO1xyXG5cclxuICAgICAgICAvLyBpZiBleHBvcnRDb2x1bW5zIGFyZSBwYXNzZWQgd2l0aCBvcHRpb25zLi4uXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmV4cG9ydENvbHVtbnMgIT09ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgICAgICAvLyAuLi5nZXQgZmllbGQgc2V0dGluZ3MgZm9yIGFsbCBvYmplY3RLZXlzIGluIGV4cG9ydENvbHVtbnMgYXJyYXlcclxuICAgICAgICAgICAgdmFyIGV4cG9ydEZpZWxkcyA9ICRmaWx0ZXIoJ21hcCcpKG9wdGlvbnMuZXhwb3J0Q29sdW1ucywgZnVuY3Rpb24ob2JqZWN0S2V5KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RGaWVsZHMuc2xpY2UoMCksIHtvYmplY3RLZXk6b2JqZWN0S2V5fSwgdHJ1ZSlbMF07XHJcbiAgICAgICAgICAgIH0gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZWxzZSBleHBvcnQgYWxsIGNvbHVtbnMgZXhjZXB0IGNvbHVtbnMgbm90IG1hcmtlZCBmb3IgZXhwb3J0IGkuZS4gaGFzIGZpZWxkIHNldHRpbmcgZXhwb3J0OmZhbHNlIChhZGRlZCB0byBndEZpZWxkXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBleHBvcnRGaWVsZHMgPSAkZmlsdGVyKCdvcmRlckJ5JykoJGZpbHRlcigncmVtb3ZlV2l0aCcpKCRzY29wZS5ndEZpZWxkcyx7ZXhwb3J0RmllbGQ6ZmFsc2V9KSxcImNvbHVtbk9yZGVyXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB7XHJcbiAgICAgICAgICAgIGZpZWxkU2VwOiB0eXBlb2Ygb3B0aW9ucy5maWVsZFNlcCA9PT0gJ3VuZGVmaW5lZCcgPyBcIjtcIjpvcHRpb25zLmZpZWxkU2VwLFxyXG4gICAgICAgICAgICBoZWFkZXI6ICRmaWx0ZXIoJ21hcCcpKGV4cG9ydEZpZWxkcyxcIm5hbWVcIiksIC8vIGdldCBoZWFkZXJzIGJ5IGNvbHVtbiBvcmRlclxyXG4gICAgICAgICAgICB0eHREZWxpbTogdHlwZW9mIG9wdGlvbnMudHh0RGVsaW0gPT09ICd1bmRlZmluZWQnID8gJ1wiJzpvcHRpb25zLnR4dERlbGltLFxyXG4gICAgICAgICAgICBjb2x1bW5PcmRlcjokZmlsdGVyKCdtYXAnKShleHBvcnRGaWVsZHMsXCJvYmplY3RLZXlcIiksIC8vIGdldCBjb2x1bW4gb3JkZXJcclxuICAgICAgICAgICAgZGVjaW1hbFNlcDp0eXBlb2Ygb3B0aW9ucy5kZWNpbWFsU2VwID09PSAndW5kZWZpbmVkJyA/ICcsJzpvcHRpb25zLmRlY2ltYWxTZXAsXHJcbiAgICAgICAgICAgIGFkZEJ5dGVPcmRlck1hcmtlcjp0eXBlb2Ygb3B0aW9ucy5hZGRCb20gPT09ICd1bmRlZmluZWQnLFxyXG4gICAgICAgICAgICBjaGFyc2V0OnR5cGVvZiBvcHRpb25zLmNoYXJzZXQgPT09ICd1bmRlZmluZWQnID8gJ3V0Zi04JzpvcHRpb25zLmNoYXJzZXQsXHJcbiAgICAgICAgICAgIHF1b3RlU3RyaW5nczogdHlwZW9mIG9wdGlvbnMucXVvdGVTdHJpbmdzID09PSAndW5kZWZpbmVkJyA/IGZhbHNlIDogb3B0aW9ucy5xdW90ZVN0cmluZ3NcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDU1Yuc3RyaW5naWZ5KGRhdGEsIGhlYWRlcnMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcclxuXHJcbiAgICAgICAgICAgIHZhciBibG9iO1xyXG5cclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xyXG4gICAgICAgICAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFtyZXN1bHRdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04O1wiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsICdleHBvcnQuY3N2Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG5vdCBhIGZ1bGx5IHdvcmtpbmcgc29sdXRpb24sIHNvbWUgdGFncyAodGV4IDxCT0RZPikgc2hvdyB1cCBpbiBleGNlbCB0b2dldGhlciB3aXRoIHRoZSBjb3JyZWN0IGRhdGEuXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGFkZGVkIGFuIGFsZXJ0IG1lc3NhZ2UgdG8gdXJnZSB1c2VycyB0byB1c2UgYW5vdGhlciBicm93c2VyIG9yIHVwZGF0ZSB0aGVpciBicm93c2VyIGZvciBhIGJldHRlciBsb29raW5nIGV4cG9ydC5cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLmFwcE5hbWUgPT09ICdNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KFwiWW91J3JlIHVzaW5nIGFuIG9sZCB2ZXJzaW9uIG9mIEludGVybmV0IEV4cGxvcmVyIGFuZCB0aGUgZXhwb3J0IG1pZ2h0IHRoZXJlZm9yZSBoYXZlIHRoZSB3cm9uZyBmb3JtYXQsIHBsZWFzZSB1cGRhdGUgeW91ciBicm93c2VyLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaWZyYW1lID0gYW5ndWxhci5lbGVtZW50KCc8aWZyYW1lPjwvaWZyYW1lPicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZVswXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKTtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChpZnJhbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZnJhbWVbMF0uY29udGVudERvY3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IGlmcmFtZVswXS5jb250ZW50RG9jdW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYgKGlmcmFtZVswXS5jb250ZW50V2luZG93KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jID0gaWZyYW1lWzBdLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRvYy5vcGVuKFwidGV4dC9wbGFpblwiLCBcInJlcGxhY2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLndyaXRlKFtyZXN1bHRdKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2lmcmFtZS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvYy5leGVjQ29tbWFuZCgnU2F2ZUFzJywgdHJ1ZSwgZmlsZU5hbWUrJy5jc3YnKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2IgPSBuZXcgQmxvYihbcmVzdWx0XSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQvY3N2O2NoYXJzZXQ9dXRmLTg7XCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rID0gYW5ndWxhci5lbGVtZW50KCc8YT48L2E+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rLmF0dHIoJ2hyZWYnLCB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rLmF0dHIoJ2Rvd25sb2FkJyxmaWxlTmFtZSsnLmNzdicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmQgZG93bmxvYWQgbGluayB0byBib2R5IGFuZCBjbGljayBpdCwgb25jZSBjbGlja2VkIHJlbW92ZSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKGRvd25sb2FkTGluayk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGlua1swXS5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxufSkuZGlyZWN0aXZlKCdndFJvdycsIGZ1bmN0aW9uKCRjb21waWxlLCAkZmlsdGVyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgc2NvcGU6ZmFsc2UsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBmbikge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1ucyA9ICRmaWx0ZXIoJ2ZpbHRlcicpKHNjb3BlLmd0U2V0dGluZ3Mseyd2aXNpYmxlJzp0cnVlfSx0cnVlKS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBhZGRSb3cgPSBmdW5jdGlvbihvcGVuQWxsKXtcclxuICAgICAgICAgICAgICAgICFzY29wZS5ndEV4cGFuZC5tdWx0aXBsZSAmJiAhb3BlbkFsbCA/IHNjb3BlLnN5bmNSb3dzKGZhbHNlKTonJztcclxuICAgICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTsgLy8gY3JlYXRlIG5ldyBzY29wZSBmb3Igcm93XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93ID0gJGNvbXBpbGUoJzx0ciBjbGFzcz1cImV4cGFuZGVkLXJvd1wiPjx0ZCBjb2xzcGFuPVwiJytjb2x1bW5zKydcIj4nK3Njb3BlLmd0RXhwYW5kLmRpcmVjdGl2ZSsnPC90ZD48L3RyPicpKG5ld1Njb3BlKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIocm93KTsgLy8gYWRkIGVsZW1lbnQgdG8gdmlld1xyXG4gICAgICAgICAgICAgICAgc2NvcGUucm93LmlzT3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5ndEV4cGFuZC5yb3dzLnB1c2goaW5kZXgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgcmVtb3ZlUm93ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIC8vc2NvcGUuJCR3YXRjaGVycyA9IG51bGw7IC8vIHJlbW92ZSB3YXRjaGVzXHJcbiAgICAgICAgICAgICAgICBzY29wZS5yb3cuaXNPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5ndEV4cGFuZC5yb3dzLnNwbGljZShzY29wZS5ndEV4cGFuZC5yb3dzLmluZGV4T2YoaW5kZXgpLDEpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0KCkuc2NvcGUoKS4kZGVzdHJveSgpOyAvLyBkZXN0cm95IHNjb3BlIGFuZCByZW1vdmUgd2F0Y2hlcnNcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQubmV4dCgpLnJlbW92ZSgpOyAvLyByZW1vdmUgZWxlbWVudCBmcm9tIHZpZXdcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHNjb3BlLiRpbmRleDtcclxuICAgICAgICAgICAgc2NvcGUudG9nZ2xlUm93ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBleHBhbmRlZCA9IHNjb3BlLmd0RXhwYW5kLnJvd3MuaW5kZXhPZihpbmRleCkgIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgaWYoIWV4cGFuZGVkKXtcclxuICAgICAgICAgICAgICAgICAgICBhZGRSb3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVJvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpOyAvLyB1cGRhdGUgYmluZGluZ3NcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZ3Qtb3Blbi1yb3c6JytpbmRleCxmdW5jdGlvbiAoZXZlbnQsZm9yY2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBleHBhbmRlZCA9IHNjb3BlLmd0RXhwYW5kLnJvd3MuaW5kZXhPZihpbmRleCkgIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgaWYoIWV4cGFuZGVkKXtcclxuICAgICAgICAgICAgICAgICAgICBhZGRSb3coZm9yY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZ3QtY2xvc2Utcm93OicraW5kZXgsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV4cGFuZGVkID0gc2NvcGUuZ3RFeHBhbmQucm93cy5pbmRleE9mKGluZGV4KSAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICBpZihleHBhbmRlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUm93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pLmRpcmVjdGl2ZSgnZ3RFdmVudCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZm4pIHtcclxuICAgICAgICAgICAgaWYgKHNjb3BlLiRsYXN0KXtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCdndC1maW5pc2hlZC1yZW5kZXJpbmcnLHNjb3BlLmd0SWQpO1xyXG4gICAgICAgICAgICAgICAgLy9zY29wZS4kcGFyZW50LiRwYXJlbnQubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSkuZGlyZWN0aXZlKCdndFJlbmRlcicsIGZ1bmN0aW9uKCRjb21waWxlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgc2NvcGU6e1xyXG4gICAgICAgICAgICByb3c6Jz1yb3dEYXRhJyxcclxuICAgICAgICAgICAgc2V0dGluZ3M6Jz1maWVsZFNldHRpbmdzJyxcclxuICAgICAgICAgICAgY29tcGlsZTonPWd0Q29tcGlsZScsXHJcbiAgICAgICAgICAgIGFjdGl2ZUJpbmRpbmdzOiAnPWFjdGl2ZUJpbmRpbmdzJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBmbikge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gc2NvcGUucm93O1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gc2NvcGUuc2V0dGluZ3Mub2JqZWN0S2V5O1xyXG4gICAgICAgICAgICB2YXIgb3V0cHV0O1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlbmRlck1ldGhvZCA9IHNjb3BlLnNldHRpbmdzLnJlbmRlcjtcclxuICAgICAgICAgICAgaWYocmVuZGVyTWV0aG9kICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihyZW5kZXJNZXRob2QpKXtcclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHJlbmRlck1ldGhvZChyb3csIGtleSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSByb3dba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihzY29wZS5jb21waWxlICYmIHNjb3BlLmNvbXBpbGUgIT09IGZhbHNlKXtcclxuICAgICAgICAgICAgICAgIC8vIGRlY2xhcmUgZWxlbWVudCBzY29wZVxyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRTY29wZTtcclxuICAgICAgICAgICAgICAgIGlmKHNjb3BlLmNvbXBpbGUgIT09IHRydWUgJiYgc2NvcGUuY29tcGlsZS4kd2F0Y2gpe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRTY29wZSA9IHNjb3BlLmNvbXBpbGUuJG5ldygpOyAvLyBjcmVhdGUgbmV3IHNjb3BlIGZvciByZW5kZXJlZCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coc2NvcGUucm93LiQkaGFzaEtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlQmluZGluZ3MucHVzaCh7JCRoYXNoS2V5OnNjb3BlLnJvdy4kJGhhc2hLZXksc2NvcGU6ZWxlbWVudFNjb3BlfSk7IC8vIGFkZCBzY29wZSB0byBhY3RpdmUgYmluZGluZ3Mgd2hpY2ggd2UgdXNlIHRvIGNsZWFyL3JlbW92ZSBvYnNvbGV0ZSBzY29wZXMvd2F0Y2hlc1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50U2NvcGUgPSBzY29wZS4kcGFyZW50LiRuZXcoKTsgLy8gY3JlYXRlIG5ldyBzY29wZSBmb3IgcmVuZGVyZWQgdmFsdWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG91dHB1dCA9ICRjb21waWxlKG91dHB1dCkoZWxlbWVudFNjb3BlKTsgLy8gY29tcGlsZVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQob3V0cHV0KTsgLy8gYWRkIGh0bWxcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uaW5uZXJIVE1MID0gb3V0cHV0ID09PSBudWxsID8gJyc6b3V0cHV0OyAvLyBhZGQgaHRtbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSkuZmlsdGVyKCdnZXRQcm9wZXJ0eScsZnVuY3Rpb24oJGZpbHRlcil7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2V0dGluZ3MsIGtleSxwcm9wZXJ0eSl7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhrZXkpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSAkZmlsdGVyKCdmaWx0ZXInKShzZXR0aW5ncyx7b2JqZWN0S2V5OmtleX0sdHJ1ZSlbMF1bcHJvcGVydHldO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYW5ub3QgcmVhZCBwcm9wZXJ0eTogXCInICsgcHJvcGVydHkgKyAnXCIgb24gbWlzc2luZyBrZXk6IFwiJyArIGtleSArICdcIiBpbiBzZXR0aW5ncy4nLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbn0pLmZpbHRlcignc2VhcmNoUm93JyxmdW5jdGlvbigkZmlsdGVyLCRpbnRlcnBvbGF0ZSl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksZmllbGRzLHNlYXJjaFRlcm1zLGZpZWxkc1NldHRpbmdzKXtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGFycmF5LGZpZWxkcyxmaWVsZHNTZXR0aW5ncyk7XHJcbiAgICAgICAgdmFyIHNlYXJjaCA9IHt9O1xyXG4gICAgICAgIGZvcih2YXIgayA9IDA7IGsgPCBmaWVsZHNTZXR0aW5ncy5sZW5ndGg7aysrKXtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhcnJheVtrXSk7XHJcbiAgICAgICAgICAgIHZhciBmaWVsZFNldHRpbmcgPSBmaWVsZHNTZXR0aW5nc1trXTtcclxuICAgICAgICAgICAgaWYoZmllbGRTZXR0aW5nLnNlYXJjaCAmJiBhbmd1bGFyLmlzRnVuY3Rpb24oZmllbGRTZXR0aW5nLnNlYXJjaCkpe1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iamVjdEtleSA9IGZpZWxkU2V0dGluZy5vYmplY3RLZXk7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hbb2JqZWN0S2V5XSA9IGZpZWxkU2V0dGluZy5zZWFyY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCFzZWFyY2hUZXJtcyB8fCBzZWFyY2hUZXJtcy5yZXBsYWNlKC9cIi9nLFwiXCIpLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZpbHRlcmVkQXJyYXkgPSBbXTtcclxuICAgICAgICBzZWFyY2hUZXJtcyA9IHR5cGVvZiBzZWFyY2hUZXJtcyA9PT0gJ3VuZGVmaW5lZCcgPyAnJzpzZWFyY2hUZXJtcztcclxuICAgICAgICB2YXIgc2VhcmNoVGVybXNBcnJheSA9IHNlYXJjaFRlcm1zLnRvTG93ZXJDYXNlKCkubWF0Y2goL1wiW15cIl0rXCJ8W1xcd10rL2cpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IGFycmF5W2ldO1xyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgIHZhciBqID0gMDtcclxuICAgICAgICAgICAgJGZpbHRlcignbWFwJykoZmllbGRzLGZ1bmN0aW9uKGZpZWxkKXtcclxuICAgICAgICAgICAgICAgIHZhciBzZXBhcmF0b3IgPSBqID09PSAwID8gJyc6JyAmICc7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gc2VhcmNoW2ZpZWxkXSA/IHNlcGFyYXRvcitzZWFyY2hbZmllbGRdKHJvdyxmaWVsZCk6c2VwYXJhdG9yK3Jvd1tmaWVsZF07XHJcbiAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIG1hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBzZWFyY2hUZXJtc0FycmF5Lmxlbmd0aDtrKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBzZWFyY2hUZXJtc0FycmF5W2tdLnJlcGxhY2UoL1wiL2csJycpO1xyXG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBzdHJpbmcuaW5kZXhPZih0ZXJtKSAhPT0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIW1hdGNoKXtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAvLyBubyBtYXRjaFxyXG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIG1hdGNoO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihtYXRjaCl7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwdXNoJyxyb3cpO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5wdXNoKHJvdylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmlsdGVyZWRBcnJheTtcclxuICAgIH1cclxufSkuZmlsdGVyKCdjYW1lbFRvRGFzaCcsZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpe3RyeXtcclxuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoIC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInICkudG9Mb3dlckNhc2UoKX0gY2F0Y2goZXJyb3Ipe2NvbnNvbGUubG9nKCdub3RoaW5nIHRvIHJlcGxhY2U6JywgZXJyb3IpfTtcclxuICAgIH1cclxufSkuZmlsdGVyKCdndFNvcnQnLGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByb3BlcnR5QXJyYXksZmllbGRzKXtcclxuICAgICAgICB2YXIgY3VzdG9tU29ydCA9IHt9OyAvLyBzdG9yZSBjdXN0b20gc29ydCBmdW5jdGlvblxyXG5cclxuICAgICAgICAvLyBsb29wIHRocm91Z2ggZmllbGRzLi4uXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDtpIDwgZmllbGRzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xyXG5cclxuICAgICAgICAgICAgLy8gLi4uYW5kIGlmIGZpZWxkIGhhcyBjdXN0b20gc29ydCBmdW5jdGlvbi4uLlxyXG4gICAgICAgICAgICBpZihmaWVsZC5zb3J0ICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihmaWVsZC5zb3J0KSl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gLi4uc3RvcmUgY3VzdG9tIHNvcnQgZnVuY3Rpb24gaW4gY3VzdG9tIHNvcnQgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBjdXN0b21Tb3J0W2ZpZWxkLm9iamVjdEtleV0gPSBmaWVsZC5zb3J0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkeW5hbWljU29ydChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICB2YXIgc29ydE9yZGVyID0gMTtcclxuICAgICAgICAgICAgaWYocHJvcGVydHlbMF0gPT09IFwiLVwiKSB7XHJcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXIgPSAtMTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcHJvcGVydHkuc3Vic3RyKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSxiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUxID0gYVtwcm9wZXJ0eV0gPT09IG51bGwgPyAnJzpjdXN0b21Tb3J0W3Byb3BlcnR5XSA/IGN1c3RvbVNvcnRbcHJvcGVydHldKGEscHJvcGVydHkpOmFbcHJvcGVydHldOyAvLyBzZXQgdmFsdWUgdG8gZW1wdHkgc3RyaW5nIGlmIG51bGwgYW5kIHVzZSBjdXN0b20gc29ydCBmdW5jdGlvbiBpZiBvbmUgaXMgcHJvdmlkZWRcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTIgPSBiW3Byb3BlcnR5XSA9PT0gbnVsbCA/ICcnOmN1c3RvbVNvcnRbcHJvcGVydHldID8gY3VzdG9tU29ydFtwcm9wZXJ0eV0oYixwcm9wZXJ0eSk6Yltwcm9wZXJ0eV07IC8vIHNldCB2YWx1ZSB0byBlbXB0eSBzdHJpbmcgaWYgbnVsbCBhbmQgdXNlIGN1c3RvbSBzb3J0IGZ1bmN0aW9uIGlmIG9uZSBpcyBwcm92aWRlZFxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZTEgPCB2YWx1ZTIpID8gLTEgOiAodmFsdWUxID4gdmFsdWUyKSA/IDEgOiAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIHNvcnRPcmRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBkeW5hbWljU29ydE11bHRpcGxlKHByb3BlcnR5QXJyYXkpIHtcclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICogc2F2ZSB0aGUgYXJndW1lbnRzIG9iamVjdCBhcyBpdCB3aWxsIGJlIG92ZXJ3cml0dGVuXHJcbiAgICAgICAgICAgICAqIG5vdGUgdGhhdCBhcmd1bWVudHMgb2JqZWN0IGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0XHJcbiAgICAgICAgICAgICAqIGNvbnNpc3Rpbmcgb2YgdGhlIG5hbWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHRvIHNvcnQgYnlcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHByb3BlcnR5QXJyYXk7IC8vYXJndW1lbnRzO1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iajEsIG9iajIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gMCwgcmVzdWx0ID0gMCwgbnVtYmVyT2ZQcm9wZXJ0aWVzID0gcHJvcHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgLyogdHJ5IGdldHRpbmcgYSBkaWZmZXJlbnQgcmVzdWx0IGZyb20gMCAoZXF1YWwpXHJcbiAgICAgICAgICAgICAgICAgKiBhcyBsb25nIGFzIHdlIGhhdmUgZXh0cmEgcHJvcGVydGllcyB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHdoaWxlKHJlc3VsdCA9PT0gMCAmJiBpIDwgbnVtYmVyT2ZQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZHluYW1pY1NvcnQocHJvcHNbaV0pKG9iajEsIG9iajIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycmF5LnNvcnQoZHluYW1pY1NvcnRNdWx0aXBsZShwcm9wZXJ0eUFycmF5KSk7XHJcbiAgICB9XHJcbn0pLmZpbHRlcignZXNjYXBlQ3N2U3RyaW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpe1xyXG4gICAgICAgIHJldHVybiAvXihcXD18XFxAfFxcKyxcXC0pLiovZy50ZXN0KGlucHV0KSA/ICdcXCcnK2lucHV0IDogaW5wdXQ7XHJcbiAgICB9XHJcbn0pO1xyXG4iLCIhZnVuY3Rpb24oZSl7dHJ5e2U9YW5ndWxhci5tb2R1bGUoXCJhbmd1bGFyLmdlbmVyaWMudGFibGVcIil9Y2F0Y2godCl7ZT1hbmd1bGFyLm1vZHVsZShcImFuZ3VsYXIuZ2VuZXJpYy50YWJsZVwiLFtdKX1lLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLGZ1bmN0aW9uKGUpe2UucHV0KFwiZ2VuZXJpYy10YWJsZS9kaXJlY3RpdmUvZ2VuZXJpYy10YWJsZS9nZW5lcmljLXRhYmxlLmh0bWxcIiwnPGRpdiBjbGFzcz1cImdlbmVyaWMtdGFibGVcIj48ZGl2IGNsYXNzPVwiZ3Qtd3JhcHBlclwiPjx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLXNvcnRhYmxlXCIgbmctaWY9XCJndEhhc0RhdGFcIiBuZy1jbGFzcz1cIjpndFJlZnJlc2g6Z3RDbGFzc2VzXCI+PHRoZWFkPjx0ciBuZy1jbGFzcz1cIjo6Z3RSb3dUcmFuc2l0aW9uID8gXFwnZmFkZS1pbiBhbmltYXRlXFwnOlxcJ1xcJ1wiPjx0aCBuZy1yZXBlYXQ9XCJmaWVsZCBpbiA6Omd0RmllbGRzIHwgb3JkZXJCeTpcXCdjb2x1bW5PcmRlclxcJyB0cmFjayBieSBmaWVsZC5vYmplY3RLZXlcIiBuZy1zaG93PVwiOmd0UmVmcmVzaDpndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3Zpc2libGVcXCdcIiBuZy1jbGFzcz1cIltmaWVsZC5jbGFzc05hbWVzLCAoZmllbGQub2JqZWN0S2V5IHwgY2FtZWxUb0Rhc2gpICsgXFwnLWNvbHVtblxcJywgXFwnc29ydC1cXCcrKGd0U2V0dGluZ3MgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwnc29ydFxcJyldXCIgbmctY2xpY2s9XCI6Z3RSZWZyZXNoOihndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpID09PSBcXCdlbmFibGVcXCcgPyBzb3J0KCRldmVudCxmaWVsZC5vYmplY3RLZXkpOihndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpID09PSBcXCdhc2NcXCcgPyBzb3J0KCRldmVudCxmaWVsZC5vYmplY3RLZXkpOihndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpID09PSBcXCdkZXNjXFwnID8gc29ydCgkZXZlbnQsZmllbGQub2JqZWN0S2V5KTpcXCdcXCdcIiBuZy1iaW5kPVwiOjpmaWVsZC5uYW1lXCI+PC90aD48L3RyPjx0ciBuZy1pZj1cIjo6Z3RUb3RhbHNcIiBuZy1jbGFzcz1cIjo6Z3RSb3dUcmFuc2l0aW9uID8gXFwnZmFkZS1pbiBhbmltYXRlXFwnOlxcJ1xcJ1wiPjx0ZCBuZy1yZXBlYXQ9XCJmaWVsZCBpbiA6Omd0RmllbGRzIHwgb3JkZXJCeTpcXCdjb2x1bW5PcmRlclxcJyB0cmFjayBieSBmaWVsZC5vYmplY3RLZXlcIiBjbGFzcz1cInRvdGFsLWNvbHVtblwiIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmd0U2V0dGluZ3MgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwndmlzaWJsZVxcJ1wiIG5nLWNsYXNzPVwiOjpbKGd0RmllbGRzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ2NsYXNzTmFtZXNcXCcpLCAoZmllbGQub2JqZWN0S2V5IHwgY2FtZWxUb0Rhc2gpICsgXFwnLWNvbHVtblxcJ11cIiBmaWVsZC1zZXR0aW5ncz1cIjo6ZmllbGRcIiBndC1yZW5kZXI9XCJcIiBhY3RpdmUtYmluZGluZ3M9XCI6OmJpbmRpbmdzXCIgcm93LWRhdGE9XCI6Omd0VG90YWxzXCIgZ3QtY29tcGlsZT1cIjo6ZmllbGQuY29tcGlsZVwiPjwvdGQ+PC90cj48L3RoZWFkPjx0Ym9keT48dHIgZ3Qtcm93PVwiXCIgbmctcmVwZWF0PVwiKHJvd0luZGV4LCByb3cpIGluIDpndFJlZnJlc2g6Z3REaXNwbGF5RGF0YSB8IGxpbWl0VG86IGRpc3BsYXlSb3dzXCIgZ3QtZXZlbnQ9XCJcIiBuZy1jbGFzcz1cIjpndFJlZnJlc2g6W2d0Um93VHJhbnNpdGlvbiA/IFxcJ2ZhZGUtaW4gYW5pbWF0ZVxcJzpcXCdcXCcscm93LmlzT3BlbiA/IFxcJ3Jvdy1vcGVuXFwnOlxcJ1xcJywgJGluZGV4ICUgMiA9PSAwID8gXFwncm93LW9kZFxcJzpcXCdyb3ctZXZlblxcJywgZ3RSb3dJbmZvWyRpbmRleF0gPyBcXCd0cnVlLWNsYXNzXFwnOlxcJ2ZhbHNlLWNsYXNzXFwnXVwiPjx0ZCBuZy1yZXBlYXQ9XCIoZmllbGRJbmRleCwgZmllbGQpIGluIDpndFJlZnJlc2g6Z3RGaWVsZHMgfCBvcmRlckJ5OlxcJ2NvbHVtbk9yZGVyXFwnIHRyYWNrIGJ5IGZpZWxkLm9iamVjdEtleVwiIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmd0U2V0dGluZ3MgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwndmlzaWJsZVxcJ1wiIG5nLWNsYXNzPVwiOjpbKGd0RmllbGRzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ2NsYXNzTmFtZXNcXCcpLCAoZmllbGQub2JqZWN0S2V5IHwgY2FtZWxUb0Rhc2gpICsgXFwnLWNvbHVtblxcJ11cIj48c3BhbiBjbGFzcz1cImd0LXJvdy1sYWJlbFwiIG5nLWlmPVwiOjooZ3RGaWVsZHMgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwnc3RhY2tlZEhlYWRpbmdcXCcpXCIgbmctYmluZD1cIjo6KGd0RmllbGRzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3N0YWNrZWRIZWFkaW5nXFwnKT09PSB0cnVlID8gKGd0RmllbGRzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ25hbWVcXCcpOihndEZpZWxkcyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCdzdGFja2VkSGVhZGluZ1xcJylcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJndC1yb3ctY29udGVudFwiIG5nLWNsYXNzPVwiOjpmaWVsZC5jbGljayA/IFxcJ2d0LWNsaWNrLWVuYWJsZWRcXCc6XFwnXFwnXCIgZmllbGQtc2V0dGluZ3M9XCI6OmZpZWxkXCIgZ3QtcmVuZGVyPVwiXCIgYWN0aXZlLWJpbmRpbmdzPVwiOjpiaW5kaW5nc1wiIHJvdy1kYXRhPVwiOjpyb3dcIiBndC1jb21waWxlPVwiOjpmaWVsZC5jb21waWxlXCIgbmctY2xpY2s9XCI6Z3RSZWZyZXNoOiFmaWVsZC5jbGljayB8fCBmaWVsZC5jbGljayhyb3cpOyFmaWVsZC5leHBhbmQgfHwgdG9nZ2xlUm93KGZpZWxkLmV4cGFuZCwoZ3RTZXR0aW5ncyB8IGZpbHRlcjp7XFwndmlzaWJsZVxcJzp0cnVlfTp0cnVlKS5sZW5ndGgscm93LGZpZWxkLm9iamVjdEtleSk7XCI+PC9zcGFuPjwvdGQ+PC90cj48L3Rib2R5Pjx0ciBuZy1pZj1cIjpndFJlZnJlc2g6cGFnaW5hdGlvbiA9PT0gZmFsc2VcIj48dGQgY2xhc3M9XCJndC1uby1kYXRhXCIgY29sc3Bhbj1cInt7Omd0UmVmcmVzaDooZ3RTZXR0aW5ncyB8IGZpbHRlcjp7XFwndmlzaWJsZVxcJzp0cnVlfTp0cnVlKS5sZW5ndGh9fVwiIG5nLWJpbmQ9XCI6Omd0VHJhbnNsYXRpb25zLm5vRGF0YVwiPjwvdGQ+PC90cj48L3RhYmxlPjwvZGl2PjxkaXYgY2xhc3M9XCJndC1wYWdpbmF0aW9uIHRleHQtY2VudGVyXCIgbmctaWY9XCI6Z3RSZWZyZXNoOmd0UGFnaW5hdGlvbiA9PT0gdHJ1ZSAmJiBwYWdpbmF0aW9uICE9PSBmYWxzZVwiPjx1bCBjbGFzcz1cInBhZ2luYXRpb25cIj48bGkgbmctY2xhc3M9XCI6Z3RSZWZyZXNoOntkaXNhYmxlZDogY3VycmVudFBhZ2UgPT09IDB9XCIgbmctc2hvdz1cImN1cnJlbnRQYWdlICE9PSAwXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bi1saW5rIGxpbmtcIiBuZy1jbGljaz1cInByZXZpb3VzUGFnZSgpXCIgbmctZGlzYWJsZWQ9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlID09PSAwXCIgbmctYmluZC1odG1sPVwiOjpndFRyYW5zbGF0aW9ucy5wcmV2aW91c1wiPjwvYnV0dG9uPjwvbGk+PGxpIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlID4gM1wiPjxidXR0b24gY2xhc3M9XCJidG4tbGluayBsaW5rXCIgbmctY2xpY2s9XCJzZXRQYWdlKDApXCI+MTwvYnV0dG9uPjxzbWFsbD4maGVsbGlwOzwvc21hbGw+PC9saT48bGkgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmU7cGFkZGluZzogMCA1cHg7XCIgbmctcmVwZWF0PVwicGFnZSBpbiA6Z3RSZWZyZXNoOnBhZ2luYXRpb25cIiBuZy1jbGFzcz1cIjpndFJlZnJlc2g6cGFnZSA9PT0gY3VycmVudFBhZ2UgPyBcXCdhY3RpdmVcXCc6XFwnXFwnXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bi1saW5rIGxpbmtcIiBuZy1jbGljaz1cInNldFBhZ2UocGFnZSlcIiBuZy1iaW5kPVwicGFnZSsxXCI+PC9idXR0b24+PC9saT48bGkgbmctc2hvdz1cIjpndFJlZnJlc2g6Y3VycmVudFBhZ2UgKzEgPCBwYWdlcy5sZW5ndGgtMSAmJiBwYWdlcy5sZW5ndGggPiA0XCI+PHNtYWxsIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlICsgMyA8IHBhZ2VzLmxlbmd0aFwiPiZoZWxsaXA7PC9zbWFsbD48YnV0dG9uIGNsYXNzPVwiYnRuLWxpbmsgbGlua1wiIG5nLWNsaWNrPVwic2V0UGFnZShwYWdlcy5sZW5ndGgtMSlcIiBuZy1iaW5kPVwicGFnZXMubGVuZ3RoXCI+PC9idXR0b24+PC9saT48bGkgbmctY2xhc3M9XCI6Z3RSZWZyZXNoOntkaXNhYmxlZDogY3VycmVudFBhZ2UgPT0gcGFnZXMubGVuZ3RofVwiIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlKzEgIT09IHBhZ2VzLmxlbmd0aFwiPjxidXR0b24gY2xhc3M9XCJidG4tbGluayBsaW5rXCIgbmctY2xpY2s9XCJuZXh0UGFnZSgpXCIgbmctZGlzYWJsZWQ9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlKzEgPT09IHBhZ2VzLmxlbmd0aFwiIG5nLWJpbmQtaHRtbD1cIjo6Z3RUcmFuc2xhdGlvbnMubmV4dFwiPjwvYnV0dG9uPjwvbGk+PC91bD48L2Rpdj48L2Rpdj4nKX1dKX0oKTsiXX0=
