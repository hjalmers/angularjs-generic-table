angular.module("angular.generic.table",["ngAnimate","angular.filter","angular.bind.notifier","ngCsv"]),!function(e){try{e=angular.module("angular.generic.table")}catch(t){e=angular.module("angular.generic.table",[])}e.run(["$templateCache",function(e){e.put("generic-table/directive/generic-table/generic-table.html",'<div class="generic-table"><div class="gt-wrapper"><table class="table table-sortable" ng-if="gtHasData" ng-class=":gtRefresh:gtClasses"><thead><tr ng-class="::gtRowTransition ? \'fade-in animate\':\'\'"><th ng-repeat="field in ::gtFields | orderBy:\'columnOrder\' track by field.objectKey" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="[field.classNames, (field.objectKey | camelToDash) + \'-column\', \'sort-\'+(gtSettings | getProperty:field.objectKey:\'sort\')]" ng-click=":gtRefresh:(gtSettings | getProperty:field.objectKey:\'sort\') === \'enable\' ? sort($event,field.objectKey):(gtSettings | getProperty:field.objectKey:\'sort\') === \'asc\' ? sort($event,field.objectKey):(gtSettings | getProperty:field.objectKey:\'sort\') === \'desc\' ? sort($event,field.objectKey):\'\'" ng-bind="::field.name"></th></tr><tr ng-if="::gtTotals" ng-class="::gtRowTransition ? \'fade-in animate\':\'\'"><td ng-repeat="field in ::gtFields | orderBy:\'columnOrder\' track by field.objectKey" class="total-column" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="::[(gtFields | getProperty:field.objectKey:\'classNames\'), (field.objectKey | camelToDash) + \'-column\']" field-settings="::field" gt-render="" active-bindings="::bindings" row-data="::gtTotals" gt-compile="::field.compile"></td></tr></thead><tbody><tr gt-row="" ng-repeat="(rowIndex, row) in :gtRefresh:gtDisplayData | limitTo: displayRows" gt-event="" ng-class=":gtRefresh:[gtRowTransition ? \'fade-in animate\':\'\',row.isOpen ? \'row-open\':\'\', $index % 2 == 0 ? \'row-odd\':\'row-even\', gtRowInfo[$index] ? \'true-class\':\'false-class\']"><td ng-repeat="(fieldIndex, field) in :gtRefresh:gtFields | orderBy:\'columnOrder\' track by field.objectKey" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="::[(gtFields | getProperty:field.objectKey:\'classNames\'), (field.objectKey | camelToDash) + \'-column\']"><span class="gt-row-label" ng-if="::(gtFields | getProperty:field.objectKey:\'stackedHeading\')" ng-bind="::(gtFields | getProperty:field.objectKey:\'stackedHeading\')=== true ? (gtFields | getProperty:field.objectKey:\'name\'):(gtFields | getProperty:field.objectKey:\'stackedHeading\')"></span><span class="gt-row-content" ng-class="::field.click ? \'gt-click-enabled\':\'\'" field-settings="::field" gt-render="" active-bindings="::bindings" row-data="::row" gt-compile="::field.compile" ng-click=":gtRefresh:!field.click || field.click(row);!field.expand || toggleRow(field.expand,(gtSettings | filter:{\'visible\':true}:true).length,row,field.objectKey);"></span></td></tr></tbody><tr ng-if=":gtRefresh:pagination === false"><td class="gt-no-data" colspan="{{:gtRefresh:(gtSettings | filter:{\'visible\':true}:true).length}}" ng-bind="::gtTranslations.noData"></td></tr></table></div><div class="gt-pagination text-center" ng-if=":gtRefresh:gtPagination === true && pagination !== false"><ul class="pagination"><li ng-class=":gtRefresh:{disabled: currentPage === 0}" ng-show="currentPage !== 0"><button class="btn-link link" ng-click="previousPage()" ng-disabled=":gtRefresh:currentPage === 0" ng-bind-html="::gtTranslations.previous"></button></li><li ng-show=":gtRefresh:currentPage > 3"><button class="btn-link link" ng-click="setPage(0)">1</button><small>&hellip;</small></li><li style="display: inline;padding: 0 5px;" ng-repeat="page in :gtRefresh:pagination" ng-class=":gtRefresh:page === currentPage ? \'active\':\'\'"><button class="btn-link link" ng-click="setPage(page)" ng-bind="page+1"></button></li><li ng-show=":gtRefresh:currentPage +1 < pages.length-1 && pages.length > 4"><small ng-show=":gtRefresh:currentPage + 3 < pages.length">&hellip;</small><button class="btn-link link" ng-click="setPage(pages.length-1)" ng-bind="pages.length"></button></li><li ng-class=":gtRefresh:{disabled: currentPage == pages.length}" ng-show=":gtRefresh:currentPage+1 !== pages.length"><button class="btn-link link" ng-click="nextPage()" ng-disabled=":gtRefresh:currentPage+1 === pages.length" ng-bind-html="::gtTranslations.next"></button></li></ul></div></div>')}])}(),angular.module("angular.generic.table").directive("genericTable",function(){return{restrict:"E",replace:!0,scope:{gtId:"=?gtId",gtClasses:"@gtClasses",gtSettings:"=gtSettings",gtFields:"=gtFields",gtTotals:"=?gtTotals",gtData:"=?gtData",gtRows:"@gtRows",gtRowTransition:"@gtRowTransition",gtPagination:"@gtPagination",gtExpand:"=?",gtTranslations:"=?"},templateUrl:"generic-table/directive/generic-table/generic-table.html",link:function(e,t,n,i){},controller:"genericTableController"}}).controller("genericTableController",["$scope","$filter","$timeout","CSV","$document",function(e,t,n,i,a){var r,o,s,g,l,c,d,f="undefined"==typeof e.gtSettings?!1:t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey});e.gtPagination="undefined"==typeof e.gtPagination?!0:"false"!==e.gtPagination,e.gtRows="undefined"==typeof e.gtRows?20:e.gtRows,e.gtTranslations="undefined"==typeof e.gtTranslations?{}:e.gtTranslations,e.gtTranslations.noData="undefined"==typeof e.gtTranslations.noData?"No table data to display":e.gtTranslations.noData,e.gtTranslations.previous="undefined"==typeof e.gtTranslations.previous?"&laquo; Prev":e.gtTranslations.previous,e.gtTranslations.next="undefined"==typeof e.gtTranslations.next?"Next &raquo;":e.gtTranslations.next,e.gtId="undefined"==typeof e.gtId?e.$id:e.gtId,e.gtExpand="undefined"==typeof e.gtExpand?{}:e.gtExpand,e.gtExpand.directive="undefined"==typeof e.gtExpand.directive?"":e.gtExpand.directive,e.gtExpand.multiple="undefined"==typeof e.gtExpand.multiple?!1:e.gtExpand.multiple,e.gtExpand.rows="undefined"==typeof e.gtExpand.rows?[]:e.gtExpand.rows,e.bindings=[],e.syncRows=function(t,n){if(t&&e.gtDisplayData){for(var i=0;i<e.gtDisplayData.length;i++)-1===e.gtExpand.rows.indexOf(i)&&e.$broadcast("$gt-open-row:"+i,n);e.$broadcast("$$rebind::gtRefresh")}else if(e.gtDisplayData){for(var i=0;i<e.gtRows;i++)-1!==e.gtExpand.rows.indexOf(i)&&e.$broadcast("$gt-close-row:"+i);e.$broadcast("$$rebind::gtRefresh")}},e.removeBinding=function(){var n=t("map")(e.gtDisplayData,"$$hashKey");if(e.bindings.length>0)for(var i=0;i<e.bindings.length;i++)n&&-1===n.indexOf(e.bindings[i].$$hashKey)&&e.bindings[i].scope.$destroy()};var u=function(){t("map")(e.gtSettings,function(n){try{var i=t("filter")(e.gtFields,{objectKey:n.objectKey},!0)[0];i.columnOrder=n.columnOrder,n["export"]===!1&&(i.exportField=!1)}catch(a){console.log('field definition object for property: "'+n.objectKey+'" not found.',a)}})};u();var p=function(t){e.gtHasData=!1,r=t.slice(0),e.$emit("gt-started-data-processing",e.gtId),h(t)},b=function(t){e.gtHasData=!1,r=t.slice(0),e.$emit("gt-started-data-processing",e.gtId),h(t)},h=function(n){l=t("map")(t("removeWith")(e.gtFields.slice(0),{search:!1}),"objectKey");var i=t("map")(t("filter")(e.gtSettings,{enabled:!0},!0),"objectKey");o=t("map")(n,function(n){var a={};return t("map")(i,function(i){if("undefined"!=typeof n[i])a[i]=n[i];else{var r=t("map")(t("filter")(e.gtFields,{objectKey:i},!0),"value")[0];r&&angular.isFunction(r)?a[i]=r(n):console.log('property: "'+i+'" does not exists in data object and no value function was declared')}}),a}),y(o)},y=function(n,i){var a=t("filter")(n.slice(0),c,function(e,t){return t.indexOf(e)>-1},!0).slice(0);s=t("searchRow")(a,l,i,e.gtFields),v()},v=function(){g=f!==!1?t("gtSort")(s,f,e.gtFields):s,m()},m=function(){e.pages=t("chunkBy")(g,parseInt(e.gtRows)),e.currentPage=0,e.loading=!0,e.$emit("gt-started-rendering"),e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),n(function(){e.$emit("gt-finished-data-processing",e.gtId),e.gtHasData=!0},200),e.$broadcast("$$rebind::gtRefresh")};e.$on("gt-update-table:"+e.gtId,function(e,t){b(t)}),e.$on("gt-search-table:"+e.gtId,function(e,t){d=t,y(o.slice(0),t)}),e.$on("gt-filter-table:"+e.gtId,function(e,t){c=t,y(o.slice(0),d)}),e.$on("gt-open-all-rows:"+e.gtId,function(t,n){e.syncRows(!0,!0)}),e.$on("gt-close-all-rows:"+e.gtId,function(t,n){e.syncRows(!1)}),e.$on("gt-update-structure:"+e.gtId,function(n,i){e.gtFields=i.fields,e.gtSettings=i.settings,u(),l=t("map")(t("removeWith")(e.gtFields.slice(0),{search:!1}),"objectKey"),f===!1||i.forceSorting===!0?f=t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey}):(t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){e.sort="enable"}),t("map")(f,function(n){var i=-1===n.indexOf("-")?"asc":"desc";n=n.replace("-",""),t("filter")(e.gtSettings,{objectKey:n},!0)[0].sort=i}))}),e.$on("gt-paginate-table:"+e.gtId,function(t,n){e.gtRows=parseInt(n),m()}),e.$on("gt-export-csv:"+e.gtId,function(e,t){$(t)});var w=function(t,n){return e.syncRows(!1),e.removeBinding(),e.pagination=[],0===t?(e.pagination=!1,void e.$emit("gt-table-filtered",{total:o.length,filtered:0,showingFrom:0,showingTo:0,pageLength:e.gtRows,currentPage:0,numberOfPages:0})):(2>t?e.pagination=[0]:3>t?e.pagination=[0,1]:4>t?e.pagination=[0,1,2]:5>t?e.pagination=[0,1,2,3]:4>n?e.pagination=[0,1,2,3,4]:t>n+1?e.pagination=[n-1,n,n+1]:t===n+1?e.pagination=[n-2,n-1,n]:t-4>n&&(e.pagination=[n-1,n,n+1,n+2]),void e.$emit("gt-table-filtered",{total:o.length,filtered:s.length,showingFrom:e.currentPage*e.gtRows+(e.currentPage>1?0:1),showingTo:e.currentPage*e.gtRows+e.gtDisplayData.length,pageLength:e.gtRows,currentPage:e.currentPage,numberOfPages:e.pages.length}))};e.nextPage=function(){try{e.currentPage++,e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(t){console.log(t)}},e.previousPage=function(){try{e.currentPage--,e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(t){console.log(t)}},e.setPage=function(t){try{e.currentPage=t,e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(n){console.log(n)}},e.sort=function(n,i){var a=n.ctrlKey||n.metaKey;if(!a&&i)for(var r=0;e.gtSettings.length>r;r++){var o=e.gtSettings[r];(o.objectKey!==i&&"asc"===o.sort||o.objectKey!==i&&"desc"===o.sort)&&(e.gtSettings[r].sort="enable")}if(i)for(var r=0;e.gtSettings.length>r;r++){var o=e.gtSettings[r];if(o.objectKey===i){var s=o.sort;switch(s){case"disable":break;case"enable":e.gtSettings[r].sort="asc";break;case"asc":e.gtSettings[r].sort="desc";break;case"desc":e.gtSettings[r].sort="enable"}}}f=t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey}),v()},e.gtData&&p(e.gtData);var $=function(r){r="undefined"==typeof r?{}:r;for(var o="undefined"==typeof r.fileName?"export":r.fileName,s=JSON.parse(angular.toJson(g.slice(0))),l=0;l<s.length;l++){var c=s[l];for(var d in c)if(c.hasOwnProperty(d)){var f=t("filter")(e.gtFields,{objectKey:d},!0)[0],u=(t("filter")(e.gtSettings,{objectKey:d},!0)[0],f["export"]);if(u&&angular.isFunction(u)){var p=u(c,d);c[d]=f.exportEscapeString===!1?p:t("escapeCsvString")(p)}else c[d]=f.exportEscapeString===!1?c[d]:t("escapeCsvString")(c[d])}}var b=s;if("undefined"!=typeof r.exportColumns)var h=t("map")(r.exportColumns,function(n){return t("filter")(e.gtFields.slice(0),{objectKey:n},!0)[0]});else var h=t("orderBy")(t("removeWith")(e.gtFields,{exportField:!1}),"columnOrder");var y={fieldSep:"undefined"==typeof r.fieldSep?";":r.fieldSep,header:t("map")(h,"name"),txtDelim:"undefined"==typeof r.txtDelim?'"':r.txtDelim,columnOrder:t("map")(h,"objectKey"),decimalSep:"undefined"==typeof r.decimalSep?",":r.decimalSep,addByteOrderMarker:"undefined"==typeof r.addBom,charset:"undefined"==typeof r.charset?"utf-8":r.charset,quoteStrings:"undefined"==typeof r.quoteStrings?!1:r.quoteStrings};i.stringify(b,y).then(function(e){var t;if(window.navigator.msSaveOrOpenBlob)t=new Blob([e],{type:"text/csv;charset=utf-8;"}),navigator.msSaveBlob(t,"export.csv");else if("Microsoft Internet Explorer"===window.navigator.appName){window.alert("You're using an old version of Internet Explorer and the export might therefore have the wrong format, please update your browser.");var i=angular.element("<iframe></iframe>");i[0].style.display="none";var r=angular.element("body");r.append(i);var s=null;i[0].contentDocument?s=i[0].contentDocument:i[0].contentWindow&&(s=i[0].contentWindow.document),s.open("text/plain","replace"),s.write([e]),s.close(),s.execCommand("SaveAs",!0,o+".csv")}else{t=new Blob([e],{type:"text/csv;charset=utf-8;"});var g=angular.element("<a></a>");g.attr("href",window.URL.createObjectURL(t)),g.attr("download",o+".csv"),a.find("body").append(g),n(function(){g[0].click(),g.remove()},null)}})}}]).directive("gtRow",["$compile","$filter",function(e,t){return{restrict:"A",scope:!1,link:function(n,i,a,r){var o=t("filter")(n.gtSettings,{visible:!0},!0).length,s=function(t){n.gtExpand.multiple||t?"":n.syncRows(!1);var a=n.$new(),r=e('<tr class="expanded-row"><td colspan="'+o+'">'+n.gtExpand.directive+"</td></tr>")(a);i.after(r),n.row.isOpen=!0,n.gtExpand.rows.push(l)},g=function(){n.row.isOpen=!1,n.gtExpand.rows.splice(n.gtExpand.rows.indexOf(l),1),i.next().scope().$destroy(),i.next().remove()},l=n.$index;n.toggleRow=function(){var e=-1!==n.gtExpand.rows.indexOf(l);e?g():s(),n.$broadcast("$$rebind::gtRefresh")},n.$on("$gt-open-row:"+l,function(e,t){var i=-1!==n.gtExpand.rows.indexOf(l);i||s(t)}),n.$on("$gt-close-row:"+l,function(){var e=-1!==n.gtExpand.rows.indexOf(l);e&&g()})}}}]).directive("gtEvent",function(){return{restrict:"A",link:function(e,t,n,i){e.$last&&e.$emit("gt-finished-rendering",e.gtId)}}}).directive("gtRender",["$compile",function(e){return{restrict:"A",scope:{row:"=rowData",settings:"=fieldSettings",compile:"=gtCompile",activeBindings:"=activeBindings"},link:function(t,n,i,a){var r,o=t.row,s=t.settings.objectKey,g=t.settings.render;if(r=g&&angular.isFunction(g)?g(o,s):o[s],t.compile&&t.compile!==!1){var l;t.compile!==!0&&t.compile.$watch?(l=t.compile.$new(),t.activeBindings.push({$$hashKey:t.row.$$hashKey,scope:l})):l=t.$parent.$new(),r=e(r)(l),n.append(r)}else n[0].innerHTML=null===r?"":r}}}]).filter("getProperty",["$filter",function(e){return function(t,n,i){try{var a=e("filter")(t,{objectKey:n},!0)[0][i]}catch(r){console.log('cannot read property: "'+i+'" on missing key: "'+n+'" in settings.',r)}return a}}]).filter("searchRow",["$filter","$interpolate",function(e,t){return function(t,n,i,a){for(var r={},o=0;o<a.length;o++){var s=a[o];if(s.search&&angular.isFunction(s.search)){var g=s.objectKey;r[g]=s.search}}if(!i||0===i.replace(/"/g,"").length)return t;var l=[];i="undefined"==typeof i?"":i;for(var c=i.toLowerCase().match(/"[^"]+"|[\w]+/g),d=0;d<t.length;d++){var f=t[d],u="",p=0;e("map")(n,function(e){var t=0===p?"":" & ";u+=r[e]?t+r[e](f,e):t+f[e],p++}),u=u.toLowerCase();for(var b=!0,o=0;o<c.length;o++){var h=c[o].replace(/"/g,"");if(b=-1!==u.indexOf(h),!b)break}b&&l.push(f)}return l}}]).filter("camelToDash",function(){return function(e){try{return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}catch(t){console.log("nothing to replace:",t)}}}).filter("gtSort",function(){return function(e,t,n){function i(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,i){var a=null===n[e]?"":r[e]?r[e](n,e):n[e],o=null===i[e]?"":r[e]?r[e](i,e):i[e],s=o>a?-1:a>o?1:0;return s*t}}function a(e){var t=e;return function(e,n){for(var a=0,r=0,o=t.length;0===r&&o>a;)r=i(t[a])(e,n),a++;return r}}for(var r={},o=0;o<n.length;o++){var s=n[o];s.sort&&angular.isFunction(s.sort)&&(r[s.objectKey]=s.sort)}return e.sort(a(t))}}).filter("escapeCsvString",function(){return function(e){return/^(\=|\@|\+,\-).*/g.test(e)?"'"+e:e}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyaWMtdGFibGUuanMiLCJhbmd1bGFyLmdlbmVyaWMudGFibGUudHBsLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJlIiwidCIsInJ1biIsInB1dCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsInNjb3BlIiwiZ3RJZCIsImd0Q2xhc3NlcyIsImd0U2V0dGluZ3MiLCJndEZpZWxkcyIsImd0VG90YWxzIiwiZ3REYXRhIiwiZ3RSb3dzIiwiZ3RSb3dUcmFuc2l0aW9uIiwiZ3RQYWdpbmF0aW9uIiwiZ3RFeHBhbmQiLCJndFRyYW5zbGF0aW9ucyIsInRlbXBsYXRlVXJsIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsImZuIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRmaWx0ZXIiLCIkdGltZW91dCIsIkNTViIsIiRkb2N1bWVudCIsIm9yaWdpbmFsRGF0YSIsIm1hcHBlZERhdGEiLCJmaWx0ZXJlZERhdGEiLCJzb3J0ZWREYXRhIiwic2VhcmNoQ29sdW1ucyIsInRhYmxlRmlsdGVycyIsInNlYXJjaFRlcm1zIiwic29ydGluZyIsInNvcnQiLCJleHBlY3RlZCIsImFjdHVhbCIsImluZGV4T2YiLCJvYmplY3RLZXkiLCJub0RhdGEiLCJwcmV2aW91cyIsIm5leHQiLCIkaWQiLCJtdWx0aXBsZSIsInJvd3MiLCJiaW5kaW5ncyIsInN5bmNSb3dzIiwib3BlbiIsImZvcmNlIiwiZ3REaXNwbGF5RGF0YSIsImkiLCJsZW5ndGgiLCIkYnJvYWRjYXN0IiwicmVtb3ZlQmluZGluZyIsImFjdGl2ZUl0ZW1zIiwiJCRoYXNoS2V5IiwiJGRlc3Ryb3kiLCJleHRlbmRGaWVsZERlZmluaXRpb25zIiwic2V0dGluZyIsImZpZWxkIiwiY29sdW1uT3JkZXIiLCJleHBvcnRGaWVsZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImluaXRUYWJsZSIsImluaXREYXRhIiwiZ3RIYXNEYXRhIiwic2xpY2UiLCIkZW1pdCIsIm1hcEtleXMiLCJjaGFuZ2VEYXRhIiwibmV3RGF0YSIsImRhdGEiLCJzZWFyY2giLCJwcm9wZXJ0aWVzIiwiZW5hYmxlZCIsInJvdyIsIm9iaiIsInByb3BlcnR5IiwidmFsdWVGdW5jdGlvbiIsImlzRnVuY3Rpb24iLCJhcHBseUZpbHRlciIsImZpbHRlcmVkIiwiYXBwbHlTb3J0IiwiYXBwbHlQYWdpbmF0aW9uIiwicGFnZXMiLCJwYXJzZUludCIsImN1cnJlbnRQYWdlIiwibG9hZGluZyIsInBhZ2luYXRpb24iLCIkb24iLCJldmVudCIsImFyZyIsImZpZWxkcyIsInNldHRpbmdzIiwiZm9yY2VTb3J0aW5nIiwic29ydFByb3BlcnR5IiwiZ3RFeHBvcnQiLCJ0b3RhbFBhZ2VzIiwidG90YWwiLCJzaG93aW5nRnJvbSIsInNob3dpbmdUbyIsInBhZ2VMZW5ndGgiLCJudW1iZXJPZlBhZ2VzIiwibmV4dFBhZ2UiLCJwcmV2aW91c1BhZ2UiLCJzZXRQYWdlIiwicGFnZSIsIiRldmVudCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwib3B0aW9ucyIsImZpbGVOYW1lIiwiZXhwb3J0RGF0YSIsIkpTT04iLCJwYXJzZSIsInRvSnNvbiIsImtleSIsImhhc093blByb3BlcnR5IiwiZmllbGRTZXR0aW5nIiwiZXhwb3J0TWV0aG9kIiwiZXhwb3J0VmFsdWUiLCJleHBvcnRFc2NhcGVTdHJpbmciLCJleHBvcnRDb2x1bW5zIiwiZXhwb3J0RmllbGRzIiwiaGVhZGVycyIsImZpZWxkU2VwIiwiaGVhZGVyIiwidHh0RGVsaW0iLCJkZWNpbWFsU2VwIiwiYWRkQnl0ZU9yZGVyTWFya2VyIiwiYWRkQm9tIiwiY2hhcnNldCIsInF1b3RlU3RyaW5ncyIsInN0cmluZ2lmeSIsInRoZW4iLCJyZXN1bHQiLCJibG9iIiwid2luZG93IiwibmF2aWdhdG9yIiwibXNTYXZlT3JPcGVuQmxvYiIsIkJsb2IiLCJ0eXBlIiwibXNTYXZlQmxvYiIsImFwcE5hbWUiLCJhbGVydCIsImlmcmFtZSIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZCIsImRvYyIsImNvbnRlbnREb2N1bWVudCIsImNvbnRlbnRXaW5kb3ciLCJkb2N1bWVudCIsIndyaXRlIiwiY2xvc2UiLCJleGVjQ29tbWFuZCIsImRvd25sb2FkTGluayIsImF0dHIiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJmaW5kIiwiY2xpY2siLCJyZW1vdmUiLCIkY29tcGlsZSIsImNvbHVtbnMiLCJ2aXNpYmxlIiwiYWRkUm93Iiwib3BlbkFsbCIsIm5ld1Njb3BlIiwiJG5ldyIsImFmdGVyIiwiaXNPcGVuIiwicHVzaCIsImluZGV4IiwicmVtb3ZlUm93Iiwic3BsaWNlIiwiJGluZGV4IiwidG9nZ2xlUm93IiwiZXhwYW5kZWQiLCIkbGFzdCIsImNvbXBpbGUiLCJhY3RpdmVCaW5kaW5ncyIsIm91dHB1dCIsInJlbmRlck1ldGhvZCIsInJlbmRlciIsImVsZW1lbnRTY29wZSIsIiR3YXRjaCIsIiRwYXJlbnQiLCJpbm5lckhUTUwiLCJmaWx0ZXIiLCIkaW50ZXJwb2xhdGUiLCJhcnJheSIsImZpZWxkc1NldHRpbmdzIiwiayIsImZpbHRlcmVkQXJyYXkiLCJzZWFyY2hUZXJtc0FycmF5IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsInN0cmluZyIsImoiLCJzZXBhcmF0b3IiLCJ0ZXJtIiwicHJvcGVydHlBcnJheSIsImR5bmFtaWNTb3J0Iiwic29ydE9yZGVyIiwic3Vic3RyIiwiYSIsImIiLCJ2YWx1ZTEiLCJjdXN0b21Tb3J0IiwidmFsdWUyIiwiZHluYW1pY1NvcnRNdWx0aXBsZSIsInByb3BzIiwib2JqMSIsIm9iajIiLCJudW1iZXJPZlByb3BlcnRpZXMiLCJpbnB1dCIsInRlc3QiXSwibWFwcGluZ3MiOiJBQU9BQSxRQUFBQyxPQUFBLHlCQUFBLFlBQUEsaUJBQUEsd0JBQUEsV0NQQSxTQUFBQyxHQUFBLElBQUFBLEVBQUFGLFFBQUFDLE9BQUEseUJBQUEsTUFBQUUsR0FBQUQsRUFBQUYsUUFBQUMsT0FBQSw0QkFBQUMsRUFBQUUsS0FBQSxpQkFBQSxTQUFBRixHQUFBQSxFQUFBRyxJQUFB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QUFvSSxFQUFBcEksR0FBQWtJLEVBQUFsSSxHQUFBa0ksRUFBQWxJLEdBQ0EwRCxFQUFBMkUsRUFBQUYsRUFBQSxHQUFBQSxFQUFBRSxFQUFBLEVBQUEsQ0FDQSxPQUFBM0UsR0FBQXFFLEdBR0EsUUFBQU8sR0FBQVQsR0FNQSxHQUFBVSxHQUFBVixDQUNBLE9BQUEsVUFBQVcsRUFBQUMsR0FLQSxJQUpBLEdBQUF0SyxHQUFBLEVBQUF1RixFQUFBLEVBQUFnRixFQUFBSCxFQUFBbkssT0FJQSxJQUFBc0YsR0FBQWdGLEVBQUF2SyxHQUNBdUYsRUFBQW9FLEVBQUFTLEVBQUFwSyxJQUFBcUssRUFBQUMsR0FDQXRLLEdBRUEsT0FBQXVGLElBeENBLElBQUEsR0FIQTBFLE1BR0FqSyxFQUFBLEVBQUFBLEVBQUE0QyxFQUFBM0MsT0FBQUQsSUFBQSxDQUNBLEdBQUFTLEdBQUFtQyxFQUFBNUMsRUFHQVMsR0FBQXpCLE1BQUF4QyxRQUFBdUYsV0FBQXRCLEVBQUF6QixRQUdBaUwsRUFBQXhKLEVBQUFyQixXQUFBcUIsRUFBQXpCLE1Bb0NBLE1BQUErSixHQUFBL0osS0FBQW1MLEVBQUFULE9BRUFiLE9BQUEsa0JBQUEsV0FDQSxNQUFBLFVBQUEyQixHQUNBLE1BQUEsb0JBQUFDLEtBQUFELEdBQUEsSUFBQUEsRUFBQUEiLCJmaWxlIjoiYW5ndWxhci1nZW5lcmljLXRhYmxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIGFuZ3VsYXIuZ2VuZXJpYy50YWJsZS5kaXJlY3RpdmU6Z2VuZXJpY1RhYmxlXHJcbiAqIEByZXF1aXJlcyAvLyAncHJvdmlkZSBhbnkgZGVwZW5kZW5jaWVzIGV4LiAkc2NvcGUsIHlvdSBjYW4gaGF2ZSBtdWx0aXBsZSBAcmVxdWlyZXMgbGluZXMnXHJcbiAqXHJcbiAqIEByZXN0cmljdCBFXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXNjcmlwdGlvbiBvZiBnZW5lcmljVGFibGUgZGlyZWN0aXZlLCBsb3JlbSBpcHN1bSBkb2xhciBzaXQgYW1ldFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IGRhdGEtYXR0cmlidXRlIC8vICdhdHRyaWJ1dGVzIHVzZWQgYnkgZGlyZWN0aXZlLCB5b3UgY2FuIGhhdmUgbXVsdGlwbGUgQHBhcmFtIGxpbmVzJ1xyXG4gKlxyXG4gKiAgQGV4YW1wbGUgPHByZT5cclxuICpcclxuICogPGdlbmVyaWMtdGFibGUgZGF0YS1hdHRyaWJ1dGU9XCJteS12YWx1ZVwiPjwvZ2VuZXJpYy10YWJsZT5cclxuICpcclxuICogPC9wcmU+XHJcbiAqL1xyXG5hbmd1bGFyLm1vZHVsZSgnYW5ndWxhci5nZW5lcmljLnRhYmxlJykuZGlyZWN0aXZlKCdnZW5lcmljVGFibGUnLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgIGd0SWQ6Jz0/Z3RJZCcsXHJcbiAgICAgICAgICAgIGd0Q2xhc3NlczonQGd0Q2xhc3NlcycsXHJcbiAgICAgICAgICAgIGd0U2V0dGluZ3M6Jz1ndFNldHRpbmdzJyxcclxuICAgICAgICAgICAgZ3RGaWVsZHM6Jz1ndEZpZWxkcycsXHJcbiAgICAgICAgICAgIGd0VG90YWxzOic9P2d0VG90YWxzJyxcclxuICAgICAgICAgICAgLy9ndEluZGV4Oic9Z3RJbmRleCcsXHJcbiAgICAgICAgICAgIGd0RGF0YTonPT9ndERhdGEnLFxyXG4gICAgICAgICAgICBndFJvd3M6J0BndFJvd3MnLFxyXG4gICAgICAgICAgICBndFJvd1RyYW5zaXRpb246J0BndFJvd1RyYW5zaXRpb24nLFxyXG4gICAgICAgICAgICBndFBhZ2luYXRpb246J0BndFBhZ2luYXRpb24nLFxyXG4gICAgICAgICAgICAvL2d0Tm9EYXRhVHh0OidAJyxcclxuICAgICAgICAgICAgZ3RFeHBhbmQ6Jz0/JyxcclxuICAgICAgICAgICAgZ3RUcmFuc2xhdGlvbnM6Jz0/J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdnZW5lcmljLXRhYmxlL2RpcmVjdGl2ZS9nZW5lcmljLXRhYmxlL2dlbmVyaWMtdGFibGUuaHRtbCcsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBmbikge1xyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6XCJnZW5lcmljVGFibGVDb250cm9sbGVyXCJcclxuICAgIH07XHJcbn0pLmNvbnRyb2xsZXIoJ2dlbmVyaWNUYWJsZUNvbnRyb2xsZXInLGZ1bmN0aW9uKCRzY29wZSwkZmlsdGVyLCR0aW1lb3V0LCBDU1YsJGRvY3VtZW50KXtcclxuICAgIHZhciBvcmlnaW5hbERhdGE7IC8vIG9yaWdpbmFsIHVudG91Y2hlZCBkYXRhXHJcbiAgICB2YXIgbWFwcGVkRGF0YTsgLy8gbWFwcGVkIGRhdGEsIGFycmF5IGNvbnRhaW5pbmcgbWFwcGVkIGtleXMgdXNlZCBieSB0YWJsZVxyXG4gICAgdmFyIGZpbHRlcmVkRGF0YTsgLy8gZmlsdGVyZWQgbWFwcGVkIGRhdGFcclxuICAgIHZhciBzb3J0ZWREYXRhOyAvLyBzb3J0ZWQgbWFwcGVkIGRhdGFcclxuICAgIHZhciBzZWFyY2hDb2x1bW5zOyAvLyBjb2x1bW5zIHRvIHNlYXJjaFxyXG4gICAgdmFyIHRhYmxlRmlsdGVyczsgLy8gZmlsdGVycyBhcHBsaWVkIHRvIHRoZSB0YWJsZSBpbnRlcm5hbGx5XHJcbiAgICB2YXIgc2VhcmNoVGVybXM7IC8vIHNlYXJjaCB0ZXJtcyB1c2VkIGZvciBzZWFyY2hpbmcgdGFibGVcclxuXHJcbiAgICB2YXIgc29ydGluZyA9IHR5cGVvZiAkc2NvcGUuZ3RTZXR0aW5ncyA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZTokZmlsdGVyKCdtYXAnKSgkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RTZXR0aW5ncyx7c29ydDpcImFzYyBkZXNjXCJ9LGZ1bmN0aW9uKGV4cGVjdGVkLCBhY3R1YWwpe1xyXG4gICAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgPiAtMTtcclxuICAgIH0pLGZ1bmN0aW9uKHNvcnQpe1xyXG4gICAgICAgIHJldHVybiAoc29ydC5zb3J0ID09PSAnZGVzYycgPyAnLSc6JycpICsgc29ydC5vYmplY3RLZXlcclxuICAgIH0pOyAvLyByZXR1cm5zIGFycmF5IGNvbnRhaW5pbmcgc29ydGluZyBjcml0ZXJpYVxyXG4gICAgJHNjb3BlLmd0UGFnaW5hdGlvbiA9IHR5cGVvZiAkc2NvcGUuZ3RQYWdpbmF0aW9uID09PSAndW5kZWZpbmVkJyA/IHRydWU6JHNjb3BlLmd0UGFnaW5hdGlvbiAhPT0gJ2ZhbHNlJztcclxuICAgICRzY29wZS5ndFJvd3MgPSB0eXBlb2YgJHNjb3BlLmd0Um93cyA9PT0gJ3VuZGVmaW5lZCcgPyAyMDokc2NvcGUuZ3RSb3dzO1xyXG5cclxuICAgIC8vIHRleHQgdHJhbnNsYXRpb25zXHJcbiAgICAkc2NvcGUuZ3RUcmFuc2xhdGlvbnMgPSB0eXBlb2YgJHNjb3BlLmd0VHJhbnNsYXRpb25zID09PSAndW5kZWZpbmVkJyA/IHt9OiRzY29wZS5ndFRyYW5zbGF0aW9ucztcclxuICAgICRzY29wZS5ndFRyYW5zbGF0aW9ucy5ub0RhdGEgPSB0eXBlb2YgJHNjb3BlLmd0VHJhbnNsYXRpb25zLm5vRGF0YSA9PT0gJ3VuZGVmaW5lZCcgPyAnTm8gdGFibGUgZGF0YSB0byBkaXNwbGF5Jzokc2NvcGUuZ3RUcmFuc2xhdGlvbnMubm9EYXRhO1xyXG4gICAgJHNjb3BlLmd0VHJhbnNsYXRpb25zLnByZXZpb3VzID0gdHlwZW9mICRzY29wZS5ndFRyYW5zbGF0aW9ucy5wcmV2aW91cyA9PT0gJ3VuZGVmaW5lZCcgPyAnJmxhcXVvOyBQcmV2Jzokc2NvcGUuZ3RUcmFuc2xhdGlvbnMucHJldmlvdXM7XHJcbiAgICAkc2NvcGUuZ3RUcmFuc2xhdGlvbnMubmV4dCA9IHR5cGVvZiAkc2NvcGUuZ3RUcmFuc2xhdGlvbnMubmV4dCA9PT0gJ3VuZGVmaW5lZCcgPyAnTmV4dCAmcmFxdW87Jzokc2NvcGUuZ3RUcmFuc2xhdGlvbnMubmV4dDtcclxuXHJcbiAgICAkc2NvcGUuZ3RJZCA9IHR5cGVvZiAkc2NvcGUuZ3RJZCA9PT0gJ3VuZGVmaW5lZCcgPyAkc2NvcGUuJGlkOiRzY29wZS5ndElkO1xyXG5cclxuICAgICRzY29wZS5ndEV4cGFuZCA9IHR5cGVvZiAkc2NvcGUuZ3RFeHBhbmQgPT09ICd1bmRlZmluZWQnID8ge306JHNjb3BlLmd0RXhwYW5kO1xyXG4gICAgJHNjb3BlLmd0RXhwYW5kLmRpcmVjdGl2ZSA9IHR5cGVvZiAkc2NvcGUuZ3RFeHBhbmQuZGlyZWN0aXZlID09PSAndW5kZWZpbmVkJyA/ICcnOiRzY29wZS5ndEV4cGFuZC5kaXJlY3RpdmU7XHJcbiAgICAkc2NvcGUuZ3RFeHBhbmQubXVsdGlwbGUgPSB0eXBlb2YgJHNjb3BlLmd0RXhwYW5kLm11bHRpcGxlID09PSAndW5kZWZpbmVkJyA/IGZhbHNlOiRzY29wZS5ndEV4cGFuZC5tdWx0aXBsZTtcclxuICAgICRzY29wZS5ndEV4cGFuZC5yb3dzID0gdHlwZW9mICRzY29wZS5ndEV4cGFuZC5yb3dzID09PSAndW5kZWZpbmVkJyA/IFtdOiRzY29wZS5ndEV4cGFuZC5yb3dzO1xyXG4gICAgJHNjb3BlLmJpbmRpbmdzID0gW107XHJcblxyXG4gICAgLy8gc3luYyByb3cgc3RhdGUgaS5lLiBpZiByb3cgc2hvdWxkIGJlIG9wZW5lZCBvciBjbG9zZWRcclxuICAgICRzY29wZS5zeW5jUm93cyA9IGZ1bmN0aW9uIChvcGVuLCBmb3JjZSkge1xyXG4gICAgICAgIGlmKG9wZW4gJiYgJHNjb3BlLmd0RGlzcGxheURhdGEpe1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwO2kgPCAkc2NvcGUuZ3REaXNwbGF5RGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUuZ3RFeHBhbmQucm93cy5pbmRleE9mKGkpID09PSAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyRndC1vcGVuLXJvdzonK2ksIGZvcmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmd0RGlzcGxheURhdGEpIHtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDtpIDwgJHNjb3BlLmd0Um93czsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKCRzY29wZS5ndEV4cGFuZC5yb3dzLmluZGV4T2YoaSkgIT09IC0xKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJGd0LWNsb3NlLXJvdzonK2kpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCckJHJlYmluZDo6Z3RSZWZyZXNoJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyByZW1vdmUgYmluZGluZ3MgYW5kIG9sZCB3YXRjaGVyc1xyXG4gICAgJHNjb3BlLnJlbW92ZUJpbmRpbmcgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJHNjb3BlLmd0RGlzcGxheURhdGEsJHNjb3BlLmJpbmRpbmdzKTtcclxuICAgICAgICB2YXIgYWN0aXZlSXRlbXMgPSAkZmlsdGVyKCdtYXAnKSgkc2NvcGUuZ3REaXNwbGF5RGF0YSwnJCRoYXNoS2V5Jyk7XHJcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhY3RpdmUgYmluZGluZ3MgdGhhdCB3ZSBuZWVkIHRvIHJlbW92ZS4uLlxyXG4gICAgICAgIGlmKCRzY29wZS5iaW5kaW5ncy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuYmluZGluZ3MubGVuZ3RoO2krKyl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRlbSBpcyBwYXJ0IG9mIGFjdGl2ZSB2aWV3Li4uXHJcbiAgICAgICAgICAgICAgICBpZihhY3RpdmVJdGVtcyAmJiBhY3RpdmVJdGVtcy5pbmRleE9mKCRzY29wZS5iaW5kaW5nc1tpXS4kJGhhc2hLZXkpID09PSAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLi4ucmVtb3ZlIHNjb3BlIGFuZCBhY3RpdmUgd2F0Y2hlcnMgaWYgbm90XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJpbmRpbmdzW2ldLnNjb3BlLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyBleHRlbmQgZmllbGQgZGVmaW5pdGlvbnNcclxuICAgIHZhciBleHRlbmRGaWVsZERlZmluaXRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGZpbHRlcignbWFwJykoJHNjb3BlLmd0U2V0dGluZ3MsZnVuY3Rpb24oc2V0dGluZyl7XHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9ICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndEZpZWxkcyx7b2JqZWN0S2V5OnNldHRpbmcub2JqZWN0S2V5fSx0cnVlKVswXTtcclxuICAgICAgICAgICAgICAgIGZpZWxkLmNvbHVtbk9yZGVyID0gc2V0dGluZy5jb2x1bW5PcmRlcjsgLy8gYWRkIGNvbHVtbiBvcmRlclxyXG4gICAgICAgICAgICAgICAgaWYoc2V0dGluZy5leHBvcnQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuZXhwb3J0RmllbGQgPSBmYWxzZTsgLy8gYWRkIGV4cG9ydCBmaWVsZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmllbGQgZGVmaW5pdGlvbiBvYmplY3QgZm9yIHByb3BlcnR5OiBcIicrIHNldHRpbmcub2JqZWN0S2V5ICsnXCIgbm90IGZvdW5kLicsZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGV4dGVuZEZpZWxkRGVmaW5pdGlvbnMoKTtcclxuXHJcbiAgICB2YXIgaW5pdFRhYmxlID0gZnVuY3Rpb24oaW5pdERhdGEpe1xyXG4gICAgICAgICRzY29wZS5ndEhhc0RhdGEgPSBmYWxzZTtcclxuICAgICAgICBvcmlnaW5hbERhdGEgPSBpbml0RGF0YS5zbGljZSgwKTtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXN0YXJ0ZWQtZGF0YS1wcm9jZXNzaW5nJywkc2NvcGUuZ3RJZCk7XHJcbiAgICAgICAgbWFwS2V5cyhpbml0RGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNoYW5nZSBkYXRhLCB0aGlzIHdlIHVwZGF0ZSBvciBkYXRhIHNldFxyXG4gICAgdmFyIGNoYW5nZURhdGEgPSBmdW5jdGlvbihuZXdEYXRhKXtcclxuICAgICAgICAkc2NvcGUuZ3RIYXNEYXRhID0gZmFsc2U7XHJcbiAgICAgICAgb3JpZ2luYWxEYXRhID0gbmV3RGF0YS5zbGljZSgwKTtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXN0YXJ0ZWQtZGF0YS1wcm9jZXNzaW5nJywkc2NvcGUuZ3RJZCk7XHJcbiAgICAgICAgbWFwS2V5cyhuZXdEYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gbWFwcGluZywgdGhpcyBpcyB3aGVyZSB3ZSBtYXAgd2hpY2gga2V5cyBzaG91bGQgYmUgcGFydCBvZiB0aGUgdGFibGUgYXJyYXkgcm93IG9iamVjdFxyXG4gICAgdmFyIG1hcEtleXMgPSBmdW5jdGlvbiAoZGF0YSl7XHJcblxyXG4gICAgICAgIC8vIGRlZmluZSB3aGljaCBmaWVsZHMgc2hvdWxkIGJlIHNlYXJjaGFibGVcclxuICAgICAgICBzZWFyY2hDb2x1bW5zID0gJGZpbHRlcignbWFwJykoJGZpbHRlcigncmVtb3ZlV2l0aCcpKCRzY29wZS5ndEZpZWxkcy5zbGljZSgwKSx7c2VhcmNoOmZhbHNlfSksJ29iamVjdEtleScpO1xyXG5cclxuICAgICAgICAvLyBnZXQga2V5IG5hbWVzIGZyb20gc2V0dGluZ3NcclxuICAgICAgICB2YXIgcHJvcGVydGllcyA9ICRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndFNldHRpbmdzLCB7ZW5hYmxlZDp0cnVlfSx0cnVlKSwnb2JqZWN0S2V5Jyk7XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBuZXcgYXJyYXkgd2l0aCBtYXBwZWQgZGF0YVxyXG4gICAgICAgIG1hcHBlZERhdGEgPSAkZmlsdGVyKCdtYXAnKShkYXRhLCBmdW5jdGlvbihyb3cpe1xyXG4gICAgICAgICAgICB2YXIgb2JqID0ge307IC8vIGNyZWF0ZSBuZXcgcm93IG9iamVjdFxyXG5cclxuICAgICAgICAgICAgLy8gcmV0cmlldmUgb2JqZWN0IHZhbHVlcyBmcm9tIHJvdyBhbmQgYWRkIHRoZW0gdG8gdGhlIGNvcnJlc3BvbmRpbmcga2V5IGRlZmluZWQgYnkgdGhlIHRhYmxlIGZpZWxkc1xyXG4gICAgICAgICAgICAkZmlsdGVyKCdtYXAnKShwcm9wZXJ0aWVzLGZ1bmN0aW9uKHByb3BlcnR5KXtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHByb3BlcnR5IGV4aXN0cyBpbiBkYXRhIG9iamVjdC4uLlxyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHJvd1twcm9wZXJ0eV0gIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgY29sdW1uIHZhbHVlIGZyb20gZGF0YSBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wZXJ0eV09cm93W3Byb3BlcnR5XVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwcm9wZXJ0eTogXCInICsgcHJvcGVydHkgICsgJ1wiIGRvZXMgbm90IGV4aXN0IGluIGRhdGEgb2JqZWN0LCBhdHRlbXB0aW5nIHRvIHVzZSB2YWx1ZSBmdW5jdGlvbiBpbnN0ZWFkICcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0cyBpbiBkYXRhLCB1c2UgdmFsdWUgZnVuY3Rpb24gdG8gZ2V0IHZhbHVlIGZvciBjb2x1bW5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVGdW5jdGlvbiA9ICRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndEZpZWxkcywge29iamVjdEtleTpwcm9wZXJ0eX0sdHJ1ZSksJ3ZhbHVlJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWVGdW5jdGlvbiAmJiBhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWVGdW5jdGlvbikpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2UgY3VzdG9tIHZhbHVlIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHZhbHVlIGZvciBjb2x1bW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndXNpbmcgdmFsdWUgZnVuY3Rpb24gdG8gZ2V0IGRhdGEgZm9yIHJvdyBjb2x1bW4gJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialtwcm9wZXJ0eV0gPSB2YWx1ZUZ1bmN0aW9uKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Byb3BlcnR5OiBcIicgKyBwcm9wZXJ0eSAgKyAnXCIgZG9lcyBub3QgZXhpc3RzIGluIGRhdGEgb2JqZWN0IGFuZCBubyB2YWx1ZSBmdW5jdGlvbiB3YXMgZGVjbGFyZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhcHBseUZpbHRlcihtYXBwZWREYXRhKVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBpbnRlcm5hbCBmaWx0ZXIsIHRoaXMgaXMgd2hlcmUgd2UgYXBwbHkgZmlsdGVyc1xyXG4gICAgdmFyIGFwcGx5RmlsdGVyID0gZnVuY3Rpb24gKGRhdGEsIHNlYXJjaCkge1xyXG5cclxuICAgICAgICAvLyBhcHBseSB0YWJsZSBmaWx0ZXJzXHJcbiAgICAgICAgdmFyIGZpbHRlcmVkID0gJGZpbHRlcignZmlsdGVyJykoZGF0YS5zbGljZSgwKSx0YWJsZUZpbHRlcnMsZnVuY3Rpb24oZXhwZWN0ZWQsIGFjdHVhbCl7XHJcbiAgICAgICAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgPiAtMTtcclxuICAgICAgICB9LHRydWUpLnNsaWNlKDApO1xyXG5cclxuICAgICAgICAvLyByZXR1cm4gcm93cyB3aGVyZSBjb2x1bW5zIG1hdGNoIGVudGVyZWQgc2VhcmNoIHRlcm1zXHJcbiAgICAgICAgZmlsdGVyZWREYXRhID0gJGZpbHRlcignc2VhcmNoUm93JykoZmlsdGVyZWQsc2VhcmNoQ29sdW1ucywgc2VhcmNoLCAkc2NvcGUuZ3RGaWVsZHMpO1xyXG4gICAgICAgIGFwcGx5U29ydCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzb3J0LCB0aGlzIGlzIHdoZXJlIHdlIHNvcnQgdGhlIGZpbHRlcmVkIHJlc3VsdHNcclxuICAgIHZhciBhcHBseVNvcnQgPSBmdW5jdGlvbiAoKXtcclxuICAgICAgICBzb3J0ZWREYXRhID0gc29ydGluZyAhPT0gZmFsc2UgPyAkZmlsdGVyKCdndFNvcnQnKShmaWx0ZXJlZERhdGEsIHNvcnRpbmcsJHNjb3BlLmd0RmllbGRzKTogZmlsdGVyZWREYXRhO1xyXG4gICAgICAgIGFwcGx5UGFnaW5hdGlvbigpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBwYWdpbmF0aW9uLCB0aGlzIGlzIHdoZXJlIHdlIGRlY2lkZSB3aGljaCBzdWJzZXQgb2YgdGhlIGRhdGEgdG8gc2hvd1xyXG4gICAgdmFyIGFwcGx5UGFnaW5hdGlvbiA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICRzY29wZS5wYWdlcyA9ICRmaWx0ZXIoJ2NodW5rQnknKShzb3J0ZWREYXRhLCBwYXJzZUludCgkc2NvcGUuZ3RSb3dzKSk7XHJcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRQYWdlID0gMDtcclxuICAgICAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdndC1zdGFydGVkLXJlbmRlcmluZycpO1xyXG4gICAgICAgICRzY29wZS5ndERpc3BsYXlEYXRhID0gJHNjb3BlLnBhZ2VzWyRzY29wZS5jdXJyZW50UGFnZV07XHJcbiAgICAgICAgcGFnaW5hdGlvbigkc2NvcGUucGFnZXMubGVuZ3RoLCRzY29wZS5jdXJyZW50UGFnZSk7XHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdndC1maW5pc2hlZC1kYXRhLXByb2Nlc3NpbmcnLCRzY29wZS5ndElkKTtcclxuICAgICAgICAgICAgJHNjb3BlLmd0SGFzRGF0YSA9IHRydWU7XHJcbiAgICAgICAgfSwyMDApO1xyXG4gICAgICAgIC8vJHNjb3BlLiRlbWl0KCdndC1maW5pc2hlZC1yZW5kZXJpbmcnKTtcclxuICAgICAgICAvKmlmKCRzY29wZS5sb2FkaW5nKXtcclxuICAgICAgICAgY29uc29sZS5sb2coJ3N0aWxsIGxvb2FkaW5nJyk7XHJcbiAgICAgICAgICRzY29wZS4kZW1pdCgnZ3QtZmluaXNoZWQtcmVuZGVyaW5nJyk7XHJcbiAgICAgICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgIH0qL1xyXG4gICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCckJHJlYmluZDo6Z3RSZWZyZXNoJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGxpc3RlbiBmb3IgdXBkYXRlIHRhYmxlIGV2ZW50c1xyXG4gICAgJHNjb3BlLiRvbignZ3QtdXBkYXRlLXRhYmxlOicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICBjaGFuZ2VEYXRhKGFyZyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBsaXN0ZW4gZm9yIHNlYXJjaCBldmVudHNcclxuICAgICRzY29wZS4kb24oJ2d0LXNlYXJjaC10YWJsZTonKyRzY29wZS5ndElkLGZ1bmN0aW9uKGV2ZW50LGFyZyl7XHJcbiAgICAgICAgc2VhcmNoVGVybXMgPSBhcmc7XHJcbiAgICAgICAgYXBwbHlGaWx0ZXIobWFwcGVkRGF0YS5zbGljZSgwKSxhcmcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciBmaWx0ZXIgZXZlbnRzXHJcbiAgICAkc2NvcGUuJG9uKCdndC1maWx0ZXItdGFibGU6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgIHRhYmxlRmlsdGVycyA9IGFyZztcclxuICAgICAgICBhcHBseUZpbHRlcihtYXBwZWREYXRhLnNsaWNlKDApLHNlYXJjaFRlcm1zKTtcclxuICAgIH0pO1xyXG5cclxuICAgICRzY29wZS4kb24oJ2d0LW9wZW4tYWxsLXJvd3M6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgICRzY29wZS5zeW5jUm93cyh0cnVlLCB0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgICRzY29wZS4kb24oJ2d0LWNsb3NlLWFsbC1yb3dzOicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICAkc2NvcGUuc3luY1Jvd3MoZmFsc2UpOyAvLyBjbG9zZSBvcGVuIHJvd3NcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGxpc3RlbiBmb3IgdXBkYXRlIHRhYmxlIGV2ZW50c1xyXG4gICAgJHNjb3BlLiRvbignZ3QtdXBkYXRlLXN0cnVjdHVyZTonKyRzY29wZS5ndElkLGZ1bmN0aW9uKGV2ZW50LGFyZyl7XHJcbiAgICAgICAgJHNjb3BlLmd0RmllbGRzID0gYXJnLmZpZWxkcztcclxuICAgICAgICAkc2NvcGUuZ3RTZXR0aW5ncyA9IGFyZy5zZXR0aW5ncztcclxuICAgICAgICBleHRlbmRGaWVsZERlZmluaXRpb25zKCk7XHJcbiAgICAgICAgc2VhcmNoQ29sdW1ucyA9ICRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ3JlbW92ZVdpdGgnKSgkc2NvcGUuZ3RGaWVsZHMuc2xpY2UoMCkse3NlYXJjaDpmYWxzZX0pLCdvYmplY3RLZXknKTtcclxuXHJcbiAgICAgICAgLy8gaWYgbm8gc29ydGluZyBpcyBhcHBsaWVkIG9yIGlmIHNvcnRpbmcgaXMgZm9yY2VkLi4uXHJcbiAgICAgICAgaWYoc29ydGluZyA9PT0gZmFsc2UgfHwgYXJnLmZvcmNlU29ydGluZyA9PT0gdHJ1ZSkge1xyXG5cclxuICAgICAgICAgICAgLy8gLi4uc2V0IHNvcnRpbmcgb3JkZXJcclxuICAgICAgICAgICAgc29ydGluZyA9ICRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndFNldHRpbmdzLHtzb3J0OlwiYXNjIGRlc2NcIn0sZnVuY3Rpb24oZXhwZWN0ZWQsIGFjdHVhbCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpID4gLTE7XHJcbiAgICAgICAgICAgIH0pLGZ1bmN0aW9uKHNvcnQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChzb3J0LnNvcnQgPT09ICdkZXNjJyA/ICctJzonJykgKyBzb3J0Lm9iamVjdEtleVxyXG4gICAgICAgICAgICB9KTsgLy8gcmV0dXJucyBhcnJheSBjb250YWluaW5nIHNvcnRpbmcgY3JpdGVyaWFcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyByZXNldCBzb3J0aW5nIHNldHRpbmcgJ2FzYycgYW5kICdkZXNjJyB0byAnZW5hYmxlJ1xyXG4gICAgICAgICAgICAkZmlsdGVyKCdtYXAnKSgkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RTZXR0aW5ncyx7c29ydDpcImFzYyBkZXNjXCJ9LGZ1bmN0aW9uKGV4cGVjdGVkLCBhY3R1YWwpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSA+IC0xO1xyXG4gICAgICAgICAgICB9KSxmdW5jdGlvbihzZXR0aW5nKXtcclxuICAgICAgICAgICAgICAgIHNldHRpbmcuc29ydCA9ICdlbmFibGUnO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBzZXR0aW5ncyB0byBtYXRjaCBzb3J0aW5nIGluIHRhYmxlXHJcbiAgICAgICAgICAgICRmaWx0ZXIoJ21hcCcpKHNvcnRpbmcsZnVuY3Rpb24oc29ydFByb3BlcnR5KXtcclxuICAgICAgICAgICAgICAgIHZhciBzb3J0ID0gc29ydFByb3BlcnR5LmluZGV4T2YoJy0nKSA9PT0gLTEgPyAnYXNjJzonZGVzYyc7XHJcbiAgICAgICAgICAgICAgICBzb3J0UHJvcGVydHkgPSBzb3J0UHJvcGVydHkucmVwbGFjZSgnLScsJycpO1xyXG4gICAgICAgICAgICAgICAgJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3MsIHsnb2JqZWN0S2V5Jzpzb3J0UHJvcGVydHl9LHRydWUpWzBdLnNvcnQgPSBzb3J0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIGxpc3RlbiBmb3IgcGFnaW5hdGlvbiBsZW5ndGggY2hhbmdlXHJcbiAgICAkc2NvcGUuJG9uKCdndC1wYWdpbmF0ZS10YWJsZTonKyRzY29wZS5ndElkLGZ1bmN0aW9uKGV2ZW50LGFyZyl7XHJcbiAgICAgICAgJHNjb3BlLmd0Um93cyA9IHBhcnNlSW50KGFyZyk7XHJcbiAgICAgICAgYXBwbHlQYWdpbmF0aW9uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBsaXN0ZW4gZm9yIGV4cG9ydCBldmVudFxyXG4gICAgJHNjb3BlLiRvbignZ3QtZXhwb3J0LWNzdjonKyRzY29wZS5ndElkLGZ1bmN0aW9uKGV2ZW50LGFyZyl7XHJcbiAgICAgICAgZ3RFeHBvcnQoYXJnKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyBjcmVhdGUgcGFnaW5hdGlvblxyXG4gICAgdmFyIHBhZ2luYXRpb24gPSBmdW5jdGlvbih0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSl7XHJcbiAgICAgICAgJHNjb3BlLnN5bmNSb3dzKGZhbHNlKTsgLy8gY2xvc2Ugb3BlbiByb3dzXHJcbiAgICAgICAgJHNjb3BlLnJlbW92ZUJpbmRpbmcoKTsgLy8gcmVtb3ZlIG9sZCBiaW5kaW5nc1xyXG5cclxuICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFtdO1xyXG5cclxuICAgICAgICAvLyBpZiB0b3RhbCBwYWdlcyBlcXVhbHMgMCBpZS4gbm8gZGF0YSBhdmFpbGFibGVcclxuICAgICAgICBpZih0b3RhbFBhZ2VzID09PSAwICkge1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXRhYmxlLWZpbHRlcmVkJywge1xyXG4gICAgICAgICAgICAgICAgdG90YWw6bWFwcGVkRGF0YS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZDowLFxyXG4gICAgICAgICAgICAgICAgc2hvd2luZ0Zyb206MCxcclxuICAgICAgICAgICAgICAgIHNob3dpbmdUbzowLFxyXG4gICAgICAgICAgICAgICAgcGFnZUxlbmd0aDokc2NvcGUuZ3RSb3dzLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6MCxcclxuICAgICAgICAgICAgICAgIG51bWJlck9mUGFnZXM6MFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaWYgbGVzcyB0aGFuIHR3byBwYWdlc1xyXG4gICAgICAgIGlmKHRvdGFsUGFnZXMgPCAyKXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGxlc3MgdGhhbiB0aHJlZSBwYWdlc1xyXG4gICAgICAgIGVsc2UgaWYodG90YWxQYWdlcyA8IDMpe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFswLDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBsZXNzIHRoYW4gZm91ciBwYWdlc1xyXG4gICAgICAgIGVsc2UgaWYodG90YWxQYWdlcyA8IDQpe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFswLDEsMl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGxlc3MgdGhhbiBmaXZlIHBhZ2VzXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzIDwgNSl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gWzAsMSwyLDNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBjdXJyZW50IHBhZ2UgaXMgb25lIG9mIHRoZSBmb3VyIGZpcnN0IHBhZ2VzXHJcbiAgICAgICAgZWxzZSBpZihjdXJyZW50UGFnZSA8IDQpe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFswLDEsMiwzLDRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBuZXh0IHRvIGxhc3QgcGFnZVxyXG4gICAgICAgIGVsc2UgaWYodG90YWxQYWdlcyA+IGN1cnJlbnRQYWdlKzEpe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFtjdXJyZW50UGFnZS0xLGN1cnJlbnRQYWdlLGN1cnJlbnRQYWdlKzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBsYXN0IHBhZ2VcclxuICAgICAgICBlbHNlIGlmKHRvdGFsUGFnZXMgPT09IGN1cnJlbnRQYWdlKzEpe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFtjdXJyZW50UGFnZS0yLGN1cnJlbnRQYWdlLTEsY3VycmVudFBhZ2VdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBjdXJyZW50IHBhZ2UgaXMgbm90IG9uZSBvZiB0aGUgZm91ciBmaXJzdCBwYWdlc1xyXG4gICAgICAgIGVsc2UgaWYodG90YWxQYWdlcy00ID4gY3VycmVudFBhZ2Upe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFtjdXJyZW50UGFnZS0xLGN1cnJlbnRQYWdlLGN1cnJlbnRQYWdlKzEsIGN1cnJlbnRQYWdlKzJdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdndC10YWJsZS1maWx0ZXJlZCcsIHtcclxuICAgICAgICAgICAgdG90YWw6bWFwcGVkRGF0YS5sZW5ndGgsXHJcbiAgICAgICAgICAgIGZpbHRlcmVkOmZpbHRlcmVkRGF0YS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNob3dpbmdGcm9tOiRzY29wZS5jdXJyZW50UGFnZSokc2NvcGUuZ3RSb3dzKygkc2NvcGUuY3VycmVudFBhZ2UgPiAxID8gMDoxKSxcclxuICAgICAgICAgICAgc2hvd2luZ1RvOiRzY29wZS5jdXJyZW50UGFnZSokc2NvcGUuZ3RSb3dzKyRzY29wZS5ndERpc3BsYXlEYXRhLmxlbmd0aCxcclxuICAgICAgICAgICAgcGFnZUxlbmd0aDokc2NvcGUuZ3RSb3dzLFxyXG4gICAgICAgICAgICBjdXJyZW50UGFnZTokc2NvcGUuY3VycmVudFBhZ2UsXHJcbiAgICAgICAgICAgIG51bWJlck9mUGFnZXM6JHNjb3BlLnBhZ2VzLmxlbmd0aFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUubmV4dFBhZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UGFnZSArKztcclxuICAgICAgICAgICAgJHNjb3BlLmd0RGlzcGxheURhdGEgPSAkc2NvcGUucGFnZXNbJHNjb3BlLmN1cnJlbnRQYWdlXTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbigkc2NvcGUucGFnZXMubGVuZ3RoLCRzY29wZS5jdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnZ3Qtc3RhcnRlZC1yZW5kZXJpbmcnLCRzY29wZS5ndElkKTtcclxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyQkcmViaW5kOjpndFJlZnJlc2gnKTtcclxuICAgICAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUucHJldmlvdXNQYWdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudFBhZ2UgLS07XHJcbiAgICAgICAgICAgICRzY29wZS5ndERpc3BsYXlEYXRhID0gJHNjb3BlLnBhZ2VzWyRzY29wZS5jdXJyZW50UGFnZV07XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb24oJHNjb3BlLnBhZ2VzLmxlbmd0aCwkc2NvcGUuY3VycmVudFBhZ2UpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXN0YXJ0ZWQtcmVuZGVyaW5nJywkc2NvcGUuZ3RJZCk7XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCckJHJlYmluZDo6Z3RSZWZyZXNoJyk7XHJcbiAgICAgICAgfSBjYXRjaChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgICRzY29wZS5zZXRQYWdlID0gZnVuY3Rpb24ocGFnZSl7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRQYWdlID0gcGFnZTtcclxuICAgICAgICAgICAgJHNjb3BlLmd0RGlzcGxheURhdGEgPSAkc2NvcGUucGFnZXNbJHNjb3BlLmN1cnJlbnRQYWdlXTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbigkc2NvcGUucGFnZXMubGVuZ3RoLCRzY29wZS5jdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnZ3Qtc3RhcnRlZC1yZW5kZXJpbmcnLCRzY29wZS5ndElkKTtcclxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyQkcmViaW5kOjpndFJlZnJlc2gnKTtcclxuICAgICAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNvcnQgZnVuY3Rpb25cclxuICAgICRzY29wZS5zb3J0ID0gZnVuY3Rpb24oJGV2ZW50LHByb3BlcnR5KXtcclxuICAgICAgICB2YXIgY3RybEtleSA9ICRldmVudC5jdHJsS2V5IHx8ICRldmVudC5tZXRhS2V5O1xyXG5cclxuICAgICAgICAvLyByZXNldCBzb3J0aW5nIHVubGVzcyBjdHJsIGtleSBvciBtZXRhIGtleSAobWFjKSBpcyBwcmVzc2VkIHdoaWxlIHNvcnRpbmdcclxuICAgICAgICBpZighY3RybEtleSAmJiBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgJHNjb3BlLmd0U2V0dGluZ3MubGVuZ3RoID4gaTsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5nID0gJHNjb3BlLmd0U2V0dGluZ3NbaV07XHJcbiAgICAgICAgICAgICAgICBpZihzZXR0aW5nLm9iamVjdEtleSAhPT0gcHJvcGVydHkgJiYgc2V0dGluZy5zb3J0ID09PSAnYXNjJyB8fCBzZXR0aW5nLm9iamVjdEtleSAhPT0gcHJvcGVydHkgJiYgc2V0dGluZy5zb3J0ID09PSAnZGVzYycpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ndFNldHRpbmdzW2ldLnNvcnQgPSAnZW5hYmxlJztcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb3BlcnR5KXtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7ICRzY29wZS5ndFNldHRpbmdzLmxlbmd0aCA+IGk7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2V0dGluZyA9ICRzY29wZS5ndFNldHRpbmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYoc2V0dGluZy5vYmplY3RLZXkgPT09IHByb3BlcnR5KXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc29ydCA9IHNldHRpbmcuc29ydDtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHNvcnQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNhYmxlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdlbmFibGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmd0U2V0dGluZ3NbaV0uc29ydCA9ICdhc2MnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FzYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3RTZXR0aW5nc1tpXS5zb3J0ID0gJ2Rlc2MnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rlc2MnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmd0U2V0dGluZ3NbaV0uc29ydCA9ICdlbmFibGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgc29ydGluZyA9ICRmaWx0ZXIoJ21hcCcpKCRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndFNldHRpbmdzLHtzb3J0OlwiYXNjIGRlc2NcIn0sZnVuY3Rpb24oZXhwZWN0ZWQsIGFjdHVhbCl7XHJcbiAgICAgICAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgPiAtMTtcclxuICAgICAgICB9KSxmdW5jdGlvbihzb3J0KXtcclxuICAgICAgICAgICAgcmV0dXJuIChzb3J0LnNvcnQgPT09ICdkZXNjJyA/ICctJzonJykgKyBzb3J0Lm9iamVjdEtleTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYXBwbHlTb3J0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGlmIHRhYmxlIGhhcyBkYXRhIHVwb24gaW5pdGlhbGl6YXRpb24uLi5cclxuICAgIGlmKCRzY29wZS5ndERhdGEpe1xyXG4gICAgICAgIGluaXRUYWJsZSgkc2NvcGUuZ3REYXRhKTsgLy8gaW5pdGlhbGl6ZSB0YWJsZSB3aXRoIGRhdGEgcGFzc2VkIHRvIGRpcmVjdGl2ZVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGV4cG9ydCBmdW5jdGlvblxyXG4gICAgdmFyIGd0RXhwb3J0ID0gZnVuY3Rpb24ob3B0aW9ucyl7XHJcbiAgICAgICAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSAndW5kZWZpbmVkJz8ge306b3B0aW9ucztcclxuXHJcbiAgICAgICAgdmFyIGZpbGVOYW1lID0gdHlwZW9mIG9wdGlvbnMuZmlsZU5hbWUgPT09ICd1bmRlZmluZWQnID8gJ2V4cG9ydCc6b3B0aW9ucy5maWxlTmFtZTtcclxuXHJcbiAgICAgICAgLy8gZml4IGV4cG9ydCBkYXRhXHJcbiAgICAgICAgdmFyIGV4cG9ydERhdGEgPSBKU09OLnBhcnNlKGFuZ3VsYXIudG9Kc29uKHNvcnRlZERhdGEuc2xpY2UoMCkpKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cG9ydERhdGEubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gZXhwb3J0RGF0YVtpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHJvdykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvdy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkU2V0dGluZyA9ICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndEZpZWxkcywge29iamVjdEtleToga2V5fSwgdHJ1ZSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlU2V0dGluZyA9ICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndFNldHRpbmdzLCB7b2JqZWN0S2V5OiBrZXl9LCB0cnVlKVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cG9ydE1ldGhvZCA9IGZpZWxkU2V0dGluZy5leHBvcnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGV4cG9ydCBtZXRob2QgaXMgZGVjbGFyZWQgYW5kIGlzIGEgZnVuY3Rpb24uLi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhwb3J0TWV0aG9kICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihleHBvcnRNZXRob2QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLnJlcGxhY2UgZXhwb3J0IGRhdGEgcm93IHZhbHVlIHdpdGggdmFsdWUgcmV0dXJuZWQgYnkgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cG9ydFZhbHVlID0gZXhwb3J0TWV0aG9kKHJvdywga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93W2tleV0gPSBmaWVsZFNldHRpbmcuZXhwb3J0RXNjYXBlU3RyaW5nID09PSBmYWxzZSA/IGV4cG9ydFZhbHVlIDogJGZpbHRlcignZXNjYXBlQ3N2U3RyaW5nJykoZXhwb3J0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1trZXldID0gZmllbGRTZXR0aW5nLmV4cG9ydEVzY2FwZVN0cmluZyA9PT0gZmFsc2UgPyByb3dba2V5XSA6ICRmaWx0ZXIoJ2VzY2FwZUNzdlN0cmluZycpKHJvd1trZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGV4cG9ydENvbHVtbnMgYXJlIHBhc3NlZCB3aXRoIG9wdGlvbnMuLi5cclxuICAgICAgICAgICAgICAgICAgICAvKmlmICh0eXBlb2Ygb3B0aW9ucy5leHBvcnRDb2x1bW5zICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5zZXQgdmFsdWUgdG8gbnVsbCBpLmUuIGRvbid0IGV4cG9ydCBjb2x1bW4gaWYgaXQncyBub3QgaW4gdGhlIGV4cG9ydENvbHVtbnMgYXJyYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXhwb3J0Q29sdW1ucy5pbmRleE9mKHRhYmxlU2V0dGluZy5vYmplY3RLZXkpPT09LTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93W2tleV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGV4cG9ydCBpcyBzZXQgdG8gZmFsc2UgZm9yIGZpZWxkLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhYmxlU2V0dGluZy5leHBvcnQgIT09ICd1bmRlZmluZWQnICYmIHRhYmxlU2V0dGluZy5leHBvcnQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLnNldCB2YWx1ZSB0byBudWxsIGkuZS4gZG9uJ3QgZXhwb3J0IGNvbHVtblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dba2V5XSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRlY2xhcmUgZXhwb3J0IGRhdGFcclxuICAgICAgICB2YXIgZGF0YSA9IGV4cG9ydERhdGE7Ly9KU09OLnBhcnNlKGFuZ3VsYXIudG9Kc29uKHNvcnRlZERhdGEuc2xpY2UoMCkpKTtcclxuXHJcbiAgICAgICAgLy8gaWYgZXhwb3J0Q29sdW1ucyBhcmUgcGFzc2VkIHdpdGggb3B0aW9ucy4uLlxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5leHBvcnRDb2x1bW5zICE9PSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICAgICAgLy8gLi4uZ2V0IGZpZWxkIHNldHRpbmdzIGZvciBhbGwgb2JqZWN0S2V5cyBpbiBleHBvcnRDb2x1bW5zIGFycmF5XHJcbiAgICAgICAgICAgIHZhciBleHBvcnRGaWVsZHMgPSAkZmlsdGVyKCdtYXAnKShvcHRpb25zLmV4cG9ydENvbHVtbnMsIGZ1bmN0aW9uKG9iamVjdEtleSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0RmllbGRzLnNsaWNlKDApLCB7b2JqZWN0S2V5Om9iamVjdEtleX0sIHRydWUpWzBdO1xyXG4gICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGVsc2UgZXhwb3J0IGFsbCBjb2x1bW5zIGV4Y2VwdCBjb2x1bW5zIG5vdCBtYXJrZWQgZm9yIGV4cG9ydCBpLmUuIGhhcyBmaWVsZCBzZXR0aW5nIGV4cG9ydDpmYWxzZSAoYWRkZWQgdG8gZ3RGaWVsZFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZXhwb3J0RmllbGRzID0gJGZpbHRlcignb3JkZXJCeScpKCRmaWx0ZXIoJ3JlbW92ZVdpdGgnKSgkc2NvcGUuZ3RGaWVsZHMse2V4cG9ydEZpZWxkOmZhbHNlfSksXCJjb2x1bW5PcmRlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBoZWFkZXJzID0ge1xyXG4gICAgICAgICAgICBmaWVsZFNlcDogdHlwZW9mIG9wdGlvbnMuZmllbGRTZXAgPT09ICd1bmRlZmluZWQnID8gXCI7XCI6b3B0aW9ucy5maWVsZFNlcCxcclxuICAgICAgICAgICAgaGVhZGVyOiAkZmlsdGVyKCdtYXAnKShleHBvcnRGaWVsZHMsXCJuYW1lXCIpLCAvLyBnZXQgaGVhZGVycyBieSBjb2x1bW4gb3JkZXJcclxuICAgICAgICAgICAgdHh0RGVsaW06IHR5cGVvZiBvcHRpb25zLnR4dERlbGltID09PSAndW5kZWZpbmVkJyA/ICdcIic6b3B0aW9ucy50eHREZWxpbSxcclxuICAgICAgICAgICAgY29sdW1uT3JkZXI6JGZpbHRlcignbWFwJykoZXhwb3J0RmllbGRzLFwib2JqZWN0S2V5XCIpLCAvLyBnZXQgY29sdW1uIG9yZGVyXHJcbiAgICAgICAgICAgIGRlY2ltYWxTZXA6dHlwZW9mIG9wdGlvbnMuZGVjaW1hbFNlcCA9PT0gJ3VuZGVmaW5lZCcgPyAnLCc6b3B0aW9ucy5kZWNpbWFsU2VwLFxyXG4gICAgICAgICAgICBhZGRCeXRlT3JkZXJNYXJrZXI6dHlwZW9mIG9wdGlvbnMuYWRkQm9tID09PSAndW5kZWZpbmVkJyxcclxuICAgICAgICAgICAgY2hhcnNldDp0eXBlb2Ygb3B0aW9ucy5jaGFyc2V0ID09PSAndW5kZWZpbmVkJyA/ICd1dGYtOCc6b3B0aW9ucy5jaGFyc2V0LFxyXG4gICAgICAgICAgICBxdW90ZVN0cmluZ3M6IHR5cGVvZiBvcHRpb25zLnF1b3RlU3RyaW5ncyA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IG9wdGlvbnMucXVvdGVTdHJpbmdzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ1NWLnN0cmluZ2lmeShkYXRhLCBoZWFkZXJzKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XHJcblxyXG4gICAgICAgICAgICB2YXIgYmxvYjtcclxuXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcclxuICAgICAgICAgICAgICAgIGJsb2IgPSBuZXcgQmxvYihbcmVzdWx0XSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC9jc3Y7Y2hhcnNldD11dGYtODtcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCAnZXhwb3J0LmNzdicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBub3QgYSBmdWxseSB3b3JraW5nIHNvbHV0aW9uLCBzb21lIHRhZ3MgKHRleCA8Qk9EWT4pIHNob3cgdXAgaW4gZXhjZWwgdG9nZXRoZXIgd2l0aCB0aGUgY29ycmVjdCBkYXRhLlxyXG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhZGRlZCBhbiBhbGVydCBtZXNzYWdlIHRvIHVyZ2UgdXNlcnMgdG8gdXNlIGFub3RoZXIgYnJvd3NlciBvciB1cGRhdGUgdGhlaXIgYnJvd3NlciBmb3IgYSBiZXR0ZXIgbG9va2luZyBleHBvcnQuXHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5hcHBOYW1lID09PSAnTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydChcIllvdSdyZSB1c2luZyBhbiBvbGQgdmVyc2lvbiBvZiBJbnRlcm5ldCBFeHBsb3JlciBhbmQgdGhlIGV4cG9ydCBtaWdodCB0aGVyZWZvcmUgaGF2ZSB0aGUgd3JvbmcgZm9ybWF0LCBwbGVhc2UgdXBkYXRlIHlvdXIgYnJvd3Nlci5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGFuZ3VsYXIuZWxlbWVudCgnPGlmcmFtZT48L2lmcmFtZT4nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZnJhbWVbMF0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCdib2R5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoaWZyYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZG9jID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWZyYW1lWzBdLmNvbnRlbnREb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MgPSBpZnJhbWVbMF0uY29udGVudERvY3VtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChpZnJhbWVbMF0uY29udGVudFdpbmRvdyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IGlmcmFtZVswXS5jb250ZW50V2luZG93LmRvY3VtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkb2Mub3BlbihcInRleHQvcGxhaW5cIiwgXCJyZXBsYWNlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvYy53cml0ZShbcmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZnJhbWUuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2MuZXhlY0NvbW1hbmQoJ1NhdmVBcycsIHRydWUsIGZpbGVOYW1lKycuY3N2Jyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW3Jlc3VsdF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04O1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkTGluayA9IGFuZ3VsYXIuZWxlbWVudCgnPGE+PC9hPicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluay5hdHRyKCdocmVmJywgd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluay5hdHRyKCdkb3dubG9hZCcsZmlsZU5hbWUrJy5jc3YnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwZW5kIGRvd25sb2FkIGxpbmsgdG8gYm9keSBhbmQgY2xpY2sgaXQsIG9uY2UgY2xpY2tlZCByZW1vdmUgaXRcclxuICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZChkb3dubG9hZExpbmspO1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmtbMF0uY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbn0pLmRpcmVjdGl2ZSgnZ3RSb3cnLCBmdW5jdGlvbigkY29tcGlsZSwgJGZpbHRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgIHNjb3BlOmZhbHNlLFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZm4pIHtcclxuICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSAkZmlsdGVyKCdmaWx0ZXInKShzY29wZS5ndFNldHRpbmdzLHsndmlzaWJsZSc6dHJ1ZX0sdHJ1ZSkubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYWRkUm93ID0gZnVuY3Rpb24ob3BlbkFsbCl7XHJcbiAgICAgICAgICAgICAgICAhc2NvcGUuZ3RFeHBhbmQubXVsdGlwbGUgJiYgIW9wZW5BbGwgPyBzY29wZS5zeW5jUm93cyhmYWxzZSk6Jyc7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7IC8vIGNyZWF0ZSBuZXcgc2NvcGUgZm9yIHJvd1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9ICRjb21waWxlKCc8dHIgY2xhc3M9XCJleHBhbmRlZC1yb3dcIj48dGQgY29sc3Bhbj1cIicrY29sdW1ucysnXCI+JytzY29wZS5ndEV4cGFuZC5kaXJlY3RpdmUrJzwvdGQ+PC90cj4nKShuZXdTY29wZSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFmdGVyKHJvdyk7IC8vIGFkZCBlbGVtZW50IHRvIHZpZXdcclxuICAgICAgICAgICAgICAgIHNjb3BlLnJvdy5pc09wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuZ3RFeHBhbmQucm93cy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHJlbW92ZVJvdyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAvL3Njb3BlLiQkd2F0Y2hlcnMgPSBudWxsOyAvLyByZW1vdmUgd2F0Y2hlc1xyXG4gICAgICAgICAgICAgICAgc2NvcGUucm93LmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuZ3RFeHBhbmQucm93cy5zcGxpY2Uoc2NvcGUuZ3RFeHBhbmQucm93cy5pbmRleE9mKGluZGV4KSwxKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQubmV4dCgpLnNjb3BlKCkuJGRlc3Ryb3koKTsgLy8gZGVzdHJveSBzY29wZSBhbmQgcmVtb3ZlIHdhdGNoZXJzXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHQoKS5yZW1vdmUoKTsgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSB2aWV3XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBzY29wZS4kaW5kZXg7XHJcbiAgICAgICAgICAgIHNjb3BlLnRvZ2dsZVJvdyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwYW5kZWQgPSBzY29wZS5ndEV4cGFuZC5yb3dzLmluZGV4T2YoaW5kZXgpICE9PSAtMTtcclxuICAgICAgICAgICAgICAgIGlmKCFleHBhbmRlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUm93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVSb3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJyQkcmViaW5kOjpndFJlZnJlc2gnKTsgLy8gdXBkYXRlIGJpbmRpbmdzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGd0LW9wZW4tcm93OicraW5kZXgsZnVuY3Rpb24gKGV2ZW50LGZvcmNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwYW5kZWQgPSBzY29wZS5ndEV4cGFuZC5yb3dzLmluZGV4T2YoaW5kZXgpICE9PSAtMTtcclxuICAgICAgICAgICAgICAgIGlmKCFleHBhbmRlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUm93KGZvcmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGd0LWNsb3NlLXJvdzonK2luZGV4LGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBleHBhbmRlZCA9IHNjb3BlLmd0RXhwYW5kLnJvd3MuaW5kZXhPZihpbmRleCkgIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgaWYoZXhwYW5kZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVJvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KS5kaXJlY3RpdmUoJ2d0RXZlbnQnLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGZuKSB7XHJcbiAgICAgICAgICAgIGlmIChzY29wZS4kbGFzdCl7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kZW1pdCgnZ3QtZmluaXNoZWQtcmVuZGVyaW5nJyxzY29wZS5ndElkKTtcclxuICAgICAgICAgICAgICAgIC8vc2NvcGUuJHBhcmVudC4kcGFyZW50LmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pLmRpcmVjdGl2ZSgnZ3RSZW5kZXInLCBmdW5jdGlvbigkY29tcGlsZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgIHNjb3BlOntcclxuICAgICAgICAgICAgcm93Oic9cm93RGF0YScsXHJcbiAgICAgICAgICAgIHNldHRpbmdzOic9ZmllbGRTZXR0aW5ncycsXHJcbiAgICAgICAgICAgIGNvbXBpbGU6Jz1ndENvbXBpbGUnLFxyXG4gICAgICAgICAgICBhY3RpdmVCaW5kaW5nczogJz1hY3RpdmVCaW5kaW5ncydcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZm4pIHtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IHNjb3BlLnJvdztcclxuICAgICAgICAgICAgdmFyIGtleSA9IHNjb3BlLnNldHRpbmdzLm9iamVjdEtleTtcclxuICAgICAgICAgICAgdmFyIG91dHB1dDtcclxuXHJcbiAgICAgICAgICAgIHZhciByZW5kZXJNZXRob2QgPSBzY29wZS5zZXR0aW5ncy5yZW5kZXI7XHJcbiAgICAgICAgICAgIGlmKHJlbmRlck1ldGhvZCAmJiBhbmd1bGFyLmlzRnVuY3Rpb24ocmVuZGVyTWV0aG9kKSl7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSByZW5kZXJNZXRob2Qocm93LCBrZXkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gcm93W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoc2NvcGUuY29tcGlsZSAmJiBzY29wZS5jb21waWxlICE9PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWNsYXJlIGVsZW1lbnQgc2NvcGVcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50U2NvcGU7XHJcbiAgICAgICAgICAgICAgICBpZihzY29wZS5jb21waWxlICE9PSB0cnVlICYmIHNjb3BlLmNvbXBpbGUuJHdhdGNoKXtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50U2NvcGUgPSBzY29wZS5jb21waWxlLiRuZXcoKTsgLy8gY3JlYXRlIG5ldyBzY29wZSBmb3IgcmVuZGVyZWQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHNjb3BlLnJvdy4kJGhhc2hLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUJpbmRpbmdzLnB1c2goeyQkaGFzaEtleTpzY29wZS5yb3cuJCRoYXNoS2V5LHNjb3BlOmVsZW1lbnRTY29wZX0pOyAvLyBhZGQgc2NvcGUgdG8gYWN0aXZlIGJpbmRpbmdzIHdoaWNoIHdlIHVzZSB0byBjbGVhci9yZW1vdmUgb2Jzb2xldGUgc2NvcGVzL3dhdGNoZXNcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFNjb3BlID0gc2NvcGUuJHBhcmVudC4kbmV3KCk7IC8vIGNyZWF0ZSBuZXcgc2NvcGUgZm9yIHJlbmRlcmVkIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAkY29tcGlsZShvdXRwdXQpKGVsZW1lbnRTY29wZSk7IC8vIGNvbXBpbGVcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKG91dHB1dCk7IC8vIGFkZCBodG1sXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmlubmVySFRNTCA9IG91dHB1dCA9PT0gbnVsbCA/ICcnOm91dHB1dDsgLy8gYWRkIGh0bWxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pLmZpbHRlcignZ2V0UHJvcGVydHknLGZ1bmN0aW9uKCRmaWx0ZXIpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNldHRpbmdzLCBrZXkscHJvcGVydHkpe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coa2V5KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJGZpbHRlcignZmlsdGVyJykoc2V0dGluZ3Mse29iamVjdEtleTprZXl9LHRydWUpWzBdW3Byb3BlcnR5XTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2Fubm90IHJlYWQgcHJvcGVydHk6IFwiJyArIHByb3BlcnR5ICsgJ1wiIG9uIG1pc3Npbmcga2V5OiBcIicgKyBrZXkgKyAnXCIgaW4gc2V0dGluZ3MuJywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG59KS5maWx0ZXIoJ3NlYXJjaFJvdycsZnVuY3Rpb24oJGZpbHRlciwkaW50ZXJwb2xhdGUpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LGZpZWxkcyxzZWFyY2hUZXJtcyxmaWVsZHNTZXR0aW5ncyl7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhhcnJheSxmaWVsZHMsZmllbGRzU2V0dGluZ3MpO1xyXG4gICAgICAgIHZhciBzZWFyY2ggPSB7fTtcclxuICAgICAgICBmb3IodmFyIGsgPSAwOyBrIDwgZmllbGRzU2V0dGluZ3MubGVuZ3RoO2srKyl7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYXJyYXlba10pO1xyXG4gICAgICAgICAgICB2YXIgZmllbGRTZXR0aW5nID0gZmllbGRzU2V0dGluZ3Nba107XHJcbiAgICAgICAgICAgIGlmKGZpZWxkU2V0dGluZy5zZWFyY2ggJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGZpZWxkU2V0dGluZy5zZWFyY2gpKXtcclxuICAgICAgICAgICAgICAgIHZhciBvYmplY3RLZXkgPSBmaWVsZFNldHRpbmcub2JqZWN0S2V5O1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoW29iamVjdEtleV0gPSBmaWVsZFNldHRpbmcuc2VhcmNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighc2VhcmNoVGVybXMgfHwgc2VhcmNoVGVybXMucmVwbGFjZSgvXCIvZyxcIlwiKS5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmaWx0ZXJlZEFycmF5ID0gW107XHJcbiAgICAgICAgc2VhcmNoVGVybXMgPSB0eXBlb2Ygc2VhcmNoVGVybXMgPT09ICd1bmRlZmluZWQnID8gJyc6c2VhcmNoVGVybXM7XHJcbiAgICAgICAgdmFyIHNlYXJjaFRlcm1zQXJyYXkgPSBzZWFyY2hUZXJtcy50b0xvd2VyQ2FzZSgpLm1hdGNoKC9cIlteXCJdK1wifFtcXHddKy9nKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBhcnJheVtpXTtcclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICB2YXIgaiA9IDA7XHJcbiAgICAgICAgICAgICRmaWx0ZXIoJ21hcCcpKGZpZWxkcyxmdW5jdGlvbihmaWVsZCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gaiA9PT0gMCA/ICcnOicgJiAnO1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9IHNlYXJjaFtmaWVsZF0gPyBzZXBhcmF0b3Irc2VhcmNoW2ZpZWxkXShyb3csZmllbGQpOnNlcGFyYXRvcityb3dbZmllbGRdO1xyXG4gICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc2VhcmNoVGVybXNBcnJheS5sZW5ndGg7aysrKXtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXJtID0gc2VhcmNoVGVybXNBcnJheVtrXS5yZXBsYWNlKC9cIi9nLCcnKTtcclxuICAgICAgICAgICAgICAgIG1hdGNoID0gc3RyaW5nLmluZGV4T2YodGVybSkgIT09IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCFtYXRjaCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbWF0Y2hcclxuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBtYXRjaDtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYobWF0Y2gpe1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncHVzaCcscm93KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkucHVzaChyb3cpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkQXJyYXk7XHJcbiAgICB9XHJcbn0pLmZpbHRlcignY2FtZWxUb0Rhc2gnLGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKXt0cnl7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKCAvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJyApLnRvTG93ZXJDYXNlKCl9IGNhdGNoKGVycm9yKXtjb25zb2xlLmxvZygnbm90aGluZyB0byByZXBsYWNlOicsIGVycm9yKX07XHJcbiAgICB9XHJcbn0pLmZpbHRlcignZ3RTb3J0JyxmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBwcm9wZXJ0eUFycmF5LGZpZWxkcyl7XHJcbiAgICAgICAgdmFyIGN1c3RvbVNvcnQgPSB7fTsgLy8gc3RvcmUgY3VzdG9tIHNvcnQgZnVuY3Rpb25cclxuXHJcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGZpZWxkcy4uLlxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7aSA8IGZpZWxkcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcclxuXHJcbiAgICAgICAgICAgIC8vIC4uLmFuZCBpZiBmaWVsZCBoYXMgY3VzdG9tIHNvcnQgZnVuY3Rpb24uLi5cclxuICAgICAgICAgICAgaWYoZmllbGQuc29ydCAmJiBhbmd1bGFyLmlzRnVuY3Rpb24oZmllbGQuc29ydCkpe1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIC4uLnN0b3JlIGN1c3RvbSBzb3J0IGZ1bmN0aW9uIGluIGN1c3RvbSBzb3J0IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tU29ydFtmaWVsZC5vYmplY3RLZXldID0gZmllbGQuc29ydDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZHluYW1pY1NvcnQocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgdmFyIHNvcnRPcmRlciA9IDE7XHJcbiAgICAgICAgICAgIGlmKHByb3BlcnR5WzBdID09PSBcIi1cIikge1xyXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyID0gLTE7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHByb3BlcnR5LnN1YnN0cigxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEsYikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlMSA9IGFbcHJvcGVydHldID09PSBudWxsID8gJyc6Y3VzdG9tU29ydFtwcm9wZXJ0eV0gPyBjdXN0b21Tb3J0W3Byb3BlcnR5XShhLHByb3BlcnR5KTphW3Byb3BlcnR5XTsgLy8gc2V0IHZhbHVlIHRvIGVtcHR5IHN0cmluZyBpZiBudWxsIGFuZCB1c2UgY3VzdG9tIHNvcnQgZnVuY3Rpb24gaWYgb25lIGlzIHByb3ZpZGVkXHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUyID0gYltwcm9wZXJ0eV0gPT09IG51bGwgPyAnJzpjdXN0b21Tb3J0W3Byb3BlcnR5XSA/IGN1c3RvbVNvcnRbcHJvcGVydHldKGIscHJvcGVydHkpOmJbcHJvcGVydHldOyAvLyBzZXQgdmFsdWUgdG8gZW1wdHkgc3RyaW5nIGlmIG51bGwgYW5kIHVzZSBjdXN0b20gc29ydCBmdW5jdGlvbiBpZiBvbmUgaXMgcHJvdmlkZWRcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAodmFsdWUxIDwgdmFsdWUyKSA/IC0xIDogKHZhbHVlMSA+IHZhbHVlMikgPyAxIDogMDtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgKiBzb3J0T3JkZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZHluYW1pY1NvcnRNdWx0aXBsZShwcm9wZXJ0eUFycmF5KSB7XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAqIHNhdmUgdGhlIGFyZ3VtZW50cyBvYmplY3QgYXMgaXQgd2lsbCBiZSBvdmVyd3JpdHRlblxyXG4gICAgICAgICAgICAgKiBub3RlIHRoYXQgYXJndW1lbnRzIG9iamVjdCBpcyBhbiBhcnJheS1saWtlIG9iamVjdFxyXG4gICAgICAgICAgICAgKiBjb25zaXN0aW5nIG9mIHRoZSBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyB0byBzb3J0IGJ5XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBwcm9wZXJ0eUFycmF5OyAvL2FyZ3VtZW50cztcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmoxLCBvYmoyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsIHJlc3VsdCA9IDAsIG51bWJlck9mUHJvcGVydGllcyA9IHByb3BzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIC8qIHRyeSBnZXR0aW5nIGEgZGlmZmVyZW50IHJlc3VsdCBmcm9tIDAgKGVxdWFsKVxyXG4gICAgICAgICAgICAgICAgICogYXMgbG9uZyBhcyB3ZSBoYXZlIGV4dHJhIHByb3BlcnRpZXMgdG8gY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB3aGlsZShyZXN1bHQgPT09IDAgJiYgaSA8IG51bWJlck9mUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGR5bmFtaWNTb3J0KHByb3BzW2ldKShvYmoxLCBvYmoyKTtcclxuICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheS5zb3J0KGR5bmFtaWNTb3J0TXVsdGlwbGUocHJvcGVydHlBcnJheSkpO1xyXG4gICAgfVxyXG59KS5maWx0ZXIoJ2VzY2FwZUNzdlN0cmluZycsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KXtcclxuICAgICAgICByZXR1cm4gL14oXFw9fFxcQHxcXCssXFwtKS4qL2cudGVzdChpbnB1dCkgPyAnXFwnJytpbnB1dCA6IGlucHV0O1xyXG4gICAgfVxyXG59KTtcclxuIiwiIWZ1bmN0aW9uKGUpe3RyeXtlPWFuZ3VsYXIubW9kdWxlKFwiYW5ndWxhci5nZW5lcmljLnRhYmxlXCIpfWNhdGNoKHQpe2U9YW5ndWxhci5tb2R1bGUoXCJhbmd1bGFyLmdlbmVyaWMudGFibGVcIixbXSl9ZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIixmdW5jdGlvbihlKXtlLnB1dChcImdlbmVyaWMtdGFibGUvZGlyZWN0aXZlL2dlbmVyaWMtdGFibGUvZ2VuZXJpYy10YWJsZS5odG1sXCIsJzxkaXYgY2xhc3M9XCJnZW5lcmljLXRhYmxlXCI+PGRpdiBjbGFzcz1cImd0LXdyYXBwZXJcIj48dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1zb3J0YWJsZVwiIG5nLWlmPVwiZ3RIYXNEYXRhXCIgbmctY2xhc3M9XCI6Z3RSZWZyZXNoOmd0Q2xhc3Nlc1wiPjx0aGVhZD48dHIgbmctY2xhc3M9XCI6Omd0Um93VHJhbnNpdGlvbiA/IFxcJ2ZhZGUtaW4gYW5pbWF0ZVxcJzpcXCdcXCdcIj48dGggbmctcmVwZWF0PVwiZmllbGQgaW4gOjpndEZpZWxkcyB8IG9yZGVyQnk6XFwnY29sdW1uT3JkZXJcXCcgdHJhY2sgYnkgZmllbGQub2JqZWN0S2V5XCIgbmctc2hvdz1cIjpndFJlZnJlc2g6Z3RTZXR0aW5ncyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCd2aXNpYmxlXFwnXCIgbmctY2xhc3M9XCJbZmllbGQuY2xhc3NOYW1lcywgKGZpZWxkLm9iamVjdEtleSB8IGNhbWVsVG9EYXNoKSArIFxcJy1jb2x1bW5cXCcsIFxcJ3NvcnQtXFwnKyhndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpXVwiIG5nLWNsaWNrPVwiOmd0UmVmcmVzaDooZ3RTZXR0aW5ncyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCdzb3J0XFwnKSA9PT0gXFwnZW5hYmxlXFwnID8gc29ydCgkZXZlbnQsZmllbGQub2JqZWN0S2V5KTooZ3RTZXR0aW5ncyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCdzb3J0XFwnKSA9PT0gXFwnYXNjXFwnID8gc29ydCgkZXZlbnQsZmllbGQub2JqZWN0S2V5KTooZ3RTZXR0aW5ncyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCdzb3J0XFwnKSA9PT0gXFwnZGVzY1xcJyA/IHNvcnQoJGV2ZW50LGZpZWxkLm9iamVjdEtleSk6XFwnXFwnXCIgbmctYmluZD1cIjo6ZmllbGQubmFtZVwiPjwvdGg+PC90cj48dHIgbmctaWY9XCI6Omd0VG90YWxzXCIgbmctY2xhc3M9XCI6Omd0Um93VHJhbnNpdGlvbiA/IFxcJ2ZhZGUtaW4gYW5pbWF0ZVxcJzpcXCdcXCdcIj48dGQgbmctcmVwZWF0PVwiZmllbGQgaW4gOjpndEZpZWxkcyB8IG9yZGVyQnk6XFwnY29sdW1uT3JkZXJcXCcgdHJhY2sgYnkgZmllbGQub2JqZWN0S2V5XCIgY2xhc3M9XCJ0b3RhbC1jb2x1bW5cIiBuZy1zaG93PVwiOmd0UmVmcmVzaDpndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3Zpc2libGVcXCdcIiBuZy1jbGFzcz1cIjo6WyhndEZpZWxkcyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCdjbGFzc05hbWVzXFwnKSwgKGZpZWxkLm9iamVjdEtleSB8IGNhbWVsVG9EYXNoKSArIFxcJy1jb2x1bW5cXCddXCIgZmllbGQtc2V0dGluZ3M9XCI6OmZpZWxkXCIgZ3QtcmVuZGVyPVwiXCIgYWN0aXZlLWJpbmRpbmdzPVwiOjpiaW5kaW5nc1wiIHJvdy1kYXRhPVwiOjpndFRvdGFsc1wiIGd0LWNvbXBpbGU9XCI6OmZpZWxkLmNvbXBpbGVcIj48L3RkPjwvdHI+PC90aGVhZD48dGJvZHk+PHRyIGd0LXJvdz1cIlwiIG5nLXJlcGVhdD1cIihyb3dJbmRleCwgcm93KSBpbiA6Z3RSZWZyZXNoOmd0RGlzcGxheURhdGEgfCBsaW1pdFRvOiBkaXNwbGF5Um93c1wiIGd0LWV2ZW50PVwiXCIgbmctY2xhc3M9XCI6Z3RSZWZyZXNoOltndFJvd1RyYW5zaXRpb24gPyBcXCdmYWRlLWluIGFuaW1hdGVcXCc6XFwnXFwnLHJvdy5pc09wZW4gPyBcXCdyb3ctb3BlblxcJzpcXCdcXCcsICRpbmRleCAlIDIgPT0gMCA/IFxcJ3Jvdy1vZGRcXCc6XFwncm93LWV2ZW5cXCcsIGd0Um93SW5mb1skaW5kZXhdID8gXFwndHJ1ZS1jbGFzc1xcJzpcXCdmYWxzZS1jbGFzc1xcJ11cIj48dGQgbmctcmVwZWF0PVwiKGZpZWxkSW5kZXgsIGZpZWxkKSBpbiA6Z3RSZWZyZXNoOmd0RmllbGRzIHwgb3JkZXJCeTpcXCdjb2x1bW5PcmRlclxcJyB0cmFjayBieSBmaWVsZC5vYmplY3RLZXlcIiBuZy1zaG93PVwiOmd0UmVmcmVzaDpndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3Zpc2libGVcXCdcIiBuZy1jbGFzcz1cIjo6WyhndEZpZWxkcyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCdjbGFzc05hbWVzXFwnKSwgKGZpZWxkLm9iamVjdEtleSB8IGNhbWVsVG9EYXNoKSArIFxcJy1jb2x1bW5cXCddXCI+PHNwYW4gY2xhc3M9XCJndC1yb3ctbGFiZWxcIiBuZy1pZj1cIjo6KGd0RmllbGRzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3N0YWNrZWRIZWFkaW5nXFwnKVwiIG5nLWJpbmQ9XCI6OihndEZpZWxkcyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCdzdGFja2VkSGVhZGluZ1xcJyk9PT0gdHJ1ZSA/IChndEZpZWxkcyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCduYW1lXFwnKTooZ3RGaWVsZHMgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwnc3RhY2tlZEhlYWRpbmdcXCcpXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiZ3Qtcm93LWNvbnRlbnRcIiBuZy1jbGFzcz1cIjo6ZmllbGQuY2xpY2sgPyBcXCdndC1jbGljay1lbmFibGVkXFwnOlxcJ1xcJ1wiIGZpZWxkLXNldHRpbmdzPVwiOjpmaWVsZFwiIGd0LXJlbmRlcj1cIlwiIGFjdGl2ZS1iaW5kaW5ncz1cIjo6YmluZGluZ3NcIiByb3ctZGF0YT1cIjo6cm93XCIgZ3QtY29tcGlsZT1cIjo6ZmllbGQuY29tcGlsZVwiIG5nLWNsaWNrPVwiOmd0UmVmcmVzaDohZmllbGQuY2xpY2sgfHwgZmllbGQuY2xpY2socm93KTshZmllbGQuZXhwYW5kIHx8IHRvZ2dsZVJvdyhmaWVsZC5leHBhbmQsKGd0U2V0dGluZ3MgfCBmaWx0ZXI6e1xcJ3Zpc2libGVcXCc6dHJ1ZX06dHJ1ZSkubGVuZ3RoLHJvdyxmaWVsZC5vYmplY3RLZXkpO1wiPjwvc3Bhbj48L3RkPjwvdHI+PC90Ym9keT48dHIgbmctaWY9XCI6Z3RSZWZyZXNoOnBhZ2luYXRpb24gPT09IGZhbHNlXCI+PHRkIGNsYXNzPVwiZ3Qtbm8tZGF0YVwiIGNvbHNwYW49XCJ7ezpndFJlZnJlc2g6KGd0U2V0dGluZ3MgfCBmaWx0ZXI6e1xcJ3Zpc2libGVcXCc6dHJ1ZX06dHJ1ZSkubGVuZ3RofX1cIiBuZy1iaW5kPVwiOjpndFRyYW5zbGF0aW9ucy5ub0RhdGFcIj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj48ZGl2IGNsYXNzPVwiZ3QtcGFnaW5hdGlvbiB0ZXh0LWNlbnRlclwiIG5nLWlmPVwiOmd0UmVmcmVzaDpndFBhZ2luYXRpb24gPT09IHRydWUgJiYgcGFnaW5hdGlvbiAhPT0gZmFsc2VcIj48dWwgY2xhc3M9XCJwYWdpbmF0aW9uXCI+PGxpIG5nLWNsYXNzPVwiOmd0UmVmcmVzaDp7ZGlzYWJsZWQ6IGN1cnJlbnRQYWdlID09PSAwfVwiIG5nLXNob3c9XCJjdXJyZW50UGFnZSAhPT0gMFwiPjxidXR0b24gY2xhc3M9XCJidG4tbGluayBsaW5rXCIgbmctY2xpY2s9XCJwcmV2aW91c1BhZ2UoKVwiIG5nLWRpc2FibGVkPVwiOmd0UmVmcmVzaDpjdXJyZW50UGFnZSA9PT0gMFwiIG5nLWJpbmQtaHRtbD1cIjo6Z3RUcmFuc2xhdGlvbnMucHJldmlvdXNcIj48L2J1dHRvbj48L2xpPjxsaSBuZy1zaG93PVwiOmd0UmVmcmVzaDpjdXJyZW50UGFnZSA+IDNcIj48YnV0dG9uIGNsYXNzPVwiYnRuLWxpbmsgbGlua1wiIG5nLWNsaWNrPVwic2V0UGFnZSgwKVwiPjE8L2J1dHRvbj48c21hbGw+JmhlbGxpcDs8L3NtYWxsPjwvbGk+PGxpIHN0eWxlPVwiZGlzcGxheTogaW5saW5lO3BhZGRpbmc6IDAgNXB4O1wiIG5nLXJlcGVhdD1cInBhZ2UgaW4gOmd0UmVmcmVzaDpwYWdpbmF0aW9uXCIgbmctY2xhc3M9XCI6Z3RSZWZyZXNoOnBhZ2UgPT09IGN1cnJlbnRQYWdlID8gXFwnYWN0aXZlXFwnOlxcJ1xcJ1wiPjxidXR0b24gY2xhc3M9XCJidG4tbGluayBsaW5rXCIgbmctY2xpY2s9XCJzZXRQYWdlKHBhZ2UpXCIgbmctYmluZD1cInBhZ2UrMVwiPjwvYnV0dG9uPjwvbGk+PGxpIG5nLXNob3c9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlICsxIDwgcGFnZXMubGVuZ3RoLTEgJiYgcGFnZXMubGVuZ3RoID4gNFwiPjxzbWFsbCBuZy1zaG93PVwiOmd0UmVmcmVzaDpjdXJyZW50UGFnZSArIDMgPCBwYWdlcy5sZW5ndGhcIj4maGVsbGlwOzwvc21hbGw+PGJ1dHRvbiBjbGFzcz1cImJ0bi1saW5rIGxpbmtcIiBuZy1jbGljaz1cInNldFBhZ2UocGFnZXMubGVuZ3RoLTEpXCIgbmctYmluZD1cInBhZ2VzLmxlbmd0aFwiPjwvYnV0dG9uPjwvbGk+PGxpIG5nLWNsYXNzPVwiOmd0UmVmcmVzaDp7ZGlzYWJsZWQ6IGN1cnJlbnRQYWdlID09IHBhZ2VzLmxlbmd0aH1cIiBuZy1zaG93PVwiOmd0UmVmcmVzaDpjdXJyZW50UGFnZSsxICE9PSBwYWdlcy5sZW5ndGhcIj48YnV0dG9uIGNsYXNzPVwiYnRuLWxpbmsgbGlua1wiIG5nLWNsaWNrPVwibmV4dFBhZ2UoKVwiIG5nLWRpc2FibGVkPVwiOmd0UmVmcmVzaDpjdXJyZW50UGFnZSsxID09PSBwYWdlcy5sZW5ndGhcIiBuZy1iaW5kLWh0bWw9XCI6Omd0VHJhbnNsYXRpb25zLm5leHRcIj48L2J1dHRvbj48L2xpPjwvdWw+PC9kaXY+PC9kaXY+Jyl9XSl9KCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
