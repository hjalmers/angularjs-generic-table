angular.module("angular.generic.table",["ngAnimate","angular.filter","angular.bind.notifier","ngCsv"]),!function(e){try{e=angular.module("angular.generic.table")}catch(t){e=angular.module("angular.generic.table",[])}e.run(["$templateCache",function(e){e.put("generic-table/directive/generic-table/generic-table.html",'<div class="generic-table"><div class="gt-wrapper"><table class="table table-sortable" ng-if="gtHasData" ng-class=":gtRefresh:gtClasses"><thead><tr ng-class="::gtRowTransition ? \'fade-in animate\':\'\'"><th ng-repeat="field in ::gtFields | orderBy:\'columnOrder\' track by field.objectKey" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class=":gtRefresh:[field.classNames, (field.objectKey | camelToDash) + \'-column\', \'sort-\'+(gtSettings | getProperty:field.objectKey:\'sort\')]"><span ng-click=":gtRefresh:(gtSettings | getProperty:field.objectKey:\'sort\') === \'enable\' ? sort($event,field.objectKey):(gtSettings | getProperty:field.objectKey:\'sort\') === \'asc\' ? sort($event,field.objectKey):(gtSettings | getProperty:field.objectKey:\'sort\') === \'desc\' ? sort($event,field.objectKey):\'\'">{{::field.name}}</span></th></tr><tr ng-if=":gtRefresh:gtTotals" ng-class="::gtRowTransition ? \'fade-in animate\':\'\'"><td ng-repeat="field in ::gtFields | orderBy:\'columnOrder\' track by field.objectKey" class="total-column" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="::[(gtFields | getProperty:field.objectKey:\'classNames\'), (field.objectKey | camelToDash) + \'-column\']" field-settings="::field" gt-render="" row-data="::gtTotals" gt-compile="::field.compile"></td></tr></thead><tbody><tr gt-row="" ng-repeat="row in :gtRefresh:gtDisplayData | limitTo: displayRows" gt-event="" ng-class=":gtRefresh:[gtRowTransition ? \'fade-in animate\':\'\',row.isOpen ? \'row-open\':\'\', $index % 2 == 0 ? \'row-odd\':\'row-even\']"><td ng-repeat="field in :gtRefresh:gtFields | orderBy:\'columnOrder\' track by field.objectKey" ng-show=":gtRefresh:gtSettings | getProperty:field.objectKey:\'visible\'" ng-class="::[(gtFields | getProperty:field.objectKey:\'classNames\'), (field.objectKey | camelToDash) + \'-column\']"><span ng-class="::field.click ? \'gt-click-enabled\':\'\'" field-settings="::field" gt-render="" row-data="::row" gt-compile="::field.compile" ng-click=":gtRefresh:!field.click || field.click(row);!field.expand || toggleRow(field.expand,(gtSettings | filter:{\'visible\':true}:true).length,row,field.objectKey);"></span></td></tr></tbody><tr ng-if=":gtRefresh:pagination === false"><td class="gt-no-data" colspan="{{:gtRefresh:(gtSettings | filter:{\'visible\':true}:true).length}}">{{::gtNoDataTxt}}</td></tr></table></div><div class="gt-pagination text-center" ng-if=":gtRefresh:gtPagination === true && pagination !== false"><ul class="pagination"><li ng-class=":gtRefresh:{disabled: currentPage === 0}" ng-show="currentPage !== 0"><button class="btn-link link" ng-click="previousPage()" translate="ALL.GENERAL#PAGINATION_PREVIOUS#BUTTON" ng-disabled=":gtRefresh:currentPage === 0">&laquo; Prev</button></li><li ng-show=":gtRefresh:currentPage > 3"><button class="btn-link link" ng-click="setPage(0)">1</button><small>&hellip;</small></li><li style="display: inline;padding: 0 5px;" ng-repeat="page in :gtRefresh:pagination" ng-class=":gtRefresh:page === currentPage ? \'active\':\'\'"><button class="btn-link link" ng-click="setPage(page)">{{page+1}}</button></li><li ng-show=":gtRefresh:currentPage +1 < pages.length-1 && pages.length > 4"><small ng-show=":gtRefresh:currentPage + 3 < pages.length">&hellip;</small><button class="btn-link link" ng-click="setPage(pages.length-1)">{{pages.length}}</button></li><li ng-class=":gtRefresh:{disabled: currentPage == pages.length}" ng-show=":gtRefresh:currentPage+1 !== pages.length"><button class="btn-link link" ng-click="nextPage()" translate="ALL.GENERAL#PAGINATION_NEXT#BUTTON" ng-disabled=":gtRefresh:currentPage+1 === pages.length">Next &raquo;</button></li></ul></div></div>')}])}(),angular.module("angular.generic.table").directive("genericTable",function(){return{restrict:"E",replace:!0,scope:{gtId:"=gtId",gtClasses:"@gtClasses",gtSettings:"=gtSettings",gtFields:"=gtFields",gtTotals:"=gtTotals",gtData:"=gtData",gtRows:"@gtRows",gtRowTransition:"@gtRowTransition",gtPagination:"@gtPagination",gtNoDataTxt:"@"},templateUrl:"generic-table/directive/generic-table/generic-table.html",link:function(e,t,n,r){},controller:"genericTableController"}}).controller("genericTableController",["$scope","$filter","$timeout","CSV","$document",function(e,t,n,r,a){var i,o,g,s,l,c,d,f="undefined"==typeof e.gtSettings?!1:t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey});e.gtPagination="undefined"==typeof e.gtPagination?!0:"false"!==e.gtPagination,e.gtRows="undefined"==typeof e.gtRows?20:e.gtRows,e.gtNoDataTxt="undefined"==typeof e.gtNoDataTxt?"No table data to display":e.gtNoDataTxt,e.gtId="undefined"==typeof e.gtId?e.$id:e.gtId;var u=function(){t("map")(e.gtSettings,function(n){try{var r=t("filter")(e.gtFields,{objectKey:n.objectKey},!0)[0];r.columnOrder=n.columnOrder,n["export"]===!1&&(r.exportField=!1)}catch(a){console.log('field definition object for property: "'+n.objectKey+'" not found.',a)}})};u();var p=function(t){e.gtHasData=!1,i=t.slice(0),e.$emit("gt-started-data-processing",e.gtId),h(t)},b=function(t){e.gtHasData=!1,i=t.slice(0),e.$emit("gt-started-data-processing",e.gtId),h(t)},h=function(n){l=t("map")(t("removeWith")(e.gtFields.slice(0),{search:!1}),"objectKey");var r=t("map")(t("filter")(e.gtSettings,{enabled:!0},!0),"objectKey");o=t("map")(n,function(n){var a={};return t("map")(r,function(r){if("undefined"!=typeof n[r])a[r]=n[r];else{var i=t("map")(t("filter")(e.gtFields,{objectKey:r},!0),"value")[0];i&&angular.isFunction(i)?a[r]=i(n):console.log('property: "'+r+'" does not exists in data object and no value function was declared')}}),a}),m(o)},m=function(n,r){var a=t("filter")(n.slice(0),c,function(e,t){return t.indexOf(e)>-1},!0).slice(0);g=t("searchRow")(a,l,r,e.gtFields),y()},y=function(){s=f!==!1?t("gtSort")(g,f):g,v()},v=function(){e.pages=t("chunkBy")(s,parseInt(e.gtRows)),e.currentPage=0,e.loading=!0,e.$emit("gt-started-rendering"),e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),n(function(){e.$emit("gt-finished-data-processing",e.gtId),e.gtHasData=!0},200),e.$broadcast("$$rebind::gtRefresh")};e.$on("gt-update-table:"+e.gtId,function(e,t){b(t)}),e.$on("gt-search-table:"+e.gtId,function(e,t){d=t,m(o.slice(0),t)}),e.$on("gt-filter-table:"+e.gtId,function(e,t){c=t,m(o.slice(0),d)}),e.$on("gt-update-structure:"+e.gtId,function(n,r){e.gtFields=r.fields,e.gtSettings=r.settings,u(),l=t("map")(t("removeWith")(e.gtFields.slice(0),{search:!1}),"objectKey"),f===!1||r.forceSorting===!0?f=t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey}):(t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){e.sort="enable"}),t("map")(f,function(n){var r=-1===n.indexOf("-")?"asc":"desc";n=n.replace("-",""),t("filter")(e.gtSettings,{objectKey:n},!0)[0].sort=r}))}),e.$on("gt-paginate-table:"+e.gtId,function(t,n){e.gtRows=parseInt(n),v()}),e.$on("gt-export-csv:"+e.gtId,function(e,t){P(t)});var w=function(t,n){return e.pagination=[],0===t?(e.pagination=!1,void e.$emit("gt-table-filtered",{total:o.length,filtered:0,showingFrom:0,showingTo:0,pageLength:e.gtRows,currentPage:0,numberOfPages:0})):(2>t?e.pagination=[0]:3>t?e.pagination=[0,1]:4>t?e.pagination=[0,1,2]:5>t?e.pagination=[0,1,2,3]:4>n?e.pagination=[0,1,2,3,4]:t>n+1?e.pagination=[n-1,n,n+1]:t===n+1?e.pagination=[n-2,n-1,n]:t-4>n&&(e.pagination=[n-1,n,n+1,n+2]),void e.$emit("gt-table-filtered",{total:o.length,filtered:g.length,showingFrom:e.currentPage*e.gtRows+(e.currentPage>1?0:1),showingTo:e.currentPage*e.gtRows+e.gtDisplayData.length,pageLength:e.gtRows,currentPage:e.currentPage,numberOfPages:e.pages.length}))};e.nextPage=function(){try{e.currentPage++,e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(t){console.log(t)}},e.previousPage=function(){try{e.currentPage--,e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(t){console.log(t)}},e.setPage=function(t){try{e.currentPage=t,e.gtDisplayData=e.pages[e.currentPage],w(e.pages.length,e.currentPage),e.$emit("gt-started-rendering",e.gtId),e.$broadcast("$$rebind::gtRefresh")}catch(n){console.log(n)}},e.sort=function(n,r){var a=n.ctrlKey||n.metaKey;if(!a&&r)for(var i=0;e.gtSettings.length>i;i++){var o=e.gtSettings[i];(o.objectKey!==r&&"asc"===o.sort||o.objectKey!==r&&"desc"===o.sort)&&(e.gtSettings[i].sort="enable")}if(r)for(var i=0;e.gtSettings.length>i;i++){var o=e.gtSettings[i];if(o.objectKey===r){var g=o.sort;switch(g){case"disable":break;case"enable":e.gtSettings[i].sort="asc";break;case"asc":e.gtSettings[i].sort="desc";break;case"desc":e.gtSettings[i].sort="enable"}}}f=t("map")(t("filter")(e.gtSettings,{sort:"asc desc"},function(e,t){return t.indexOf(e)>-1}),function(e){return("desc"===e.sort?"-":"")+e.objectKey}),y()},e.gtData&&p(e.gtData);var P=function(i){i="undefined"==typeof i?{}:i;for(var o="undefined"==typeof i.fileName?"export":i.fileName,g=JSON.parse(angular.toJson(s.slice(0))),l=0;l<g.length;l++){var c=g[l];for(var d in c)if(c.hasOwnProperty(d)){var f=t("filter")(e.gtFields,{objectKey:d},!0)[0],u=t("filter")(e.gtSettings,{objectKey:d},!0)[0],p=f["export"];if(p&&angular.isFunction(p)){var b=p(c,d);c[d]=f.exportEscapeString===!1?b:t("escapeCsvString")(b)}else c[d]=f.exportEscapeString===!1?c[d]:t("escapeCsvString")(c[d]);"undefined"!=typeof i.exportColumns?-1===i.exportColumns.indexOf(u.objectKey)&&(c[d]=null):"undefined"!=typeof u["export"]&&u["export"]===!1&&(c[d]=null)}}var h=g;if("undefined"!=typeof i.exportColumns)var m=t("map")(i.exportColumns,function(n){return t("filter")(e.gtFields.slice(0),{objectKey:n},!0)[0]});else var m=t("orderBy")(t("removeWith")(e.gtFields,{exportField:!1}),"columnOrder");var y={fieldSep:"undefined"==typeof i.fieldSep?";":i.fieldSep,header:t("map")(m,"name"),txtDelim:"undefined"==typeof i.txtDelim?'"':i.txtDelim,columnOrder:t("map")(m,"objectKey"),decimalSep:"undefined"==typeof i.decimalSep?",":i.decimalSep,addByteOrderMarker:"undefined"==typeof i.addBom,charset:"undefined"==typeof i.charset?"utf-8":i.charset,quoteStrings:"undefined"==typeof i.quoteStrings?!1:i.quoteStrings};r.stringify(h,y).then(function(e){var t;if(window.navigator.msSaveOrOpenBlob)t=new Blob([e],{type:"text/csv;charset=utf-8;"}),navigator.msSaveBlob(t,"export.csv");else if("Microsoft Internet Explorer"===window.navigator.appName){window.alert("You're using an old version of Internet Explorer and the export might therefore have the wrong format, please update your browser.");var r=angular.element("<iframe></iframe>");r[0].style.display="none";var i=angular.element("body");i.append(r);var g=null;r[0].contentDocument?g=r[0].contentDocument:r[0].contentWindow&&(g=r[0].contentWindow.document),g.open("text/plain","replace"),g.write([e]),g.close(),g.execCommand("SaveAs",!0,o+".csv")}else{t=new Blob([e],{type:"text/csv;charset=utf-8;"});var s=angular.element("<a></a>");s.attr("href",window.URL.createObjectURL(t)),s.attr("download",o+".csv"),a.find("body").append(s),n(function(){s[0].click(),s.remove()},null)}})}}]).directive("gtRow",["$compile",function(e){return{restrict:"A",scope:!1,link:function(t,n,r,a){t.toggleRow=function(r,a,i,o){if(t.row.isOpen)n.next().remove(),t.row.isOpen=!1;else{var i=e('<tr class="expanded-row"><td colspan="'+a+'">'+r+"</td></tr>")(t);n.after(i),t.row.isOpen=!0}t.$broadcast("$$rebind::gtRefresh")}}}}]).directive("gtEvent",function(){return{restrict:"A",link:function(e,t,n,r){e.$last&&e.$emit("gt-finished-rendering",e.gtId)}}}).directive("gtRender",["$compile",function(e){return{restrict:"A",scope:{row:"=rowData",settings:"=fieldSettings",compile:"=gtCompile"},link:function(t,n,r,a){var i,o=t.row,g=t.settings.objectKey,s=t.settings.render;if(i=s&&angular.isFunction(s)?s(o,g):o[g],t.compile&&t.compile!==!1){var l=t.compile!==!0&&t.compile.$watch?t.compile:t.$parent;i=e(i)(l),n.append(i)}else n[0].innerHTML=i}}}]).filter("getProperty",["$filter",function(e){return function(t,n,r){try{var a=e("filter")(t,{objectKey:n},!0)[0][r]}catch(i){console.log('cannot read property: "'+r+'" on missing key: "'+n+'" in settings.',i)}return a}}]).filter("searchRow",["$filter","$interpolate",function(e,t){return function(t,n,r,a){for(var i={},o=0;o<a.length;o++){var g=a[o];if(g.search&&angular.isFunction(g.search)){var s=g.objectKey;i[s]=g.search}}if(!r||0===r.replace(/"/g,"").length)return t;var l=[];r="undefined"==typeof r?"":r;for(var c=r.toLowerCase().match(/"[^"]+"|[\w]+/g),d=0;d<t.length;d++){var f=t[d],u="",p=0;e("map")(n,function(e){var t=0===p?"":" & ";u+=i[e]?t+i[e](f,e):t+f[e],p++}),u=u.toLowerCase();for(var b=!0,o=0;o<c.length;o++){var h=c[o].replace(/"/g,"");if(b=-1!==u.indexOf(h),!b)break}b&&l.push(f)}return l}}]).filter("camelToDash",function(){return function(e){try{return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}catch(t){console.log("nothing to replace:",t)}}}).filter("gtSort",function(){return function(e,t){function n(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,r){var a=n[e]<r[e]?-1:n[e]>r[e]?1:0;return a*t}}function r(e){var t=e;return function(e,r){for(var a=0,i=0,o=t.length;0===i&&o>a;)i=n(t[a])(e,r),a++;return i}}return e.sort(r(t))}}).filter("escapeCsvString",function(){return function(e){return/^(\=|\@|\+,\-).*/g.test(e)?"'"+e:e}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyaWMtdGFibGUuanMiLCJhbmd1bGFyLmdlbmVyaWMudGFibGUudHBsLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJlIiwidCIsInJ1biIsInB1dCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsInNjb3BlIiwiZ3RJZCIsImd0Q2xhc3NlcyIsImd0U2V0dGluZ3MiLCJndEZpZWxkcyIsImd0VG90YWxzIiwiZ3REYXRhIiwiZ3RSb3dzIiwiZ3RSb3dUcmFuc2l0aW9uIiwiZ3RQYWdpbmF0aW9uIiwiZ3ROb0RhdGFUeHQiLCJ0ZW1wbGF0ZVVybCIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJmbiIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkZmlsdGVyIiwiJHRpbWVvdXQiLCJDU1YiLCIkZG9jdW1lbnQiLCJvcmlnaW5hbERhdGEiLCJtYXBwZWREYXRhIiwiZmlsdGVyZWREYXRhIiwic29ydGVkRGF0YSIsInNlYXJjaENvbHVtbnMiLCJ0YWJsZUZpbHRlcnMiLCJzZWFyY2hUZXJtcyIsInNvcnRpbmciLCJzb3J0IiwiZXhwZWN0ZWQiLCJhY3R1YWwiLCJpbmRleE9mIiwib2JqZWN0S2V5IiwiJGlkIiwiZXh0ZW5kRmllbGREZWZpbml0aW9ucyIsInNldHRpbmciLCJmaWVsZCIsImNvbHVtbk9yZGVyIiwiZXhwb3J0RmllbGQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJpbml0VGFibGUiLCJpbml0RGF0YSIsImd0SGFzRGF0YSIsInNsaWNlIiwiJGVtaXQiLCJtYXBLZXlzIiwiY2hhbmdlRGF0YSIsIm5ld0RhdGEiLCJkYXRhIiwic2VhcmNoIiwicHJvcGVydGllcyIsImVuYWJsZWQiLCJyb3ciLCJvYmoiLCJwcm9wZXJ0eSIsInZhbHVlRnVuY3Rpb24iLCJpc0Z1bmN0aW9uIiwiYXBwbHlGaWx0ZXIiLCJmaWx0ZXJlZCIsImFwcGx5U29ydCIsImFwcGx5UGFnaW5hdGlvbiIsInBhZ2VzIiwicGFyc2VJbnQiLCJjdXJyZW50UGFnZSIsImxvYWRpbmciLCJndERpc3BsYXlEYXRhIiwicGFnaW5hdGlvbiIsImxlbmd0aCIsIiRicm9hZGNhc3QiLCIkb24iLCJldmVudCIsImFyZyIsImZpZWxkcyIsInNldHRpbmdzIiwiZm9yY2VTb3J0aW5nIiwic29ydFByb3BlcnR5IiwiZ3RFeHBvcnQiLCJ0b3RhbFBhZ2VzIiwidG90YWwiLCJzaG93aW5nRnJvbSIsInNob3dpbmdUbyIsInBhZ2VMZW5ndGgiLCJudW1iZXJPZlBhZ2VzIiwibmV4dFBhZ2UiLCJwcmV2aW91c1BhZ2UiLCJzZXRQYWdlIiwicGFnZSIsIiRldmVudCIsImN0cmxLZXkiLCJtZXRhS2V5IiwiaSIsIm9wdGlvbnMiLCJmaWxlTmFtZSIsImV4cG9ydERhdGEiLCJKU09OIiwicGFyc2UiLCJ0b0pzb24iLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsImZpZWxkU2V0dGluZyIsInRhYmxlU2V0dGluZyIsImV4cG9ydE1ldGhvZCIsImV4cG9ydFZhbHVlIiwiZXhwb3J0RXNjYXBlU3RyaW5nIiwiZXhwb3J0Q29sdW1ucyIsImV4cG9ydEZpZWxkcyIsImhlYWRlcnMiLCJmaWVsZFNlcCIsImhlYWRlciIsInR4dERlbGltIiwiZGVjaW1hbFNlcCIsImFkZEJ5dGVPcmRlck1hcmtlciIsImFkZEJvbSIsImNoYXJzZXQiLCJxdW90ZVN0cmluZ3MiLCJzdHJpbmdpZnkiLCJ0aGVuIiwicmVzdWx0IiwiYmxvYiIsIndpbmRvdyIsIm5hdmlnYXRvciIsIm1zU2F2ZU9yT3BlbkJsb2IiLCJCbG9iIiwidHlwZSIsIm1zU2F2ZUJsb2IiLCJhcHBOYW1lIiwiYWxlcnQiLCJpZnJhbWUiLCJzdHlsZSIsImRpc3BsYXkiLCJhcHBlbmQiLCJkb2MiLCJjb250ZW50RG9jdW1lbnQiLCJjb250ZW50V2luZG93IiwiZG9jdW1lbnQiLCJvcGVuIiwid3JpdGUiLCJjbG9zZSIsImV4ZWNDb21tYW5kIiwiZG93bmxvYWRMaW5rIiwiYXR0ciIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImZpbmQiLCJjbGljayIsInJlbW92ZSIsIiRjb21waWxlIiwidG9nZ2xlUm93IiwiY29udGVudCIsImNvbHVtbnMiLCJpc09wZW4iLCJuZXh0IiwiYWZ0ZXIiLCIkbGFzdCIsImNvbXBpbGUiLCJvdXRwdXQiLCJyZW5kZXJNZXRob2QiLCJyZW5kZXIiLCJlbGVtZW50U2NvcGUiLCIkd2F0Y2giLCIkcGFyZW50IiwiaW5uZXJIVE1MIiwiZmlsdGVyIiwiJGludGVycG9sYXRlIiwiYXJyYXkiLCJmaWVsZHNTZXR0aW5ncyIsImsiLCJmaWx0ZXJlZEFycmF5Iiwic2VhcmNoVGVybXNBcnJheSIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJzdHJpbmciLCJqIiwic2VwYXJhdG9yIiwidGVybSIsInB1c2giLCJwcm9wZXJ0eUFycmF5IiwiZHluYW1pY1NvcnQiLCJzb3J0T3JkZXIiLCJzdWJzdHIiLCJhIiwiYiIsImR5bmFtaWNTb3J0TXVsdGlwbGUiLCJwcm9wcyIsIm9iajEiLCJvYmoyIiwibnVtYmVyT2ZQcm9wZXJ0aWVzIiwiaW5wdXQiLCJ0ZXN0Il0sIm1hcHBpbmdzIjoiQUFPQUEsUUFBQUMsT0FBQSx5QkFBQSxZQUFBLGlCQUFBLHdCQUFBLFdDUEEsU0FBQUMsR0FBQSxJQUFBQSxFQUFBRixRQUFBQyxPQUFBLHlCQUFBLE1BQUFFLEdBQUFELEVBQUFGLFFBQUFDLE9BQUEsNEJBQUFDLEVBQUFFLEtBQUEsaUJBQUEsU0FBQUYsR0FBQUEsRUFBQUcsSUFBQSwyREFBQSx5cEhEa0JBTCxRQUFBQyxPQUFBLHlCQUFBSyxVQUFBLGVBQUEsV0FDQSxPQUNBQyxTQUFBLElBQ0FDLFNBQUEsRUFDQUMsT0FDQUMsS0FBQSxRQUNBQyxVQUFBLGFBQ0FDLFdBQUEsY0FDQUMsU0FBQSxZQUNBQyxTQUFBLFlBRUFDLE9BQUEsVUFDQUMsT0FBQSxVQUNBQyxnQkFBQSxtQkFDQUMsYUFBQSxnQkFDQUMsWUFBQSxLQUVBQyxZQUFBLDJEQUNBQyxLQUFBLFNBQUFaLEVBQUFhLEVBQUFDLEVBQUFDLEtBR0FDLFdBQUEsNEJBRUFBLFdBQUEsMEJBQUEsU0FBQSxVQUFBLFdBQUEsTUFBQSxZQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFFQUMsRUFBQSxtQkFBQVosR0FBQWQsWUFBQSxFQUFBZSxFQUFBLE9BQUFBLEVBQUEsVUFBQUQsRUFBQWQsWUFBQTJCLEtBQUEsWUFBQSxTQUFBQyxFQUFBQyxHQUNBLE1BQUFBLEdBQUFDLFFBQUFGLEdBQUEsS0FDQSxTQUFBRCxHQUNBLE9BQUEsU0FBQUEsRUFBQUEsS0FBQSxJQUFBLElBQUFBLEVBQUFJLFdBRUFqQixHQUFBUixhQUFBLG1CQUFBUSxHQUFBUixjQUFBLEVBQUEsVUFBQVEsRUFBQVIsYUFDQVEsRUFBQVYsT0FBQSxtQkFBQVUsR0FBQVYsT0FBQSxHQUFBVSxFQUFBVixPQUNBVSxFQUFBUCxZQUFBLG1CQUFBTyxHQUFBUCxZQUFBLDJCQUFBTyxFQUFBUCxZQUNBTyxFQUFBaEIsS0FBQSxtQkFBQWdCLEdBQUFoQixLQUFBZ0IsRUFBQWtCLElBQUFsQixFQUFBaEIsSUFHQSxJQUFBbUMsR0FBQSxXQUNBbEIsRUFBQSxPQUFBRCxFQUFBZCxXQUFBLFNBQUFrQyxHQUNBLElBQ0EsR0FBQUMsR0FBQXBCLEVBQUEsVUFBQUQsRUFBQWIsVUFBQThCLFVBQUFHLEVBQUFILFlBQUEsR0FBQSxFQUNBSSxHQUFBQyxZQUFBRixFQUFBRSxZQUNBRixFQUFBQSxhQUFBLElBQ0FDLEVBQUFFLGFBQUEsR0FFQSxNQUFBQyxHQUNBQyxRQUFBQyxJQUFBLDBDQUFBTixFQUFBSCxVQUFBLGVBQUFPLE1BS0FMLElBRUEsSUFBQVEsR0FBQSxTQUFBQyxHQUNBNUIsRUFBQTZCLFdBQUEsRUFDQXhCLEVBQUF1QixFQUFBRSxNQUFBLEdBQ0E5QixFQUFBK0IsTUFBQSw2QkFBQS9CLEVBQUFoQixNQUNBZ0QsRUFBQUosSUFJQUssRUFBQSxTQUFBQyxHQUNBbEMsRUFBQTZCLFdBQUEsRUFDQXhCLEVBQUE2QixFQUFBSixNQUFBLEdBQ0E5QixFQUFBK0IsTUFBQSw2QkFBQS9CLEVBQUFoQixNQUNBZ0QsRUFBQUUsSUFJQUYsRUFBQSxTQUFBRyxHQUdBMUIsRUFBQVIsRUFBQSxPQUFBQSxFQUFBLGNBQUFELEVBQUFiLFNBQUEyQyxNQUFBLElBQUFNLFFBQUEsSUFBQSxZQUdBLElBQUFDLEdBQUFwQyxFQUFBLE9BQUFBLEVBQUEsVUFBQUQsRUFBQWQsWUFBQW9ELFNBQUEsSUFBQSxHQUFBLFlBR0FoQyxHQUFBTCxFQUFBLE9BQUFrQyxFQUFBLFNBQUFJLEdBQ0EsR0FBQUMsS0FxQkEsT0FsQkF2QyxHQUFBLE9BQUFvQyxFQUFBLFNBQUFJLEdBRUEsR0FBQSxtQkFBQUYsR0FBQUUsR0FFQUQsRUFBQUMsR0FBQUYsRUFBQUUsT0FDQSxDQUdBLEdBQUFDLEdBQUF6QyxFQUFBLE9BQUFBLEVBQUEsVUFBQUQsRUFBQWIsVUFBQThCLFVBQUF3QixJQUFBLEdBQUEsU0FBQSxFQUNBQyxJQUFBcEUsUUFBQXFFLFdBQUFELEdBR0FGLEVBQUFDLEdBQUFDLEVBQUFILEdBRUFkLFFBQUFDLElBQUEsY0FBQWUsRUFBQSwwRUFJQUQsSUFHQUksRUFBQXRDLElBSUFzQyxFQUFBLFNBQUFULEVBQUFDLEdBR0EsR0FBQVMsR0FBQTVDLEVBQUEsVUFBQWtDLEVBQUFMLE1BQUEsR0FBQXBCLEVBQUEsU0FBQUksRUFBQUMsR0FDQSxNQUFBQSxHQUFBQyxRQUFBRixHQUFBLEtBQ0EsR0FBQWdCLE1BQUEsRUFHQXZCLEdBQUFOLEVBQUEsYUFBQTRDLEVBQUFwQyxFQUFBMkIsRUFBQXBDLEVBQUFiLFVBQ0EyRCxLQUlBQSxFQUFBLFdBQ0F0QyxFQUFBSSxLQUFBLEVBQUFYLEVBQUEsVUFBQU0sRUFBQUssR0FBQUwsRUFDQXdDLEtBSUFBLEVBQUEsV0FDQS9DLEVBQUFnRCxNQUFBL0MsRUFBQSxXQUFBTyxFQUFBeUMsU0FBQWpELEVBQUFWLFNBQ0FVLEVBQUFrRCxZQUFBLEVBQ0FsRCxFQUFBbUQsU0FBQSxFQUNBbkQsRUFBQStCLE1BQUEsd0JBQ0EvQixFQUFBb0QsY0FBQXBELEVBQUFnRCxNQUFBaEQsRUFBQWtELGFBQ0FHLEVBQUFyRCxFQUFBZ0QsTUFBQU0sT0FBQXRELEVBQUFrRCxhQUNBaEQsRUFBQSxXQUNBRixFQUFBK0IsTUFBQSw4QkFBQS9CLEVBQUFoQixNQUNBZ0IsRUFBQTZCLFdBQUEsR0FDQSxLQU9BN0IsRUFBQXVELFdBQUEsdUJBSUF2RCxHQUFBd0QsSUFBQSxtQkFBQXhELEVBQUFoQixLQUFBLFNBQUF5RSxFQUFBQyxHQUNBekIsRUFBQXlCLEtBSUExRCxFQUFBd0QsSUFBQSxtQkFBQXhELEVBQUFoQixLQUFBLFNBQUF5RSxFQUFBQyxHQUNBL0MsRUFBQStDLEVBQ0FkLEVBQUF0QyxFQUFBd0IsTUFBQSxHQUFBNEIsS0FJQTFELEVBQUF3RCxJQUFBLG1CQUFBeEQsRUFBQWhCLEtBQUEsU0FBQXlFLEVBQUFDLEdBQ0FoRCxFQUFBZ0QsRUFDQWQsRUFBQXRDLEVBQUF3QixNQUFBLEdBQUFuQixLQUlBWCxFQUFBd0QsSUFBQSx1QkFBQXhELEVBQUFoQixLQUFBLFNBQUF5RSxFQUFBQyxHQUNBMUQsRUFBQWIsU0FBQXVFLEVBQUFDLE9BQ0EzRCxFQUFBZCxXQUFBd0UsRUFBQUUsU0FDQXpDLElBQ0FWLEVBQUFSLEVBQUEsT0FBQUEsRUFBQSxjQUFBRCxFQUFBYixTQUFBMkMsTUFBQSxJQUFBTSxRQUFBLElBQUEsYUFHQXhCLEtBQUEsR0FBQThDLEVBQUFHLGdCQUFBLEVBR0FqRCxFQUFBWCxFQUFBLE9BQUFBLEVBQUEsVUFBQUQsRUFBQWQsWUFBQTJCLEtBQUEsWUFBQSxTQUFBQyxFQUFBQyxHQUNBLE1BQUFBLEdBQUFDLFFBQUFGLEdBQUEsS0FDQSxTQUFBRCxHQUNBLE9BQUEsU0FBQUEsRUFBQUEsS0FBQSxJQUFBLElBQUFBLEVBQUFJLGFBSUFoQixFQUFBLE9BQUFBLEVBQUEsVUFBQUQsRUFBQWQsWUFBQTJCLEtBQUEsWUFBQSxTQUFBQyxFQUFBQyxHQUNBLE1BQUFBLEdBQUFDLFFBQUFGLEdBQUEsS0FDQSxTQUFBTSxHQUNBQSxFQUFBUCxLQUFBLFdBSUFaLEVBQUEsT0FBQVcsRUFBQSxTQUFBa0QsR0FDQSxHQUFBakQsR0FBQSxLQUFBaUQsRUFBQTlDLFFBQUEsS0FBQSxNQUFBLE1BQ0E4QyxHQUFBQSxFQUFBaEYsUUFBQSxJQUFBLElBQ0FtQixFQUFBLFVBQUFELEVBQUFkLFlBQUErQixVQUFBNkMsSUFBQSxHQUFBLEdBQUFqRCxLQUFBQSxPQVFBYixFQUFBd0QsSUFBQSxxQkFBQXhELEVBQUFoQixLQUFBLFNBQUF5RSxFQUFBQyxHQUNBMUQsRUFBQVYsT0FBQTJELFNBQUFTLEdBQ0FYLE1BSUEvQyxFQUFBd0QsSUFBQSxpQkFBQXhELEVBQUFoQixLQUFBLFNBQUF5RSxFQUFBQyxHQUNBSyxFQUFBTCxJQUtBLElBQUFMLEdBQUEsU0FBQVcsRUFBQWQsR0FJQSxNQUhBbEQsR0FBQXFELGNBR0EsSUFBQVcsR0FDQWhFLEVBQUFxRCxZQUFBLE1BQ0FyRCxHQUFBK0IsTUFBQSxxQkFDQWtDLE1BQUEzRCxFQUFBZ0QsT0FDQVQsU0FBQSxFQUNBcUIsWUFBQSxFQUNBQyxVQUFBLEVBQ0FDLFdBQUFwRSxFQUFBVixPQUNBNEQsWUFBQSxFQUNBbUIsY0FBQSxNQU1BLEVBQUFMLEVBQ0FoRSxFQUFBcUQsWUFBQSxHQUdBLEVBQUFXLEVBQ0FoRSxFQUFBcUQsWUFBQSxFQUFBLEdBR0EsRUFBQVcsRUFDQWhFLEVBQUFxRCxZQUFBLEVBQUEsRUFBQSxHQUdBLEVBQUFXLEVBQ0FoRSxFQUFBcUQsWUFBQSxFQUFBLEVBQUEsRUFBQSxHQUdBLEVBQUFILEVBQ0FsRCxFQUFBcUQsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0FXLEVBQUFkLEVBQUEsRUFDQWxELEVBQUFxRCxZQUFBSCxFQUFBLEVBQUFBLEVBQUFBLEVBQUEsR0FHQWMsSUFBQWQsRUFBQSxFQUNBbEQsRUFBQXFELFlBQUFILEVBQUEsRUFBQUEsRUFBQSxFQUFBQSxHQUdBYyxFQUFBLEVBQUFkLElBQ0FsRCxFQUFBcUQsWUFBQUgsRUFBQSxFQUFBQSxFQUFBQSxFQUFBLEVBQUFBLEVBQUEsUUFHQWxELEdBQUErQixNQUFBLHFCQUNBa0MsTUFBQTNELEVBQUFnRCxPQUNBVCxTQUFBdEMsRUFBQStDLE9BQ0FZLFlBQUFsRSxFQUFBa0QsWUFBQWxELEVBQUFWLFFBQUFVLEVBQUFrRCxZQUFBLEVBQUEsRUFBQSxHQUNBaUIsVUFBQW5FLEVBQUFrRCxZQUFBbEQsRUFBQVYsT0FBQVUsRUFBQW9ELGNBQUFFLE9BQ0FjLFdBQUFwRSxFQUFBVixPQUNBNEQsWUFBQWxELEVBQUFrRCxZQUNBbUIsY0FBQXJFLEVBQUFnRCxNQUFBTSxVQUlBdEQsR0FBQXNFLFNBQUEsV0FDQSxJQUNBdEUsRUFBQWtELGNBQ0FsRCxFQUFBb0QsY0FBQXBELEVBQUFnRCxNQUFBaEQsRUFBQWtELGFBQ0FHLEVBQUFyRCxFQUFBZ0QsTUFBQU0sT0FBQXRELEVBQUFrRCxhQUNBbEQsRUFBQStCLE1BQUEsdUJBQUEvQixFQUFBaEIsTUFDQWdCLEVBQUF1RCxXQUFBLHVCQUNBLE1BQUEvQixHQUNBQyxRQUFBQyxJQUFBRixLQUtBeEIsRUFBQXVFLGFBQUEsV0FDQSxJQUNBdkUsRUFBQWtELGNBQ0FsRCxFQUFBb0QsY0FBQXBELEVBQUFnRCxNQUFBaEQsRUFBQWtELGFBQ0FHLEVBQUFyRCxFQUFBZ0QsTUFBQU0sT0FBQXRELEVBQUFrRCxhQUNBbEQsRUFBQStCLE1BQUEsdUJBQUEvQixFQUFBaEIsTUFDQWdCLEVBQUF1RCxXQUFBLHVCQUNBLE1BQUEvQixHQUNBQyxRQUFBQyxJQUFBRixLQUdBeEIsRUFBQXdFLFFBQUEsU0FBQUMsR0FDQSxJQUNBekUsRUFBQWtELFlBQUF1QixFQUNBekUsRUFBQW9ELGNBQUFwRCxFQUFBZ0QsTUFBQWhELEVBQUFrRCxhQUNBRyxFQUFBckQsRUFBQWdELE1BQUFNLE9BQUF0RCxFQUFBa0QsYUFDQWxELEVBQUErQixNQUFBLHVCQUFBL0IsRUFBQWhCLE1BQ0FnQixFQUFBdUQsV0FBQSx1QkFDQSxNQUFBL0IsR0FDQUMsUUFBQUMsSUFBQUYsS0FLQXhCLEVBQUFhLEtBQUEsU0FBQTZELEVBQUFqQyxHQUNBLEdBQUFrQyxHQUFBRCxFQUFBQyxTQUFBRCxFQUFBRSxPQUdBLEtBQUFELEdBQUFsQyxFQUNBLElBQUEsR0FBQW9DLEdBQUEsRUFBQTdFLEVBQUFkLFdBQUFvRSxPQUFBdUIsRUFBQUEsSUFBQSxDQUNBLEdBQUF6RCxHQUFBcEIsRUFBQWQsV0FBQTJGLElBQ0F6RCxFQUFBSCxZQUFBd0IsR0FBQSxRQUFBckIsRUFBQVAsTUFBQU8sRUFBQUgsWUFBQXdCLEdBQUEsU0FBQXJCLEVBQUFQLFFBQ0FiLEVBQUFkLFdBQUEyRixHQUFBaEUsS0FBQSxVQUtBLEdBQUE0QixFQUNBLElBQUEsR0FBQW9DLEdBQUEsRUFBQTdFLEVBQUFkLFdBQUFvRSxPQUFBdUIsRUFBQUEsSUFBQSxDQUNBLEdBQUF6RCxHQUFBcEIsRUFBQWQsV0FBQTJGLEVBQ0EsSUFBQXpELEVBQUFILFlBQUF3QixFQUFBLENBQ0EsR0FBQTVCLEdBQUFPLEVBQUFQLElBQ0EsUUFBQUEsR0FDQSxJQUFBLFVBRUEsS0FDQSxLQUFBLFNBQ0FiLEVBQUFkLFdBQUEyRixHQUFBaEUsS0FBQSxLQUNBLE1BQ0EsS0FBQSxNQUNBYixFQUFBZCxXQUFBMkYsR0FBQWhFLEtBQUEsTUFDQSxNQUNBLEtBQUEsT0FDQWIsRUFBQWQsV0FBQTJGLEdBQUFoRSxLQUFBLFdBUUFELEVBQUFYLEVBQUEsT0FBQUEsRUFBQSxVQUFBRCxFQUFBZCxZQUFBMkIsS0FBQSxZQUFBLFNBQUFDLEVBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsUUFBQUYsR0FBQSxLQUNBLFNBQUFELEdBQ0EsT0FBQSxTQUFBQSxFQUFBQSxLQUFBLElBQUEsSUFBQUEsRUFBQUksWUFHQTZCLEtBSUE5QyxFQUFBWCxRQUNBc0MsRUFBQTNCLEVBQUFYLE9BSUEsSUFBQTBFLEdBQUEsU0FBQWUsR0FDQUEsRUFBQSxtQkFBQUEsTUFBQUEsQ0FNQSxLQUFBLEdBSkFDLEdBQUEsbUJBQUFELEdBQUFDLFNBQUEsU0FBQUQsRUFBQUMsU0FHQUMsRUFBQUMsS0FBQUMsTUFBQTVHLFFBQUE2RyxPQUFBM0UsRUFBQXNCLE1BQUEsS0FDQStDLEVBQUEsRUFBQUEsRUFBQUcsRUFBQTFCLE9BQUF1QixJQUFBLENBQ0EsR0FBQXRDLEdBQUF5QyxFQUFBSCxFQUNBLEtBQUEsR0FBQU8sS0FBQTdDLEdBQ0EsR0FBQUEsRUFBQThDLGVBQUFELEdBQUEsQ0FDQSxHQUFBRSxHQUFBckYsRUFBQSxVQUFBRCxFQUFBYixVQUFBOEIsVUFBQW1FLElBQUEsR0FBQSxHQUNBRyxFQUFBdEYsRUFBQSxVQUFBRCxFQUFBZCxZQUFBK0IsVUFBQW1FLElBQUEsR0FBQSxHQUVBSSxFQUFBRixFQUFBQSxTQUdBLElBQUFFLEdBQUFsSCxRQUFBcUUsV0FBQTZDLEdBQUEsQ0FFQSxHQUFBQyxHQUFBRCxFQUFBakQsRUFBQTZDLEVBQ0E3QyxHQUFBNkMsR0FBQUUsRUFBQUksc0JBQUEsRUFBQUQsRUFBQXhGLEVBQUEsbUJBQUF3RixPQUVBbEQsR0FBQTZDLEdBQUFFLEVBQUFJLHNCQUFBLEVBQUFuRCxFQUFBNkMsR0FBQW5GLEVBQUEsbUJBQUFzQyxFQUFBNkMsR0FJQSxvQkFBQU4sR0FBQWEsY0FFQSxLQUFBYixFQUFBYSxjQUFBM0UsUUFBQXVFLEVBQUF0RSxhQUNBc0IsRUFBQTZDLEdBQUEsTUFJQSxtQkFBQUcsR0FBQUEsV0FBQUEsRUFBQUEsYUFBQSxJQUVBaEQsRUFBQTZDLEdBQUEsT0FPQSxHQUFBakQsR0FBQTZDLENBR0EsSUFBQSxtQkFBQUYsR0FBQWEsY0FHQSxHQUFBQyxHQUFBM0YsRUFBQSxPQUFBNkUsRUFBQWEsY0FBQSxTQUFBMUUsR0FDQSxNQUFBaEIsR0FBQSxVQUFBRCxFQUFBYixTQUFBMkMsTUFBQSxJQUFBYixVQUFBQSxJQUFBLEdBQUEsU0FLQSxJQUFBMkUsR0FBQTNGLEVBQUEsV0FBQUEsRUFBQSxjQUFBRCxFQUFBYixVQUFBb0MsYUFBQSxJQUFBLGNBR0EsSUFBQXNFLElBQ0FDLFNBQUEsbUJBQUFoQixHQUFBZ0IsU0FBQSxJQUFBaEIsRUFBQWdCLFNBQ0FDLE9BQUE5RixFQUFBLE9BQUEyRixFQUFBLFFBQ0FJLFNBQUEsbUJBQUFsQixHQUFBa0IsU0FBQSxJQUFBbEIsRUFBQWtCLFNBQ0ExRSxZQUFBckIsRUFBQSxPQUFBMkYsRUFBQSxhQUNBSyxXQUFBLG1CQUFBbkIsR0FBQW1CLFdBQUEsSUFBQW5CLEVBQUFtQixXQUNBQyxtQkFBQSxtQkFBQXBCLEdBQUFxQixPQUNBQyxRQUFBLG1CQUFBdEIsR0FBQXNCLFFBQUEsUUFBQXRCLEVBQUFzQixRQUNBQyxhQUFBLG1CQUFBdkIsR0FBQXVCLGNBQUEsRUFBQXZCLEVBQUF1QixhQUdBbEcsR0FBQW1HLFVBQUFuRSxFQUFBMEQsR0FBQVUsS0FBQSxTQUFBQyxHQUVBLEdBQUFDLEVBRUEsSUFBQUMsT0FBQUMsVUFBQUMsaUJBQ0FILEVBQUEsR0FBQUksT0FBQUwsSUFDQU0sS0FBQSw0QkFFQUgsVUFBQUksV0FBQU4sRUFBQSxrQkFLQSxJQUFBLGdDQUFBQyxPQUFBQyxVQUFBSyxRQUFBLENBQ0FOLE9BQUFPLE1BQUEscUlBQ0EsSUFBQUMsR0FBQTVJLFFBQUFzQixRQUFBLG9CQUNBc0gsR0FBQSxHQUFBQyxNQUFBQyxRQUFBLE1BQ0EsSUFBQXhILEdBQUF0QixRQUFBc0IsUUFBQSxPQUNBQSxHQUFBeUgsT0FBQUgsRUFDQSxJQUFBSSxHQUFBLElBQ0FKLEdBQUEsR0FBQUssZ0JBQ0FELEVBQUFKLEVBQUEsR0FBQUssZ0JBQ0FMLEVBQUEsR0FBQU0sZ0JBQ0FGLEVBQUFKLEVBQUEsR0FBQU0sY0FBQUMsVUFFQUgsRUFBQUksS0FBQSxhQUFBLFdBQ0FKLEVBQUFLLE9BQUFuQixJQUNBYyxFQUFBTSxRQUVBTixFQUFBTyxZQUFBLFVBQUEsRUFBQTlDLEVBQUEsWUFDQSxDQUNBMEIsRUFBQSxHQUFBSSxPQUFBTCxJQUNBTSxLQUFBLDJCQUVBLElBQUFnQixHQUFBeEosUUFBQXNCLFFBQUEsVUFDQWtJLEdBQUFDLEtBQUEsT0FBQXJCLE9BQUFzQixJQUFBQyxnQkFBQXhCLElBQ0FxQixFQUFBQyxLQUFBLFdBQUFoRCxFQUFBLFFBR0EzRSxFQUFBOEgsS0FBQSxRQUFBYixPQUFBUyxHQUNBNUgsRUFBQSxXQUdBNEgsRUFBQSxHQUFBSyxRQUNBTCxFQUFBTSxVQUNBLGFBT0F4SixVQUFBLFNBQUEsV0FBQSxTQUFBeUosR0FDQSxPQUNBeEosU0FBQSxJQUNBRSxPQUFBLEVBQ0FZLEtBQUEsU0FBQVosRUFBQWEsRUFBQUMsRUFBQUMsR0FDQWYsRUFBQXVKLFVBQUEsU0FBQUMsRUFBQUMsRUFBQWpHLEVBQUE2QyxHQUNBLEdBQUFyRyxFQUFBd0QsSUFBQWtHLE9BS0E3SSxFQUFBOEksT0FBQU4sU0FDQXJKLEVBQUF3RCxJQUFBa0csUUFBQSxNQU5BLENBQ0EsR0FBQWxHLEdBQUE4RixFQUFBLHlDQUFBRyxFQUFBLEtBQUFELEVBQUEsY0FBQXhKLEVBQ0FhLEdBQUErSSxNQUFBcEcsR0FDQXhELEVBQUF3RCxJQUFBa0csUUFBQSxFQUtBMUosRUFBQXdFLFdBQUEsNkJBSUEzRSxVQUFBLFVBQUEsV0FDQSxPQUNBQyxTQUFBLElBQ0FjLEtBQUEsU0FBQVosRUFBQWEsRUFBQUMsRUFBQUMsR0FDQWYsRUFBQTZKLE9BQ0E3SixFQUFBZ0QsTUFBQSx3QkFBQWhELEVBQUFDLFVBS0FKLFVBQUEsWUFBQSxXQUFBLFNBQUF5SixHQUNBLE9BQ0F4SixTQUFBLElBQ0FFLE9BQ0F3RCxJQUFBLFdBQ0FxQixTQUFBLGlCQUNBaUYsUUFBQSxjQUVBbEosS0FBQSxTQUFBWixFQUFBYSxFQUFBQyxFQUFBQyxHQUNBLEdBRUFnSixHQUZBdkcsRUFBQXhELEVBQUF3RCxJQUNBNkMsRUFBQXJHLEVBQUE2RSxTQUFBM0MsVUFHQThILEVBQUFoSyxFQUFBNkUsU0FBQW9GLE1BTUEsSUFKQUYsRUFEQUMsR0FBQXpLLFFBQUFxRSxXQUFBb0csR0FDQUEsRUFBQXhHLEVBQUE2QyxHQUVBN0MsRUFBQTZDLEdBRUFyRyxFQUFBOEosU0FBQTlKLEVBQUE4SixXQUFBLEVBQUEsQ0FFQSxHQUFBSSxHQUFBbEssRUFBQThKLFdBQUEsR0FBQTlKLEVBQUE4SixRQUFBSyxPQUFBbkssRUFBQThKLFFBQUE5SixFQUFBb0ssT0FDQUwsR0FBQVQsRUFBQVMsR0FBQUcsR0FDQXJKLEVBQUF5SCxPQUFBeUIsT0FFQWxKLEdBQUEsR0FBQXdKLFVBQUFOLE9BSUFPLE9BQUEsZUFBQSxVQUFBLFNBQUFwSixHQUNBLE1BQUEsVUFBQTJELEVBQUF3QixFQUFBM0MsR0FFQSxJQUNBLEdBQUFxRyxHQUFBN0ksRUFBQSxVQUFBMkQsR0FBQTNDLFVBQUFtRSxJQUFBLEdBQUEsR0FBQTNDLEdBQ0EsTUFBQWpCLEdBQ0FDLFFBQUFDLElBQUEsMEJBQUFlLEVBQUEsc0JBQUEyQyxFQUFBLGlCQUFBNUQsR0FFQSxNQUFBc0gsT0FFQU8sT0FBQSxhQUFBLFVBQUEsZUFBQSxTQUFBcEosRUFBQXFKLEdBQ0EsTUFBQSxVQUFBQyxFQUFBNUYsRUFBQWhELEVBQUE2SSxHQUdBLElBQUEsR0FEQXBILE1BQ0FxSCxFQUFBLEVBQUFBLEVBQUFELEVBQUFsRyxPQUFBbUcsSUFBQSxDQUVBLEdBQUFuRSxHQUFBa0UsRUFBQUMsRUFDQSxJQUFBbkUsRUFBQWxELFFBQUE5RCxRQUFBcUUsV0FBQTJDLEVBQUFsRCxRQUFBLENBQ0EsR0FBQW5CLEdBQUFxRSxFQUFBckUsU0FDQW1CLEdBQUFuQixHQUFBcUUsRUFBQWxELFFBSUEsSUFBQXpCLEdBQUEsSUFBQUEsRUFBQTdCLFFBQUEsS0FBQSxJQUFBd0UsT0FDQSxNQUFBaUcsRUFFQSxJQUFBRyxLQUNBL0ksR0FBQSxtQkFBQUEsR0FBQSxHQUFBQSxDQUdBLEtBQUEsR0FGQWdKLEdBQUFoSixFQUFBaUosY0FBQUMsTUFBQSxrQkFFQWhGLEVBQUEsRUFBQUEsRUFBQTBFLEVBQUFqRyxPQUFBdUIsSUFBQSxDQUNBLEdBQUF0QyxHQUFBZ0gsRUFBQTFFLEdBQ0FpRixFQUFBLEdBQ0FDLEVBQUEsQ0FDQTlKLEdBQUEsT0FBQTBELEVBQUEsU0FBQXRDLEdBQ0EsR0FBQTJJLEdBQUEsSUFBQUQsRUFBQSxHQUFBLEtBQ0FELElBQUExSCxFQUFBZixHQUFBMkksRUFBQTVILEVBQUFmLEdBQUFrQixFQUFBbEIsR0FBQTJJLEVBQUF6SCxFQUFBbEIsR0FDQTBJLE1BRUFELEVBQUFBLEVBQUFGLGFBRUEsS0FBQSxHQURBQyxJQUFBLEVBQ0FKLEVBQUEsRUFBQUEsRUFBQUUsRUFBQXJHLE9BQUFtRyxJQUFBLENBQ0EsR0FBQVEsR0FBQU4sRUFBQUYsR0FBQTNLLFFBQUEsS0FBQSxHQUdBLElBRkErSyxFQUFBLEtBQUFDLEVBQUE5SSxRQUFBaUosSUFFQUosRUFDQSxNQU1BQSxHQUVBSCxFQUFBUSxLQUFBM0gsR0FHQSxNQUFBbUgsT0FFQUwsT0FBQSxjQUFBLFdBQ0EsTUFBQSxVQUFBUyxHQUFBLElBQ0EsTUFBQUEsR0FBQWhMLFFBQUEsa0JBQUEsU0FBQThLLGNBQUEsTUFBQXBJLEdBQUFDLFFBQUFDLElBQUEsc0JBQUFGLE9BRUE2SCxPQUFBLFNBQUEsV0FDQSxNQUFBLFVBQUFFLEVBQUFZLEdBQ0EsUUFBQUMsR0FBQTNILEdBQ0EsR0FBQTRILEdBQUEsQ0FLQSxPQUpBLE1BQUE1SCxFQUFBLEtBQ0E0SCxFQUFBLEdBQ0E1SCxFQUFBQSxFQUFBNkgsT0FBQSxJQUVBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWhFLEdBQUErRCxFQUFBOUgsR0FBQStILEVBQUEvSCxHQUFBLEdBQUE4SCxFQUFBOUgsR0FBQStILEVBQUEvSCxHQUFBLEVBQUEsQ0FDQSxPQUFBK0QsR0FBQTZELEdBR0EsUUFBQUksR0FBQU4sR0FNQSxHQUFBTyxHQUFBUCxDQUNBLE9BQUEsVUFBQVEsRUFBQUMsR0FLQSxJQUpBLEdBQUEvRixHQUFBLEVBQUEyQixFQUFBLEVBQUFxRSxFQUFBSCxFQUFBcEgsT0FJQSxJQUFBa0QsR0FBQXFFLEVBQUFoRyxHQUNBMkIsRUFBQTRELEVBQUFNLEVBQUE3RixJQUFBOEYsRUFBQUMsR0FDQS9GLEdBRUEsT0FBQTJCLElBR0EsTUFBQStDLEdBQUExSSxLQUFBNEosRUFBQU4sT0FFQWQsT0FBQSxrQkFBQSxXQUNBLE1BQUEsVUFBQXlCLEdBQ0EsTUFBQSxvQkFBQUMsS0FBQUQsR0FBQSxJQUFBQSxFQUFBQSIsImZpbGUiOiJhbmd1bGFyLWdlbmVyaWMtdGFibGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgYW5ndWxhci5nZW5lcmljLnRhYmxlLmRpcmVjdGl2ZTpnZW5lcmljVGFibGVcclxuICogQHJlcXVpcmVzIC8vICdwcm92aWRlIGFueSBkZXBlbmRlbmNpZXMgZXguICRzY29wZSwgeW91IGNhbiBoYXZlIG11bHRpcGxlIEByZXF1aXJlcyBsaW5lcydcclxuICpcclxuICogQHJlc3RyaWN0IEVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERlc2NyaXB0aW9uIG9mIGdlbmVyaWNUYWJsZSBkaXJlY3RpdmUsIGxvcmVtIGlwc3VtIGRvbGFyIHNpdCBhbWV0XHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gZGF0YS1hdHRyaWJ1dGUgLy8gJ2F0dHJpYnV0ZXMgdXNlZCBieSBkaXJlY3RpdmUsIHlvdSBjYW4gaGF2ZSBtdWx0aXBsZSBAcGFyYW0gbGluZXMnXHJcbiAqXHJcbiAqICBAZXhhbXBsZSA8cHJlPlxyXG4gKlxyXG4gKiA8Z2VuZXJpYy10YWJsZSBkYXRhLWF0dHJpYnV0ZT1cIm15LXZhbHVlXCI+PC9nZW5lcmljLXRhYmxlPlxyXG4gKlxyXG4gKiA8L3ByZT5cclxuICovXHJcbmFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyLmdlbmVyaWMudGFibGUnKS5kaXJlY3RpdmUoJ2dlbmVyaWNUYWJsZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgZ3RJZDonPWd0SWQnLFxyXG4gICAgICAgICAgICBndENsYXNzZXM6J0BndENsYXNzZXMnLFxyXG4gICAgICAgICAgICBndFNldHRpbmdzOic9Z3RTZXR0aW5ncycsXHJcbiAgICAgICAgICAgIGd0RmllbGRzOic9Z3RGaWVsZHMnLFxyXG4gICAgICAgICAgICBndFRvdGFsczonPWd0VG90YWxzJyxcclxuICAgICAgICAgICAgLy9ndEluZGV4Oic9Z3RJbmRleCcsXHJcbiAgICAgICAgICAgIGd0RGF0YTonPWd0RGF0YScsXHJcbiAgICAgICAgICAgIGd0Um93czonQGd0Um93cycsXHJcbiAgICAgICAgICAgIGd0Um93VHJhbnNpdGlvbjonQGd0Um93VHJhbnNpdGlvbicsXHJcbiAgICAgICAgICAgIGd0UGFnaW5hdGlvbjonQGd0UGFnaW5hdGlvbicsXHJcbiAgICAgICAgICAgIGd0Tm9EYXRhVHh0OidAJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdnZW5lcmljLXRhYmxlL2RpcmVjdGl2ZS9nZW5lcmljLXRhYmxlL2dlbmVyaWMtdGFibGUuaHRtbCcsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBmbikge1xyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6XCJnZW5lcmljVGFibGVDb250cm9sbGVyXCJcclxuICAgIH07XHJcbn0pLmNvbnRyb2xsZXIoJ2dlbmVyaWNUYWJsZUNvbnRyb2xsZXInLGZ1bmN0aW9uKCRzY29wZSwkZmlsdGVyLCR0aW1lb3V0LCBDU1YsJGRvY3VtZW50KXtcclxuICAgIHZhciBvcmlnaW5hbERhdGE7IC8vIG9yaWdpbmFsIHVudG91Y2hlZCBkYXRhXHJcbiAgICB2YXIgbWFwcGVkRGF0YTsgLy8gbWFwcGVkIGRhdGEsIGFycmF5IGNvbnRhaW5pbmcgbWFwcGVkIGtleXMgdXNlZCBieSB0YWJsZVxyXG4gICAgdmFyIGZpbHRlcmVkRGF0YTsgLy8gZmlsdGVyZWQgbWFwcGVkIGRhdGFcclxuICAgIHZhciBzb3J0ZWREYXRhOyAvLyBzb3J0ZWQgbWFwcGVkIGRhdGFcclxuICAgIHZhciBzZWFyY2hDb2x1bW5zOyAvLyBjb2x1bW5zIHRvIHNlYXJjaFxyXG4gICAgdmFyIHRhYmxlRmlsdGVyczsgLy8gZmlsdGVycyBhcHBsaWVkIHRvIHRoZSB0YWJsZSBpbnRlcm5hbGx5XHJcbiAgICB2YXIgc2VhcmNoVGVybXM7IC8vIHNlYXJjaCB0ZXJtcyB1c2VkIGZvciBzZWFyY2hpbmcgdGFibGVcclxuXHJcbiAgICB2YXIgc29ydGluZyA9IHR5cGVvZiAkc2NvcGUuZ3RTZXR0aW5ncyA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZTokZmlsdGVyKCdtYXAnKSgkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RTZXR0aW5ncyx7c29ydDpcImFzYyBkZXNjXCJ9LGZ1bmN0aW9uKGV4cGVjdGVkLCBhY3R1YWwpe1xyXG4gICAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgPiAtMTtcclxuICAgIH0pLGZ1bmN0aW9uKHNvcnQpe1xyXG4gICAgICAgIHJldHVybiAoc29ydC5zb3J0ID09PSAnZGVzYycgPyAnLSc6JycpICsgc29ydC5vYmplY3RLZXlcclxuICAgIH0pOyAvLyByZXR1cm5zIGFycmF5IGNvbnRhaW5pbmcgc29ydGluZyBjcml0ZXJpYVxyXG4gICAgJHNjb3BlLmd0UGFnaW5hdGlvbiA9IHR5cGVvZiAkc2NvcGUuZ3RQYWdpbmF0aW9uID09PSAndW5kZWZpbmVkJyA/IHRydWU6JHNjb3BlLmd0UGFnaW5hdGlvbiAhPT0gJ2ZhbHNlJztcclxuICAgICRzY29wZS5ndFJvd3MgPSB0eXBlb2YgJHNjb3BlLmd0Um93cyA9PT0gJ3VuZGVmaW5lZCcgPyAyMDokc2NvcGUuZ3RSb3dzO1xyXG4gICAgJHNjb3BlLmd0Tm9EYXRhVHh0ID0gdHlwZW9mICRzY29wZS5ndE5vRGF0YVR4dCA9PT0gJ3VuZGVmaW5lZCcgPyAnTm8gdGFibGUgZGF0YSB0byBkaXNwbGF5Jzokc2NvcGUuZ3ROb0RhdGFUeHQ7XHJcbiAgICAkc2NvcGUuZ3RJZCA9IHR5cGVvZiAkc2NvcGUuZ3RJZCA9PT0gJ3VuZGVmaW5lZCcgPyAkc2NvcGUuJGlkOiRzY29wZS5ndElkO1xyXG5cclxuICAgIC8vIGV4dGVuZCBmaWVsZCBkZWZpbml0aW9uc1xyXG4gICAgdmFyIGV4dGVuZEZpZWxkRGVmaW5pdGlvbnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkZmlsdGVyKCdtYXAnKSgkc2NvcGUuZ3RTZXR0aW5ncyxmdW5jdGlvbihzZXR0aW5nKXtcclxuICAgICAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0RmllbGRzLHtvYmplY3RLZXk6c2V0dGluZy5vYmplY3RLZXl9LHRydWUpWzBdO1xyXG4gICAgICAgICAgICAgICAgZmllbGQuY29sdW1uT3JkZXIgPSBzZXR0aW5nLmNvbHVtbk9yZGVyOyAvLyBhZGQgY29sdW1uIG9yZGVyXHJcbiAgICAgICAgICAgICAgICBpZihzZXR0aW5nLmV4cG9ydCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5leHBvcnRGaWVsZCA9IGZhbHNlOyAvLyBhZGQgZXhwb3J0IGZpZWxkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaWVsZCBkZWZpbml0aW9uIG9iamVjdCBmb3IgcHJvcGVydHk6IFwiJysgc2V0dGluZy5vYmplY3RLZXkgKydcIiBub3QgZm91bmQuJyxlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgZXh0ZW5kRmllbGREZWZpbml0aW9ucygpO1xyXG5cclxuICAgIHZhciBpbml0VGFibGUgPSBmdW5jdGlvbihpbml0RGF0YSl7XHJcbiAgICAgICAgJHNjb3BlLmd0SGFzRGF0YSA9IGZhbHNlO1xyXG4gICAgICAgIG9yaWdpbmFsRGF0YSA9IGluaXREYXRhLnNsaWNlKDApO1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnZ3Qtc3RhcnRlZC1kYXRhLXByb2Nlc3NpbmcnLCRzY29wZS5ndElkKTtcclxuICAgICAgICBtYXBLZXlzKGluaXREYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gY2hhbmdlIGRhdGEsIHRoaXMgd2UgdXBkYXRlIG9yIGRhdGEgc2V0XHJcbiAgICB2YXIgY2hhbmdlRGF0YSA9IGZ1bmN0aW9uKG5ld0RhdGEpe1xyXG4gICAgICAgICRzY29wZS5ndEhhc0RhdGEgPSBmYWxzZTtcclxuICAgICAgICBvcmlnaW5hbERhdGEgPSBuZXdEYXRhLnNsaWNlKDApO1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnZ3Qtc3RhcnRlZC1kYXRhLXByb2Nlc3NpbmcnLCRzY29wZS5ndElkKTtcclxuICAgICAgICBtYXBLZXlzKG5ld0RhdGEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBtYXBwaW5nLCB0aGlzIGlzIHdoZXJlIHdlIG1hcCB3aGljaCBrZXlzIHNob3VsZCBiZSBwYXJ0IG9mIHRoZSB0YWJsZSBhcnJheSByb3cgb2JqZWN0XHJcbiAgICB2YXIgbWFwS2V5cyA9IGZ1bmN0aW9uIChkYXRhKXtcclxuXHJcbiAgICAgICAgLy8gZGVmaW5lIHdoaWNoIGZpZWxkcyBzaG91bGQgYmUgc2VhcmNoYWJsZVxyXG4gICAgICAgIHNlYXJjaENvbHVtbnMgPSAkZmlsdGVyKCdtYXAnKSgkZmlsdGVyKCdyZW1vdmVXaXRoJykoJHNjb3BlLmd0RmllbGRzLnNsaWNlKDApLHtzZWFyY2g6ZmFsc2V9KSwnb2JqZWN0S2V5Jyk7XHJcblxyXG4gICAgICAgIC8vIGdldCBrZXkgbmFtZXMgZnJvbSBzZXR0aW5nc1xyXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gJGZpbHRlcignbWFwJykoJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3MsIHtlbmFibGVkOnRydWV9LHRydWUpLCdvYmplY3RLZXknKTtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIG5ldyBhcnJheSB3aXRoIG1hcHBlZCBkYXRhXHJcbiAgICAgICAgbWFwcGVkRGF0YSA9ICRmaWx0ZXIoJ21hcCcpKGRhdGEsIGZ1bmN0aW9uKHJvdyl7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7fTsgLy8gY3JlYXRlIG5ldyByb3cgb2JqZWN0XHJcblxyXG4gICAgICAgICAgICAvLyByZXRyaWV2ZSBvYmplY3QgdmFsdWVzIGZyb20gcm93IGFuZCBhZGQgdGhlbSB0byB0aGUgY29ycmVzcG9uZGluZyBrZXkgZGVmaW5lZCBieSB0aGUgdGFibGUgZmllbGRzXHJcbiAgICAgICAgICAgICRmaWx0ZXIoJ21hcCcpKHByb3BlcnRpZXMsZnVuY3Rpb24ocHJvcGVydHkpe1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgcHJvcGVydHkgZXhpc3RzIGluIGRhdGEgb2JqZWN0Li4uXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2Ygcm93W3Byb3BlcnR5XSAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBjb2x1bW4gdmFsdWUgZnJvbSBkYXRhIHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BlcnR5XT1yb3dbcHJvcGVydHldXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3Byb3BlcnR5OiBcIicgKyBwcm9wZXJ0eSAgKyAnXCIgZG9lcyBub3QgZXhpc3QgaW4gZGF0YSBvYmplY3QsIGF0dGVtcHRpbmcgdG8gdXNlIHZhbHVlIGZ1bmN0aW9uIGluc3RlYWQgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGVydHkgZG9lcyBub3QgZXhpc3RzIGluIGRhdGEsIHVzZSB2YWx1ZSBmdW5jdGlvbiB0byBnZXQgdmFsdWUgZm9yIGNvbHVtblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZUZ1bmN0aW9uID0gJGZpbHRlcignbWFwJykoJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0RmllbGRzLCB7b2JqZWN0S2V5OnByb3BlcnR5fSx0cnVlKSwndmFsdWUnKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZUZ1bmN0aW9uICYmIGFuZ3VsYXIuaXNGdW5jdGlvbih2YWx1ZUZ1bmN0aW9uKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSBjdXN0b20gdmFsdWUgZnVuY3Rpb24gdG8gcmV0cmlldmUgdmFsdWUgZm9yIGNvbHVtblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd1c2luZyB2YWx1ZSBmdW5jdGlvbiB0byBnZXQgZGF0YSBmb3Igcm93IGNvbHVtbiAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BlcnR5XSA9IHZhbHVlRnVuY3Rpb24ocm93KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncHJvcGVydHk6IFwiJyArIHByb3BlcnR5ICArICdcIiBkb2VzIG5vdCBleGlzdHMgaW4gZGF0YSBvYmplY3QgYW5kIG5vIHZhbHVlIGZ1bmN0aW9uIHdhcyBkZWNsYXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGFwcGx5RmlsdGVyKG1hcHBlZERhdGEpXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGludGVybmFsIGZpbHRlciwgdGhpcyBpcyB3aGVyZSB3ZSBhcHBseSBmaWx0ZXJzXHJcbiAgICB2YXIgYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbiAoZGF0YSwgc2VhcmNoKSB7XHJcblxyXG4gICAgICAgIC8vIGFwcGx5IHRhYmxlIGZpbHRlcnNcclxuICAgICAgICB2YXIgZmlsdGVyZWQgPSAkZmlsdGVyKCdmaWx0ZXInKShkYXRhLnNsaWNlKDApLHRhYmxlRmlsdGVycyxmdW5jdGlvbihleHBlY3RlZCwgYWN0dWFsKXtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSA+IC0xO1xyXG4gICAgICAgIH0sdHJ1ZSkuc2xpY2UoMCk7XHJcblxyXG4gICAgICAgIC8vIHJldHVybiByb3dzIHdoZXJlIGNvbHVtbnMgbWF0Y2ggZW50ZXJlZCBzZWFyY2ggdGVybXNcclxuICAgICAgICBmaWx0ZXJlZERhdGEgPSAkZmlsdGVyKCdzZWFyY2hSb3cnKShmaWx0ZXJlZCxzZWFyY2hDb2x1bW5zLCBzZWFyY2gsICRzY29wZS5ndEZpZWxkcyk7XHJcbiAgICAgICAgYXBwbHlTb3J0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNvcnQsIHRoaXMgaXMgd2hlcmUgd2Ugc29ydCB0aGUgZmlsdGVyZWQgcmVzdWx0c1xyXG4gICAgdmFyIGFwcGx5U29ydCA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgIHNvcnRlZERhdGEgPSBzb3J0aW5nICE9PSBmYWxzZSA/ICRmaWx0ZXIoJ2d0U29ydCcpKGZpbHRlcmVkRGF0YSwgc29ydGluZyk6IGZpbHRlcmVkRGF0YTtcclxuICAgICAgICBhcHBseVBhZ2luYXRpb24oKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gcGFnaW5hdGlvbiwgdGhpcyBpcyB3aGVyZSB3ZSBkZWNpZGUgd2hpY2ggc3Vic2V0IG9mIHRoZSBkYXRhIHRvIHNob3dcclxuICAgIHZhciBhcHBseVBhZ2luYXRpb24gPSBmdW5jdGlvbiAoKXtcclxuICAgICAgICAkc2NvcGUucGFnZXMgPSAkZmlsdGVyKCdjaHVua0J5Jykoc29ydGVkRGF0YSwgcGFyc2VJbnQoJHNjb3BlLmd0Um93cykpO1xyXG4gICAgICAgICRzY29wZS5jdXJyZW50UGFnZSA9IDA7XHJcbiAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnZ3Qtc3RhcnRlZC1yZW5kZXJpbmcnKTtcclxuICAgICAgICAkc2NvcGUuZ3REaXNwbGF5RGF0YSA9ICRzY29wZS5wYWdlc1skc2NvcGUuY3VycmVudFBhZ2VdO1xyXG4gICAgICAgIHBhZ2luYXRpb24oJHNjb3BlLnBhZ2VzLmxlbmd0aCwkc2NvcGUuY3VycmVudFBhZ2UpO1xyXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnZ3QtZmluaXNoZWQtZGF0YS1wcm9jZXNzaW5nJywkc2NvcGUuZ3RJZCk7XHJcbiAgICAgICAgICAgICRzY29wZS5ndEhhc0RhdGEgPSB0cnVlO1xyXG4gICAgICAgIH0sMjAwKTtcclxuICAgICAgICAvLyRzY29wZS4kZW1pdCgnZ3QtZmluaXNoZWQtcmVuZGVyaW5nJyk7XHJcbiAgICAgICAgLyppZigkc2NvcGUubG9hZGluZyl7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKCdzdGlsbCBsb29hZGluZycpO1xyXG4gICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LWZpbmlzaGVkLXJlbmRlcmluZycpO1xyXG4gICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICB9Ki9cclxuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBsaXN0ZW4gZm9yIHVwZGF0ZSB0YWJsZSBldmVudHNcclxuICAgICRzY29wZS4kb24oJ2d0LXVwZGF0ZS10YWJsZTonKyRzY29wZS5ndElkLGZ1bmN0aW9uKGV2ZW50LGFyZyl7XHJcbiAgICAgICAgY2hhbmdlRGF0YShhcmcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciBzZWFyY2ggZXZlbnRzXHJcbiAgICAkc2NvcGUuJG9uKCdndC1zZWFyY2gtdGFibGU6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgIHNlYXJjaFRlcm1zID0gYXJnO1xyXG4gICAgICAgIGFwcGx5RmlsdGVyKG1hcHBlZERhdGEuc2xpY2UoMCksYXJnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGxpc3RlbiBmb3IgZmlsdGVyIGV2ZW50c1xyXG4gICAgJHNjb3BlLiRvbignZ3QtZmlsdGVyLXRhYmxlOicrJHNjb3BlLmd0SWQsZnVuY3Rpb24oZXZlbnQsYXJnKXtcclxuICAgICAgICB0YWJsZUZpbHRlcnMgPSBhcmc7XHJcbiAgICAgICAgYXBwbHlGaWx0ZXIobWFwcGVkRGF0YS5zbGljZSgwKSxzZWFyY2hUZXJtcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBsaXN0ZW4gZm9yIHVwZGF0ZSB0YWJsZSBldmVudHNcclxuICAgICRzY29wZS4kb24oJ2d0LXVwZGF0ZS1zdHJ1Y3R1cmU6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgICRzY29wZS5ndEZpZWxkcyA9IGFyZy5maWVsZHM7XHJcbiAgICAgICAgJHNjb3BlLmd0U2V0dGluZ3MgPSBhcmcuc2V0dGluZ3M7XHJcbiAgICAgICAgZXh0ZW5kRmllbGREZWZpbml0aW9ucygpO1xyXG4gICAgICAgIHNlYXJjaENvbHVtbnMgPSAkZmlsdGVyKCdtYXAnKSgkZmlsdGVyKCdyZW1vdmVXaXRoJykoJHNjb3BlLmd0RmllbGRzLnNsaWNlKDApLHtzZWFyY2g6ZmFsc2V9KSwnb2JqZWN0S2V5Jyk7XHJcblxyXG4gICAgICAgIC8vIGlmIG5vIHNvcnRpbmcgaXMgYXBwbGllZCBvciBpZiBzb3J0aW5nIGlzIGZvcmNlZC4uLlxyXG4gICAgICAgIGlmKHNvcnRpbmcgPT09IGZhbHNlIHx8IGFyZy5mb3JjZVNvcnRpbmcgPT09IHRydWUpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIC4uLnNldCBzb3J0aW5nIG9yZGVyXHJcbiAgICAgICAgICAgIHNvcnRpbmcgPSAkZmlsdGVyKCdtYXAnKSgkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZ3RTZXR0aW5ncyx7c29ydDpcImFzYyBkZXNjXCJ9LGZ1bmN0aW9uKGV4cGVjdGVkLCBhY3R1YWwpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSA+IC0xO1xyXG4gICAgICAgICAgICB9KSxmdW5jdGlvbihzb3J0KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoc29ydC5zb3J0ID09PSAnZGVzYycgPyAnLSc6JycpICsgc29ydC5vYmplY3RLZXlcclxuICAgICAgICAgICAgfSk7IC8vIHJldHVybnMgYXJyYXkgY29udGFpbmluZyBzb3J0aW5nIGNyaXRlcmlhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgc29ydGluZyBzZXR0aW5nICdhc2MnIGFuZCAnZGVzYycgdG8gJ2VuYWJsZSdcclxuICAgICAgICAgICAgJGZpbHRlcignbWFwJykoJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3Mse3NvcnQ6XCJhc2MgZGVzY1wifSxmdW5jdGlvbihleHBlY3RlZCwgYWN0dWFsKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3R1YWwuaW5kZXhPZihleHBlY3RlZCkgPiAtMTtcclxuICAgICAgICAgICAgfSksZnVuY3Rpb24oc2V0dGluZyl7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nLnNvcnQgPSAnZW5hYmxlJztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgc2V0dGluZ3MgdG8gbWF0Y2ggc29ydGluZyBpbiB0YWJsZVxyXG4gICAgICAgICAgICAkZmlsdGVyKCdtYXAnKShzb3J0aW5nLGZ1bmN0aW9uKHNvcnRQcm9wZXJ0eSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc29ydCA9IHNvcnRQcm9wZXJ0eS5pbmRleE9mKCctJykgPT09IC0xID8gJ2FzYyc6J2Rlc2MnO1xyXG4gICAgICAgICAgICAgICAgc29ydFByb3BlcnR5ID0gc29ydFByb3BlcnR5LnJlcGxhY2UoJy0nLCcnKTtcclxuICAgICAgICAgICAgICAgICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndFNldHRpbmdzLCB7J29iamVjdEtleSc6c29ydFByb3BlcnR5fSx0cnVlKVswXS5zb3J0ID0gc29ydDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyBsaXN0ZW4gZm9yIHBhZ2luYXRpb24gbGVuZ3RoIGNoYW5nZVxyXG4gICAgJHNjb3BlLiRvbignZ3QtcGFnaW5hdGUtdGFibGU6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgICRzY29wZS5ndFJvd3MgPSBwYXJzZUludChhcmcpO1xyXG4gICAgICAgIGFwcGx5UGFnaW5hdGlvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciBleHBvcnQgZXZlbnRcclxuICAgICRzY29wZS4kb24oJ2d0LWV4cG9ydC1jc3Y6Jyskc2NvcGUuZ3RJZCxmdW5jdGlvbihldmVudCxhcmcpe1xyXG4gICAgICAgIGd0RXhwb3J0KGFyZyk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gY3JlYXRlIHBhZ2luYXRpb25cclxuICAgIHZhciBwYWdpbmF0aW9uID0gZnVuY3Rpb24odG90YWxQYWdlcywgY3VycmVudFBhZ2Upe1xyXG4gICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gW107XHJcblxyXG4gICAgICAgIC8vIGlmIHRvdGFsIHBhZ2VzIGVxdWFscyAwIGllLiBubyBkYXRhIGF2YWlsYWJsZVxyXG4gICAgICAgIGlmKHRvdGFsUGFnZXMgPT09IDAgKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnZ3QtdGFibGUtZmlsdGVyZWQnLCB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbDptYXBwZWREYXRhLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkOjAsXHJcbiAgICAgICAgICAgICAgICBzaG93aW5nRnJvbTowLFxyXG4gICAgICAgICAgICAgICAgc2hvd2luZ1RvOjAsXHJcbiAgICAgICAgICAgICAgICBwYWdlTGVuZ3RoOiRzY29wZS5ndFJvd3MsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTowLFxyXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZQYWdlczowXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiBsZXNzIHRoYW4gdHdvIHBhZ2VzXHJcbiAgICAgICAgaWYodG90YWxQYWdlcyA8IDIpe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnaW5hdGlvbiA9IFswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgbGVzcyB0aGFuIHRocmVlIHBhZ2VzXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzIDwgMyl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gWzAsMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGxlc3MgdGhhbiBmb3VyIHBhZ2VzXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzIDwgNCl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gWzAsMSwyXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgbGVzcyB0aGFuIGZpdmUgcGFnZXNcclxuICAgICAgICBlbHNlIGlmKHRvdGFsUGFnZXMgPCA1KXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSBbMCwxLDIsM107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGN1cnJlbnQgcGFnZSBpcyBvbmUgb2YgdGhlIGZvdXIgZmlyc3QgcGFnZXNcclxuICAgICAgICBlbHNlIGlmKGN1cnJlbnRQYWdlIDwgNCl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gWzAsMSwyLDMsNF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIG5leHQgdG8gbGFzdCBwYWdlXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzID4gY3VycmVudFBhZ2UrMSl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gW2N1cnJlbnRQYWdlLTEsY3VycmVudFBhZ2UsY3VycmVudFBhZ2UrMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGxhc3QgcGFnZVxyXG4gICAgICAgIGVsc2UgaWYodG90YWxQYWdlcyA9PT0gY3VycmVudFBhZ2UrMSl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gW2N1cnJlbnRQYWdlLTIsY3VycmVudFBhZ2UtMSxjdXJyZW50UGFnZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGN1cnJlbnQgcGFnZSBpcyBub3Qgb25lIG9mIHRoZSBmb3VyIGZpcnN0IHBhZ2VzXHJcbiAgICAgICAgZWxzZSBpZih0b3RhbFBhZ2VzLTQgPiBjdXJyZW50UGFnZSl7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0gW2N1cnJlbnRQYWdlLTEsY3VycmVudFBhZ2UsY3VycmVudFBhZ2UrMSwgY3VycmVudFBhZ2UrMl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ2d0LXRhYmxlLWZpbHRlcmVkJywge1xyXG4gICAgICAgICAgICB0b3RhbDptYXBwZWREYXRhLmxlbmd0aCxcclxuICAgICAgICAgICAgZmlsdGVyZWQ6ZmlsdGVyZWREYXRhLmxlbmd0aCxcclxuICAgICAgICAgICAgc2hvd2luZ0Zyb206JHNjb3BlLmN1cnJlbnRQYWdlKiRzY29wZS5ndFJvd3MrKCRzY29wZS5jdXJyZW50UGFnZSA+IDEgPyAwOjEpLFxyXG4gICAgICAgICAgICBzaG93aW5nVG86JHNjb3BlLmN1cnJlbnRQYWdlKiRzY29wZS5ndFJvd3MrJHNjb3BlLmd0RGlzcGxheURhdGEubGVuZ3RoLFxyXG4gICAgICAgICAgICBwYWdlTGVuZ3RoOiRzY29wZS5ndFJvd3MsXHJcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiRzY29wZS5jdXJyZW50UGFnZSxcclxuICAgICAgICAgICAgbnVtYmVyT2ZQYWdlczokc2NvcGUucGFnZXMubGVuZ3RoXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5uZXh0UGFnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRQYWdlICsrO1xyXG4gICAgICAgICAgICAkc2NvcGUuZ3REaXNwbGF5RGF0YSA9ICRzY29wZS5wYWdlc1skc2NvcGUuY3VycmVudFBhZ2VdO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uKCRzY29wZS5wYWdlcy5sZW5ndGgsJHNjb3BlLmN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdndC1zdGFydGVkLXJlbmRlcmluZycsJHNjb3BlLmd0SWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpO1xyXG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5wcmV2aW91c1BhZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UGFnZSAtLTtcclxuICAgICAgICAgICAgJHNjb3BlLmd0RGlzcGxheURhdGEgPSAkc2NvcGUucGFnZXNbJHNjb3BlLmN1cnJlbnRQYWdlXTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbigkc2NvcGUucGFnZXMubGVuZ3RoLCRzY29wZS5jdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnZ3Qtc3RhcnRlZC1yZW5kZXJpbmcnLCRzY29wZS5ndElkKTtcclxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyQkcmViaW5kOjpndFJlZnJlc2gnKTtcclxuICAgICAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLnNldFBhZ2UgPSBmdW5jdGlvbihwYWdlKXtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudFBhZ2UgPSBwYWdlO1xyXG4gICAgICAgICAgICAkc2NvcGUuZ3REaXNwbGF5RGF0YSA9ICRzY29wZS5wYWdlc1skc2NvcGUuY3VycmVudFBhZ2VdO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uKCRzY29wZS5wYWdlcy5sZW5ndGgsJHNjb3BlLmN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdndC1zdGFydGVkLXJlbmRlcmluZycsJHNjb3BlLmd0SWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJCRyZWJpbmQ6Omd0UmVmcmVzaCcpO1xyXG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gc29ydCBmdW5jdGlvblxyXG4gICAgJHNjb3BlLnNvcnQgPSBmdW5jdGlvbigkZXZlbnQscHJvcGVydHkpe1xyXG4gICAgICAgIHZhciBjdHJsS2V5ID0gJGV2ZW50LmN0cmxLZXkgfHwgJGV2ZW50Lm1ldGFLZXk7XHJcblxyXG4gICAgICAgIC8vIHJlc2V0IHNvcnRpbmcgdW5sZXNzIGN0cmwga2V5IG9yIG1ldGEga2V5IChtYWMpIGlzIHByZXNzZWQgd2hpbGUgc29ydGluZ1xyXG4gICAgICAgIGlmKCFjdHJsS2V5ICYmIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyAkc2NvcGUuZ3RTZXR0aW5ncy5sZW5ndGggPiBpOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmcgPSAkc2NvcGUuZ3RTZXR0aW5nc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmKHNldHRpbmcub2JqZWN0S2V5ICE9PSBwcm9wZXJ0eSAmJiBzZXR0aW5nLnNvcnQgPT09ICdhc2MnIHx8IHNldHRpbmcub2JqZWN0S2V5ICE9PSBwcm9wZXJ0eSAmJiBzZXR0aW5nLnNvcnQgPT09ICdkZXNjJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmd0U2V0dGluZ3NbaV0uc29ydCA9ICdlbmFibGUnO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvcGVydHkpe1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgJHNjb3BlLmd0U2V0dGluZ3MubGVuZ3RoID4gaTsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5nID0gJHNjb3BlLmd0U2V0dGluZ3NbaV07XHJcbiAgICAgICAgICAgICAgICBpZihzZXR0aW5nLm9iamVjdEtleSA9PT0gcHJvcGVydHkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3J0ID0gc2V0dGluZy5zb3J0O1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc29ydCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2FibGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VuYWJsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3RTZXR0aW5nc1tpXS5zb3J0ID0gJ2FzYyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXNjJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ndFNldHRpbmdzW2ldLnNvcnQgPSAnZGVzYyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVzYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3RTZXR0aW5nc1tpXS5zb3J0ID0gJ2VuYWJsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBzb3J0aW5nID0gJGZpbHRlcignbWFwJykoJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3Mse3NvcnQ6XCJhc2MgZGVzY1wifSxmdW5jdGlvbihleHBlY3RlZCwgYWN0dWFsKXtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSA+IC0xO1xyXG4gICAgICAgIH0pLGZ1bmN0aW9uKHNvcnQpe1xyXG4gICAgICAgICAgICByZXR1cm4gKHNvcnQuc29ydCA9PT0gJ2Rlc2MnID8gJy0nOicnKSArIHNvcnQub2JqZWN0S2V5O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhcHBseVNvcnQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gaWYgdGFibGUgaGFzIGRhdGEgdXBvbiBpbml0aWFsaXphdGlvbi4uLlxyXG4gICAgaWYoJHNjb3BlLmd0RGF0YSl7XHJcbiAgICAgICAgaW5pdFRhYmxlKCRzY29wZS5ndERhdGEpOyAvLyBpbml0aWFsaXplIHRhYmxlIHdpdGggZGF0YSBwYXNzZWQgdG8gZGlyZWN0aXZlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXhwb3J0IGZ1bmN0aW9uXHJcbiAgICB2YXIgZ3RFeHBvcnQgPSBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgICAgICBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnPyB7fTpvcHRpb25zO1xyXG5cclxuICAgICAgICB2YXIgZmlsZU5hbWUgPSB0eXBlb2Ygb3B0aW9ucy5maWxlTmFtZSA9PT0gJ3VuZGVmaW5lZCcgPyAnZXhwb3J0JzpvcHRpb25zLmZpbGVOYW1lO1xyXG5cclxuICAgICAgICAvLyBmaXggZXhwb3J0IGRhdGFcclxuICAgICAgICB2YXIgZXhwb3J0RGF0YSA9IEpTT04ucGFyc2UoYW5ndWxhci50b0pzb24oc29ydGVkRGF0YS5zbGljZSgwKSkpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwb3J0RGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBleHBvcnREYXRhW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcm93KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRTZXR0aW5nID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0RmllbGRzLCB7b2JqZWN0S2V5OiBrZXl9LCB0cnVlKVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVTZXR0aW5nID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmd0U2V0dGluZ3MsIHtvYmplY3RLZXk6IGtleX0sIHRydWUpWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXhwb3J0TWV0aG9kID0gZmllbGRTZXR0aW5nLmV4cG9ydDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXhwb3J0IG1ldGhvZCBpcyBkZWNsYXJlZCBhbmQgaXMgYSBmdW5jdGlvbi4uLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHBvcnRNZXRob2QgJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGV4cG9ydE1ldGhvZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4ucmVwbGFjZSBleHBvcnQgZGF0YSByb3cgdmFsdWUgd2l0aCB2YWx1ZSByZXR1cm5lZCBieSBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwb3J0VmFsdWUgPSBleHBvcnRNZXRob2Qocm93LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dba2V5XSA9IGZpZWxkU2V0dGluZy5leHBvcnRFc2NhcGVTdHJpbmcgPT09IGZhbHNlID8gZXhwb3J0VmFsdWUgOiAkZmlsdGVyKCdlc2NhcGVDc3ZTdHJpbmcnKShleHBvcnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93W2tleV0gPSBmaWVsZFNldHRpbmcuZXhwb3J0RXNjYXBlU3RyaW5nID09PSBmYWxzZSA/IHJvd1trZXldIDogJGZpbHRlcignZXNjYXBlQ3N2U3RyaW5nJykocm93W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXhwb3J0Q29sdW1ucyBhcmUgcGFzc2VkIHdpdGggb3B0aW9ucy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5leHBvcnRDb2x1bW5zICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5zZXQgdmFsdWUgdG8gbnVsbCBpLmUuIGRvbid0IGV4cG9ydCBjb2x1bW4gaWYgaXQncyBub3QgaW4gdGhlIGV4cG9ydENvbHVtbnMgYXJyYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXhwb3J0Q29sdW1ucy5pbmRleE9mKHRhYmxlU2V0dGluZy5vYmplY3RLZXkpPT09LTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93W2tleV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGV4cG9ydCBpcyBzZXQgdG8gZmFsc2UgZm9yIGZpZWxkLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhYmxlU2V0dGluZy5leHBvcnQgIT09ICd1bmRlZmluZWQnICYmIHRhYmxlU2V0dGluZy5leHBvcnQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLnNldCB2YWx1ZSB0byBudWxsIGkuZS4gZG9uJ3QgZXhwb3J0IGNvbHVtblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dba2V5XSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkZWNsYXJlIGV4cG9ydCBkYXRhXHJcbiAgICAgICAgdmFyIGRhdGEgPSBleHBvcnREYXRhOy8vSlNPTi5wYXJzZShhbmd1bGFyLnRvSnNvbihzb3J0ZWREYXRhLnNsaWNlKDApKSk7XHJcblxyXG4gICAgICAgIC8vIGlmIGV4cG9ydENvbHVtbnMgYXJlIHBhc3NlZCB3aXRoIG9wdGlvbnMuLi5cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZXhwb3J0Q29sdW1ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIC4uLmdldCBmaWVsZCBzZXR0aW5ncyBmb3IgYWxsIG9iamVjdEtleXMgaW4gZXhwb3J0Q29sdW1ucyBhcnJheVxyXG4gICAgICAgICAgICB2YXIgZXhwb3J0RmllbGRzID0gJGZpbHRlcignbWFwJykob3B0aW9ucy5leHBvcnRDb2x1bW5zLCBmdW5jdGlvbihvYmplY3RLZXkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5ndEZpZWxkcy5zbGljZSgwKSwge29iamVjdEtleTpvYmplY3RLZXl9LCB0cnVlKVswXTtcclxuICAgICAgICAgICAgfSApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlbHNlIGV4cG9ydCBhbGwgY29sdW1ucyBleGNlcHQgY29sdW1ucyBub3QgbWFya2VkIGZvciBleHBvcnQgaS5lLiBoYXMgZmllbGQgc2V0dGluZyBleHBvcnQ6ZmFsc2UgKGFkZGVkIHRvIGd0RmllbGRcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGV4cG9ydEZpZWxkcyA9ICRmaWx0ZXIoJ29yZGVyQnknKSgkZmlsdGVyKCdyZW1vdmVXaXRoJykoJHNjb3BlLmd0RmllbGRzLHtleHBvcnRGaWVsZDpmYWxzZX0pLFwiY29sdW1uT3JkZXJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaGVhZGVycyA9IHtcclxuICAgICAgICAgICAgZmllbGRTZXA6IHR5cGVvZiBvcHRpb25zLmZpZWxkU2VwID09PSAndW5kZWZpbmVkJyA/IFwiO1wiOm9wdGlvbnMuZmllbGRTZXAsXHJcbiAgICAgICAgICAgIGhlYWRlcjogJGZpbHRlcignbWFwJykoZXhwb3J0RmllbGRzLFwibmFtZVwiKSwgLy8gZ2V0IGhlYWRlcnMgYnkgY29sdW1uIG9yZGVyXHJcbiAgICAgICAgICAgIHR4dERlbGltOiB0eXBlb2Ygb3B0aW9ucy50eHREZWxpbSA9PT0gJ3VuZGVmaW5lZCcgPyAnXCInOm9wdGlvbnMudHh0RGVsaW0sXHJcbiAgICAgICAgICAgIGNvbHVtbk9yZGVyOiRmaWx0ZXIoJ21hcCcpKGV4cG9ydEZpZWxkcyxcIm9iamVjdEtleVwiKSwgLy8gZ2V0IGNvbHVtbiBvcmRlclxyXG4gICAgICAgICAgICBkZWNpbWFsU2VwOnR5cGVvZiBvcHRpb25zLmRlY2ltYWxTZXAgPT09ICd1bmRlZmluZWQnID8gJywnOm9wdGlvbnMuZGVjaW1hbFNlcCxcclxuICAgICAgICAgICAgYWRkQnl0ZU9yZGVyTWFya2VyOnR5cGVvZiBvcHRpb25zLmFkZEJvbSA9PT0gJ3VuZGVmaW5lZCcsXHJcbiAgICAgICAgICAgIGNoYXJzZXQ6dHlwZW9mIG9wdGlvbnMuY2hhcnNldCA9PT0gJ3VuZGVmaW5lZCcgPyAndXRmLTgnOm9wdGlvbnMuY2hhcnNldCxcclxuICAgICAgICAgICAgcXVvdGVTdHJpbmdzOiB0eXBlb2Ygb3B0aW9ucy5xdW90ZVN0cmluZ3MgPT09ICd1bmRlZmluZWQnID8gZmFsc2UgOiBvcHRpb25zLnF1b3RlU3RyaW5nc1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENTVi5zdHJpbmdpZnkoZGF0YSwgaGVhZGVycykudGhlbihmdW5jdGlvbihyZXN1bHQpe1xyXG5cclxuICAgICAgICAgICAgdmFyIGJsb2I7XHJcblxyXG4gICAgICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XHJcbiAgICAgICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW3Jlc3VsdF0sIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQvY3N2O2NoYXJzZXQ9dXRmLTg7XCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgJ2V4cG9ydC5jc3YnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgbm90IGEgZnVsbHkgd29ya2luZyBzb2x1dGlvbiwgc29tZSB0YWdzICh0ZXggPEJPRFk+KSBzaG93IHVwIGluIGV4Y2VsIHRvZ2V0aGVyIHdpdGggdGhlIGNvcnJlY3QgZGF0YS5cclxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYWRkZWQgYW4gYWxlcnQgbWVzc2FnZSB0byB1cmdlIHVzZXJzIHRvIHVzZSBhbm90aGVyIGJyb3dzZXIgb3IgdXBkYXRlIHRoZWlyIGJyb3dzZXIgZm9yIGEgYmV0dGVyIGxvb2tpbmcgZXhwb3J0LlxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IuYXBwTmFtZSA9PT0gJ01pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoXCJZb3UncmUgdXNpbmcgYW4gb2xkIHZlcnNpb24gb2YgSW50ZXJuZXQgRXhwbG9yZXIgYW5kIHRoZSBleHBvcnQgbWlnaHQgdGhlcmVmb3JlIGhhdmUgdGhlIHdyb25nIGZvcm1hdCwgcGxlYXNlIHVwZGF0ZSB5b3VyIGJyb3dzZXIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZnJhbWUgPSBhbmd1bGFyLmVsZW1lbnQoJzxpZnJhbWU+PC9pZnJhbWU+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lWzBdLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnYm9keScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGlmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlmcmFtZVswXS5jb250ZW50RG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jID0gaWZyYW1lWzBdLmNvbnRlbnREb2N1bWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoaWZyYW1lWzBdLmNvbnRlbnRXaW5kb3cpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MgPSBpZnJhbWVbMF0uY29udGVudFdpbmRvdy5kb2N1bWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLm9wZW4oXCJ0ZXh0L3BsYWluXCIsIFwicmVwbGFjZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2Mud3JpdGUoW3Jlc3VsdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvYy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWZyYW1lLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLmV4ZWNDb21tYW5kKCdTYXZlQXMnLCB0cnVlLCBmaWxlTmFtZSsnLmNzdicpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFtyZXN1bHRdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC9jc3Y7Y2hhcnNldD11dGYtODtcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZExpbmsgPSBhbmd1bGFyLmVsZW1lbnQoJzxhPjwvYT4nKTtcclxuICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsuYXR0cignaHJlZicsIHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcclxuICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsuYXR0cignZG93bmxvYWQnLGZpbGVOYW1lKycuY3N2Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGVuZCBkb3dubG9hZCBsaW5rIHRvIGJvZHkgYW5kIGNsaWNrIGl0LCBvbmNlIGNsaWNrZWQgcmVtb3ZlIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoZG93bmxvYWRMaW5rKTtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rWzBdLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluay5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG59KS5kaXJlY3RpdmUoJ2d0Um93JywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICBzY29wZTpmYWxzZSxcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGZuKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLnRvZ2dsZVJvdyA9IGZ1bmN0aW9uKGNvbnRlbnQsY29sdW1ucyxyb3csa2V5KXtcclxuICAgICAgICAgICAgICAgIGlmKCFzY29wZS5yb3cuaXNPcGVuKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gJGNvbXBpbGUoJzx0ciBjbGFzcz1cImV4cGFuZGVkLXJvd1wiPjx0ZCBjb2xzcGFuPVwiJytjb2x1bW5zKydcIj4nK2NvbnRlbnQrJzwvdGQ+PC90cj4nKShzY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZnRlcihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJvdy5pc09wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHQoKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5yb3cuaXNPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCckJHJlYmluZDo6Z3RSZWZyZXNoJyk7IC8vIHVwZGF0ZSBiaW5kaW5nc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pLmRpcmVjdGl2ZSgnZ3RFdmVudCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZm4pIHtcclxuICAgICAgICAgICAgaWYgKHNjb3BlLiRsYXN0KXtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCdndC1maW5pc2hlZC1yZW5kZXJpbmcnLHNjb3BlLmd0SWQpO1xyXG4gICAgICAgICAgICAgICAgLy9zY29wZS4kcGFyZW50LiRwYXJlbnQubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSkuZGlyZWN0aXZlKCdndFJlbmRlcicsIGZ1bmN0aW9uKCRjb21waWxlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgc2NvcGU6e1xyXG4gICAgICAgICAgICByb3c6Jz1yb3dEYXRhJyxcclxuICAgICAgICAgICAgc2V0dGluZ3M6Jz1maWVsZFNldHRpbmdzJyxcclxuICAgICAgICAgICAgY29tcGlsZTonPWd0Q29tcGlsZSdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZm4pIHtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IHNjb3BlLnJvdztcclxuICAgICAgICAgICAgdmFyIGtleSA9IHNjb3BlLnNldHRpbmdzLm9iamVjdEtleTtcclxuICAgICAgICAgICAgdmFyIG91dHB1dDtcclxuXHJcbiAgICAgICAgICAgIHZhciByZW5kZXJNZXRob2QgPSBzY29wZS5zZXR0aW5ncy5yZW5kZXI7XHJcbiAgICAgICAgICAgIGlmKHJlbmRlck1ldGhvZCAmJiBhbmd1bGFyLmlzRnVuY3Rpb24ocmVuZGVyTWV0aG9kKSl7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSByZW5kZXJNZXRob2Qocm93LCBrZXkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gcm93W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoc2NvcGUuY29tcGlsZSAmJiBzY29wZS5jb21waWxlICE9PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWNsYXJlIGVsZW1lbnQgc2NvcGVcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50U2NvcGUgPSBzY29wZS5jb21waWxlICE9PSB0cnVlICYmIHNjb3BlLmNvbXBpbGUuJHdhdGNoID8gc2NvcGUuY29tcGlsZTpzY29wZS4kcGFyZW50OyAvLyB1c2Ugc2FtZSBzY29wZSBhcyByb3cgdW5sZXNzIGEgdmFsaWQgc2NvcGUgaXMgcGFzc2VkXHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAkY29tcGlsZShvdXRwdXQpKGVsZW1lbnRTY29wZSk7IC8vIGNvbXBpbGVcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKG91dHB1dCk7IC8vIGFkZCBodG1sXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmlubmVySFRNTCA9IG91dHB1dDsgLy8gYWRkIGh0bWxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pLmZpbHRlcignZ2V0UHJvcGVydHknLGZ1bmN0aW9uKCRmaWx0ZXIpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNldHRpbmdzLCBrZXkscHJvcGVydHkpe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coa2V5KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJGZpbHRlcignZmlsdGVyJykoc2V0dGluZ3Mse29iamVjdEtleTprZXl9LHRydWUpWzBdW3Byb3BlcnR5XTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2Fubm90IHJlYWQgcHJvcGVydHk6IFwiJyArIHByb3BlcnR5ICsgJ1wiIG9uIG1pc3Npbmcga2V5OiBcIicgKyBrZXkgKyAnXCIgaW4gc2V0dGluZ3MuJywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG59KS5maWx0ZXIoJ3NlYXJjaFJvdycsZnVuY3Rpb24oJGZpbHRlciwkaW50ZXJwb2xhdGUpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LGZpZWxkcyxzZWFyY2hUZXJtcyxmaWVsZHNTZXR0aW5ncyl7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhhcnJheSxmaWVsZHMsZmllbGRzU2V0dGluZ3MpO1xyXG4gICAgICAgIHZhciBzZWFyY2ggPSB7fTtcclxuICAgICAgICBmb3IodmFyIGsgPSAwOyBrIDwgZmllbGRzU2V0dGluZ3MubGVuZ3RoO2srKyl7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYXJyYXlba10pO1xyXG4gICAgICAgICAgICB2YXIgZmllbGRTZXR0aW5nID0gZmllbGRzU2V0dGluZ3Nba107XHJcbiAgICAgICAgICAgIGlmKGZpZWxkU2V0dGluZy5zZWFyY2ggJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGZpZWxkU2V0dGluZy5zZWFyY2gpKXtcclxuICAgICAgICAgICAgICAgIHZhciBvYmplY3RLZXkgPSBmaWVsZFNldHRpbmcub2JqZWN0S2V5O1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoW29iamVjdEtleV0gPSBmaWVsZFNldHRpbmcuc2VhcmNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighc2VhcmNoVGVybXMgfHwgc2VhcmNoVGVybXMucmVwbGFjZSgvXCIvZyxcIlwiKS5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmaWx0ZXJlZEFycmF5ID0gW107XHJcbiAgICAgICAgc2VhcmNoVGVybXMgPSB0eXBlb2Ygc2VhcmNoVGVybXMgPT09ICd1bmRlZmluZWQnID8gJyc6c2VhcmNoVGVybXM7XHJcbiAgICAgICAgdmFyIHNlYXJjaFRlcm1zQXJyYXkgPSBzZWFyY2hUZXJtcy50b0xvd2VyQ2FzZSgpLm1hdGNoKC9cIlteXCJdK1wifFtcXHddKy9nKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBhcnJheVtpXTtcclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICB2YXIgaiA9IDA7XHJcbiAgICAgICAgICAgICRmaWx0ZXIoJ21hcCcpKGZpZWxkcyxmdW5jdGlvbihmaWVsZCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gaiA9PT0gMCA/ICcnOicgJiAnO1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9IHNlYXJjaFtmaWVsZF0gPyBzZXBhcmF0b3Irc2VhcmNoW2ZpZWxkXShyb3csZmllbGQpOnNlcGFyYXRvcityb3dbZmllbGRdO1xyXG4gICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc2VhcmNoVGVybXNBcnJheS5sZW5ndGg7aysrKXtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXJtID0gc2VhcmNoVGVybXNBcnJheVtrXS5yZXBsYWNlKC9cIi9nLCcnKTtcclxuICAgICAgICAgICAgICAgIG1hdGNoID0gc3RyaW5nLmluZGV4T2YodGVybSkgIT09IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCFtYXRjaCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbWF0Y2hcclxuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBtYXRjaDtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYobWF0Y2gpe1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncHVzaCcscm93KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkucHVzaChyb3cpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkQXJyYXk7XHJcbiAgICB9XHJcbn0pLmZpbHRlcignY2FtZWxUb0Rhc2gnLGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKXt0cnl7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKCAvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJyApLnRvTG93ZXJDYXNlKCl9IGNhdGNoKGVycm9yKXtjb25zb2xlLmxvZygnbm90aGluZyB0byByZXBsYWNlOicsIGVycm9yKX07XHJcbiAgICB9XHJcbn0pLmZpbHRlcignZ3RTb3J0JyxmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBwcm9wZXJ0eUFycmF5KXtcclxuICAgICAgICBmdW5jdGlvbiBkeW5hbWljU29ydChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICB2YXIgc29ydE9yZGVyID0gMTtcclxuICAgICAgICAgICAgaWYocHJvcGVydHlbMF0gPT09IFwiLVwiKSB7XHJcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXIgPSAtMTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcHJvcGVydHkuc3Vic3RyKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSxiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gKGFbcHJvcGVydHldIDwgYltwcm9wZXJ0eV0pID8gLTEgOiAoYVtwcm9wZXJ0eV0gPiBiW3Byb3BlcnR5XSkgPyAxIDogMDtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgKiBzb3J0T3JkZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZHluYW1pY1NvcnRNdWx0aXBsZShwcm9wZXJ0eUFycmF5KSB7XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAqIHNhdmUgdGhlIGFyZ3VtZW50cyBvYmplY3QgYXMgaXQgd2lsbCBiZSBvdmVyd3JpdHRlblxyXG4gICAgICAgICAgICAgKiBub3RlIHRoYXQgYXJndW1lbnRzIG9iamVjdCBpcyBhbiBhcnJheS1saWtlIG9iamVjdFxyXG4gICAgICAgICAgICAgKiBjb25zaXN0aW5nIG9mIHRoZSBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyB0byBzb3J0IGJ5XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBwcm9wZXJ0eUFycmF5OyAvL2FyZ3VtZW50cztcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmoxLCBvYmoyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsIHJlc3VsdCA9IDAsIG51bWJlck9mUHJvcGVydGllcyA9IHByb3BzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIC8qIHRyeSBnZXR0aW5nIGEgZGlmZmVyZW50IHJlc3VsdCBmcm9tIDAgKGVxdWFsKVxyXG4gICAgICAgICAgICAgICAgICogYXMgbG9uZyBhcyB3ZSBoYXZlIGV4dHJhIHByb3BlcnRpZXMgdG8gY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB3aGlsZShyZXN1bHQgPT09IDAgJiYgaSA8IG51bWJlck9mUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGR5bmFtaWNTb3J0KHByb3BzW2ldKShvYmoxLCBvYmoyKTtcclxuICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheS5zb3J0KGR5bmFtaWNTb3J0TXVsdGlwbGUocHJvcGVydHlBcnJheSkpO1xyXG4gICAgfVxyXG59KS5maWx0ZXIoJ2VzY2FwZUNzdlN0cmluZycsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KXtcclxuICAgICAgICByZXR1cm4gL14oXFw9fFxcQHxcXCssXFwtKS4qL2cudGVzdChpbnB1dCkgPyAnXFwnJytpbnB1dCA6IGlucHV0O1xyXG4gICAgfVxyXG59KTtcclxuIiwiIWZ1bmN0aW9uKGUpe3RyeXtlPWFuZ3VsYXIubW9kdWxlKFwiYW5ndWxhci5nZW5lcmljLnRhYmxlXCIpfWNhdGNoKHQpe2U9YW5ndWxhci5tb2R1bGUoXCJhbmd1bGFyLmdlbmVyaWMudGFibGVcIixbXSl9ZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIixmdW5jdGlvbihlKXtlLnB1dChcImdlbmVyaWMtdGFibGUvZGlyZWN0aXZlL2dlbmVyaWMtdGFibGUvZ2VuZXJpYy10YWJsZS5odG1sXCIsJzxkaXYgY2xhc3M9XCJnZW5lcmljLXRhYmxlXCI+PGRpdiBjbGFzcz1cImd0LXdyYXBwZXJcIj48dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1zb3J0YWJsZVwiIG5nLWlmPVwiZ3RIYXNEYXRhXCIgbmctY2xhc3M9XCI6Z3RSZWZyZXNoOmd0Q2xhc3Nlc1wiPjx0aGVhZD48dHIgbmctY2xhc3M9XCI6Omd0Um93VHJhbnNpdGlvbiA/IFxcJ2ZhZGUtaW4gYW5pbWF0ZVxcJzpcXCdcXCdcIj48dGggbmctcmVwZWF0PVwiZmllbGQgaW4gOjpndEZpZWxkcyB8IG9yZGVyQnk6XFwnY29sdW1uT3JkZXJcXCcgdHJhY2sgYnkgZmllbGQub2JqZWN0S2V5XCIgbmctc2hvdz1cIjpndFJlZnJlc2g6Z3RTZXR0aW5ncyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCd2aXNpYmxlXFwnXCIgbmctY2xhc3M9XCI6Z3RSZWZyZXNoOltmaWVsZC5jbGFzc05hbWVzLCAoZmllbGQub2JqZWN0S2V5IHwgY2FtZWxUb0Rhc2gpICsgXFwnLWNvbHVtblxcJywgXFwnc29ydC1cXCcrKGd0U2V0dGluZ3MgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwnc29ydFxcJyldXCI+PHNwYW4gbmctY2xpY2s9XCI6Z3RSZWZyZXNoOihndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpID09PSBcXCdlbmFibGVcXCcgPyBzb3J0KCRldmVudCxmaWVsZC5vYmplY3RLZXkpOihndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpID09PSBcXCdhc2NcXCcgPyBzb3J0KCRldmVudCxmaWVsZC5vYmplY3RLZXkpOihndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3NvcnRcXCcpID09PSBcXCdkZXNjXFwnID8gc29ydCgkZXZlbnQsZmllbGQub2JqZWN0S2V5KTpcXCdcXCdcIj57ezo6ZmllbGQubmFtZX19PC9zcGFuPjwvdGg+PC90cj48dHIgbmctaWY9XCI6Z3RSZWZyZXNoOmd0VG90YWxzXCIgbmctY2xhc3M9XCI6Omd0Um93VHJhbnNpdGlvbiA/IFxcJ2ZhZGUtaW4gYW5pbWF0ZVxcJzpcXCdcXCdcIj48dGQgbmctcmVwZWF0PVwiZmllbGQgaW4gOjpndEZpZWxkcyB8IG9yZGVyQnk6XFwnY29sdW1uT3JkZXJcXCcgdHJhY2sgYnkgZmllbGQub2JqZWN0S2V5XCIgY2xhc3M9XCJ0b3RhbC1jb2x1bW5cIiBuZy1zaG93PVwiOmd0UmVmcmVzaDpndFNldHRpbmdzIHwgZ2V0UHJvcGVydHk6ZmllbGQub2JqZWN0S2V5OlxcJ3Zpc2libGVcXCdcIiBuZy1jbGFzcz1cIjo6WyhndEZpZWxkcyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCdjbGFzc05hbWVzXFwnKSwgKGZpZWxkLm9iamVjdEtleSB8IGNhbWVsVG9EYXNoKSArIFxcJy1jb2x1bW5cXCddXCIgZmllbGQtc2V0dGluZ3M9XCI6OmZpZWxkXCIgZ3QtcmVuZGVyPVwiXCIgcm93LWRhdGE9XCI6Omd0VG90YWxzXCIgZ3QtY29tcGlsZT1cIjo6ZmllbGQuY29tcGlsZVwiPjwvdGQ+PC90cj48L3RoZWFkPjx0Ym9keT48dHIgZ3Qtcm93PVwiXCIgbmctcmVwZWF0PVwicm93IGluIDpndFJlZnJlc2g6Z3REaXNwbGF5RGF0YSB8IGxpbWl0VG86IGRpc3BsYXlSb3dzXCIgZ3QtZXZlbnQ9XCJcIiBuZy1jbGFzcz1cIjpndFJlZnJlc2g6W2d0Um93VHJhbnNpdGlvbiA/IFxcJ2ZhZGUtaW4gYW5pbWF0ZVxcJzpcXCdcXCcscm93LmlzT3BlbiA/IFxcJ3Jvdy1vcGVuXFwnOlxcJ1xcJywgJGluZGV4ICUgMiA9PSAwID8gXFwncm93LW9kZFxcJzpcXCdyb3ctZXZlblxcJ11cIj48dGQgbmctcmVwZWF0PVwiZmllbGQgaW4gOmd0UmVmcmVzaDpndEZpZWxkcyB8IG9yZGVyQnk6XFwnY29sdW1uT3JkZXJcXCcgdHJhY2sgYnkgZmllbGQub2JqZWN0S2V5XCIgbmctc2hvdz1cIjpndFJlZnJlc2g6Z3RTZXR0aW5ncyB8IGdldFByb3BlcnR5OmZpZWxkLm9iamVjdEtleTpcXCd2aXNpYmxlXFwnXCIgbmctY2xhc3M9XCI6OlsoZ3RGaWVsZHMgfCBnZXRQcm9wZXJ0eTpmaWVsZC5vYmplY3RLZXk6XFwnY2xhc3NOYW1lc1xcJyksIChmaWVsZC5vYmplY3RLZXkgfCBjYW1lbFRvRGFzaCkgKyBcXCctY29sdW1uXFwnXVwiPjxzcGFuIG5nLWNsYXNzPVwiOjpmaWVsZC5jbGljayA/IFxcJ2d0LWNsaWNrLWVuYWJsZWRcXCc6XFwnXFwnXCIgZmllbGQtc2V0dGluZ3M9XCI6OmZpZWxkXCIgZ3QtcmVuZGVyPVwiXCIgcm93LWRhdGE9XCI6OnJvd1wiIGd0LWNvbXBpbGU9XCI6OmZpZWxkLmNvbXBpbGVcIiBuZy1jbGljaz1cIjpndFJlZnJlc2g6IWZpZWxkLmNsaWNrIHx8IGZpZWxkLmNsaWNrKHJvdyk7IWZpZWxkLmV4cGFuZCB8fCB0b2dnbGVSb3coZmllbGQuZXhwYW5kLChndFNldHRpbmdzIHwgZmlsdGVyOntcXCd2aXNpYmxlXFwnOnRydWV9OnRydWUpLmxlbmd0aCxyb3csZmllbGQub2JqZWN0S2V5KTtcIj48L3NwYW4+PC90ZD48L3RyPjwvdGJvZHk+PHRyIG5nLWlmPVwiOmd0UmVmcmVzaDpwYWdpbmF0aW9uID09PSBmYWxzZVwiPjx0ZCBjbGFzcz1cImd0LW5vLWRhdGFcIiBjb2xzcGFuPVwie3s6Z3RSZWZyZXNoOihndFNldHRpbmdzIHwgZmlsdGVyOntcXCd2aXNpYmxlXFwnOnRydWV9OnRydWUpLmxlbmd0aH19XCI+e3s6Omd0Tm9EYXRhVHh0fX08L3RkPjwvdHI+PC90YWJsZT48L2Rpdj48ZGl2IGNsYXNzPVwiZ3QtcGFnaW5hdGlvbiB0ZXh0LWNlbnRlclwiIG5nLWlmPVwiOmd0UmVmcmVzaDpndFBhZ2luYXRpb24gPT09IHRydWUgJiYgcGFnaW5hdGlvbiAhPT0gZmFsc2VcIj48dWwgY2xhc3M9XCJwYWdpbmF0aW9uXCI+PGxpIG5nLWNsYXNzPVwiOmd0UmVmcmVzaDp7ZGlzYWJsZWQ6IGN1cnJlbnRQYWdlID09PSAwfVwiIG5nLXNob3c9XCJjdXJyZW50UGFnZSAhPT0gMFwiPjxidXR0b24gY2xhc3M9XCJidG4tbGluayBsaW5rXCIgbmctY2xpY2s9XCJwcmV2aW91c1BhZ2UoKVwiIHRyYW5zbGF0ZT1cIkFMTC5HRU5FUkFMI1BBR0lOQVRJT05fUFJFVklPVVMjQlVUVE9OXCIgbmctZGlzYWJsZWQ9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlID09PSAwXCI+JmxhcXVvOyBQcmV2PC9idXR0b24+PC9saT48bGkgbmctc2hvdz1cIjpndFJlZnJlc2g6Y3VycmVudFBhZ2UgPiAzXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bi1saW5rIGxpbmtcIiBuZy1jbGljaz1cInNldFBhZ2UoMClcIj4xPC9idXR0b24+PHNtYWxsPiZoZWxsaXA7PC9zbWFsbD48L2xpPjxsaSBzdHlsZT1cImRpc3BsYXk6IGlubGluZTtwYWRkaW5nOiAwIDVweDtcIiBuZy1yZXBlYXQ9XCJwYWdlIGluIDpndFJlZnJlc2g6cGFnaW5hdGlvblwiIG5nLWNsYXNzPVwiOmd0UmVmcmVzaDpwYWdlID09PSBjdXJyZW50UGFnZSA/IFxcJ2FjdGl2ZVxcJzpcXCdcXCdcIj48YnV0dG9uIGNsYXNzPVwiYnRuLWxpbmsgbGlua1wiIG5nLWNsaWNrPVwic2V0UGFnZShwYWdlKVwiPnt7cGFnZSsxfX08L2J1dHRvbj48L2xpPjxsaSBuZy1zaG93PVwiOmd0UmVmcmVzaDpjdXJyZW50UGFnZSArMSA8IHBhZ2VzLmxlbmd0aC0xICYmIHBhZ2VzLmxlbmd0aCA+IDRcIj48c21hbGwgbmctc2hvdz1cIjpndFJlZnJlc2g6Y3VycmVudFBhZ2UgKyAzIDwgcGFnZXMubGVuZ3RoXCI+JmhlbGxpcDs8L3NtYWxsPjxidXR0b24gY2xhc3M9XCJidG4tbGluayBsaW5rXCIgbmctY2xpY2s9XCJzZXRQYWdlKHBhZ2VzLmxlbmd0aC0xKVwiPnt7cGFnZXMubGVuZ3RofX08L2J1dHRvbj48L2xpPjxsaSBuZy1jbGFzcz1cIjpndFJlZnJlc2g6e2Rpc2FibGVkOiBjdXJyZW50UGFnZSA9PSBwYWdlcy5sZW5ndGh9XCIgbmctc2hvdz1cIjpndFJlZnJlc2g6Y3VycmVudFBhZ2UrMSAhPT0gcGFnZXMubGVuZ3RoXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bi1saW5rIGxpbmtcIiBuZy1jbGljaz1cIm5leHRQYWdlKClcIiB0cmFuc2xhdGU9XCJBTEwuR0VORVJBTCNQQUdJTkFUSU9OX05FWFQjQlVUVE9OXCIgbmctZGlzYWJsZWQ9XCI6Z3RSZWZyZXNoOmN1cnJlbnRQYWdlKzEgPT09IHBhZ2VzLmxlbmd0aFwiPk5leHQgJnJhcXVvOzwvYnV0dG9uPjwvbGk+PC91bD48L2Rpdj48L2Rpdj4nKX1dKX0oKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
